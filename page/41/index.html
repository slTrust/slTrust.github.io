<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>Almost</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Almost">
<meta property="og:url" content="http://yoursite.com/page/41/index.html">
<meta property="og:site_name" content="Almost">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Almost">
  
    <link rel="alternate" href="/atom.xml" title="Almost" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Almost</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-MJ_001_01前端面经" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/08/10/MJ_001_01前端面经/" class="article-date">
  <time datetime="2018-08-10T02:32:58.000Z" itemprop="datePublished">2018-08-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/08/10/MJ_001_01前端面经/">MJ_001_01前端面经</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<h3 id="由于公司宣布倒闭"><a href="#由于公司宣布倒闭" class="headerlink" title="由于公司宣布倒闭"></a>由于公司宣布倒闭</h3></blockquote>
<p>所以不得不开始找工作，下面开始每场的面试经验分享，自我介绍略过。</p>
<p>面试是可以从中来感受企业的文化。有的令人怒不可遏，有的让人感受到礼仪。如果你被面的怒不可遏我建议直接走人。这样的公司就算你去了，你也迟早被同化。</p>
<h3 id="注：如果写的有问题，请及时发邮件怼我trustfor-sina-cn"><a href="#注：如果写的有问题，请及时发邮件怼我trustfor-sina-cn" class="headerlink" title="注：如果写的有问题，请及时发邮件怼我trustfor@sina.cn"></a>注：如果写的有问题，请及时发邮件怼我<a href="mailto:trustfor@sina.cn" target="_blank" rel="noopener">trustfor@sina.cn</a></h3><h4 id="180807第一天-电面一家，约面2家"><a href="#180807第一天-电面一家，约面2家" class="headerlink" title="180807第一天(电面一家，约面2家)"></a>180807第一天(电面一家，约面2家)</h4><blockquote>
<h4 id="1-先说电面的那家"><a href="#1-先说电面的那家" class="headerlink" title="1.先说电面的那家"></a>1.先说电面的那家</h4></blockquote>
<ol>
<li>什么是jsonp,什么是ajax</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">jsonp就是</span><br><span class="line">1请求方创建一个script标签src指向响应方，并传递callback =回调函数名xxx</span><br><span class="line">2响应方根据callback查询参数构造一个 xxx.call(undefined,传递的内容)</span><br><span class="line">3浏览器接到响应，就会执行 xxx.call(undefined,传递的内容)</span><br><span class="line">4请求方得到他想要的数据</span><br><span class="line"></span><br><span class="line">ajax</span><br><span class="line">实现原理就是使用XMLHttpRequest对象通过它来发请求</span><br><span class="line">let request = new XMLHttpRequest();</span><br><span class="line">request.open(&apos;get&apos;,&apos;/xxx&apos;);</span><br><span class="line">request.send();</span><br><span class="line">request.onreadystatechange = function()&#123;</span><br><span class="line">    if(request.readyState === 4)&#123;</span><br><span class="line">        if(request.status &gt;= 200 &amp;&amp; request.status &lt;300)&#123;</span><br><span class="line">            console.log(request.responseText);</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            console.log(request.status);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>promise用了吗？用来干啥的 async/await用过吗？</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">promise就是解决 回调地域问题的，比如一些操作的校验 必须逐步成功才能往下走提交</span><br><span class="line">window.ajax = function(&#123;url,method,body,headers&#125;)&#123;</span><br><span class="line">    return new Promise(function(resolve,reject)&#123;</span><br><span class="line">        //ES6解构赋值</span><br><span class="line">        let request = new XMLHttpRequest();</span><br><span class="line">        request.open(method,url);</span><br><span class="line">        for(let key in headers)&#123;</span><br><span class="line">            let value = headers[key];</span><br><span class="line">            request.setRequestHeader(key,value);</span><br><span class="line">        &#125;</span><br><span class="line">        request.send(body);</span><br><span class="line">        request.onreadystatechange = function()&#123;</span><br><span class="line">            if(request.readyState === 4)&#123;</span><br><span class="line">                if(request.status &gt;= 200 &amp;&amp; request.status &lt;300)&#123;</span><br><span class="line">                    resolve.call(undefined,request.responseText)</span><br><span class="line">                &#125;else&#123;</span><br><span class="line">                    reject.call(undefined,request.status)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">async和await用法：简单说来就是 异步代码同步执行</span><br><span class="line">function xxx(x) &#123; </span><br><span class="line">  return new Promise(resolve =&gt; &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      resolve(x);</span><br><span class="line">    &#125;, 2000);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">async function f1() &#123;</span><br><span class="line">  var x = await xxx(10);</span><br><span class="line">  console.log(x); // 10</span><br><span class="line">&#125;</span><br><span class="line">f1();</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>js继承是什么？es6的继承了解吗</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">其实我认为js是没有继承的，它是用function模拟的，继承的原理是基于原型链的。</span><br><span class="line"></span><br><span class="line">1.我们知道大部分编程语言应该都有Object类型,一般都称为所有类型的基类(也就是类型的顶端)</span><br><span class="line">2.每种类型都有一个共有属性 prototype也就是浏览器里的双下proto 这个属性里放置了一些属性或方法。它被称为原型</span><br><span class="line">3.每个类型都有自己的原型(共有属性)prototype 比如Number有 toFixed</span><br><span class="line">4.此时如果你构造一个类型他就会天生有toString() valueOf()</span><br><span class="line">5.这就是原型链继承，它会逐级向上查找，如果自己本身有这个方法则使用，没有则继续查找，如果顶端Object的prototype上都没有，是属性就undefined调用方法就报错</span><br><span class="line"></span><br><span class="line">es6的继承：虽然它有关键字 class让你看起来像java的继承</span><br><span class="line">但是依然是假的，不信你可以查看浏览器里打印 依然是基于prototype的</span><br><span class="line">此时就有一个问题如果我想要一个 共有属性 class怎么办？</span><br><span class="line">如果是prototype 可以很方便的</span><br><span class="line">// ES5</span><br><span class="line">Human.prototype.s = &apos;人类&apos;</span><br><span class="line"></span><br><span class="line">// ES6 对不起,不支持,有一种变通的写法</span><br><span class="line">class Human&#123;</span><br><span class="line">    constructor(name)&#123;</span><br><span class="line">        this.name = name</span><br><span class="line">    &#125;</span><br><span class="line">    //麻烦不？？？？</span><br><span class="line">    //麻烦不？？？？</span><br><span class="line">    //麻烦不？？？？</span><br><span class="line">    get s()&#123;</span><br><span class="line">        return &apos;人类&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>vue用过吗？能简单说下双向绑定的原理吗？</li>
</ol>
<p><a href="https://github.com/coderzzp/vue-come-true" target="_blank" rel="noopener">原文参考没有比这个更简单的了,如果只是为了面试请看第一章节，如果深入了解看后面我是没看。。。</a></p>
<ol start="5">
<li>vue-router用过吗？原理是什么</li>
</ol>
<p>就是前端路由，通过#分割前后端,详情请看文档比我全多了<a href="https://router.vuejs.org/" target="_blank" rel="noopener">文档</a></p>
<p>原理是H5的<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/History" target="_blank" rel="noopener">History</a></p>
<ol start="6">
<li>vue组件间通信?</li>
</ol>
<p><a href="https://sltrust.github.io/2018/04/12/N058_vue%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1/" target="_blank" rel="noopener">我之前的总结</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">父--&gt;子  props</span><br><span class="line">子--&gt;父  子组件emit触发事件xx  父组件 监听xx事件</span><br><span class="line"></span><br><span class="line">如果是祖孙三代，孙子给爷爷发消息</span><br><span class="line">就是两个父子关系 emit 非常麻烦所以有了vuex</span><br></pre></td></tr></table></figure>
<ol start="7">
<li>vuex用过吗？原理是什么</li>
</ol>
<p><a href="https://vuex.vuejs.org/" target="_blank" rel="noopener">vuex</a></p>
<p>原理就是一个全局变量，反正就一份，你怎么改都是改的一份</p>
<ol start="8">
<li>vue的v-if和v-show的区别</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">v-if 是决定html结构里是否有这个元素</span><br><span class="line">v-show是切换元素的display属性</span><br><span class="line"></span><br><span class="line">有性能问题</span><br><span class="line">频繁切换用v-show</span><br><span class="line">如果仅初始化一次的用v-if</span><br></pre></td></tr></table></figure>
<ol start="9">
<li>vue生命周期方法？</li>
</ol>
<p>看官网吧！<a href="https://cn.vuejs.org/v2/guide/" target="_blank" rel="noopener">https://cn.vuejs.org/v2/guide/</a></p>
<ol start="10">
<li>vue angular react区别</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vue和angular都是双向绑定的</span><br><span class="line">react是单项数据流</span><br><span class="line"></span><br><span class="line">angular 从语法书写上可以明显看出MVC思想，它大而全，关键的是官方宣布半年进行一次版本迭代，需要持续跟进学习，适合于大型项目，但是学习成本高</span><br><span class="line"></span><br><span class="line">vue 简单快速上手，小而美，渐进式的更新各个功能，对初学者友好，因为作者是中国的，而且据统计 外国用react的多，中国用vue的多。</span><br><span class="line"></span><br><span class="line">react facebook的自己造的轮子，单项的数据流，vue也慢慢转向单项数据流，支持jsx语法。可以用class的方式定义组件。通过render渲染，学习路径陡峭</span><br></pre></td></tr></table></figure>
<ol start="11">
<li>什么是闭包</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function wrapper()&#123;</span><br><span class="line">    var a = 1</span><br><span class="line">    function inner()&#123;</span><br><span class="line">        a+=1</span><br><span class="line">    &#125;</span><br><span class="line">    return inner</span><br><span class="line">&#125;</span><br><span class="line">这就是闭包</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="2-直面的一个外派性质的公司"><a href="#2-直面的一个外派性质的公司" class="headerlink" title="2.直面的一个外派性质的公司"></a>2.直面的一个外派性质的公司</h4></blockquote>
<ol>
<li>邮箱验证</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var str = &apos;trustfor@sina.cn&apos;</span><br><span class="line">var reg = /^\w+@[a-z0-9]+\.[a-z]+$/i;</span><br><span class="line">if(reg.test(str))&#123;</span><br><span class="line">    //合法</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    //你丫写错了</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://sltrust.github.io/2018/04/18/REG_001_1_%E9%9A%BE%E4%BB%A5%E5%90%AF%E9%BD%BF%E7%9A%84%E6%AD%A3%E5%88%99/" target="_blank" rel="noopener">如果你想了解正则</a></p>
<ol start="2">
<li>移动端页面怎么做适配</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no&quot;&gt;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>cookie是啥？前端数据存储了解吗？localStorage是啥？sessionStorage是啥区别呢？</li>
</ol>
<p><a href="https://sltrust.github.io/2018/02/09/N043_Cookie/" target="_blank" rel="noopener">cookie去看吧</a></p>
<p><a href="https://sltrust.github.io/2018/02/10/N044__01_Session/" target="_blank" rel="noopener">session和持久化</a></p>
<ol start="4">
<li>了解数据解构吗？</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">队列(先进先出，请参考电影票是不是先买票的先走) 映射到数组就是 push() shift()</span><br><span class="line"></span><br><span class="line">栈：后进先出，汉诺塔上面的盘子移走才能移动下面的盘子。映射到数组就是 push() pop()</span><br><span class="line"></span><br><span class="line">树(二叉树/满二叉树/完全二叉树)</span><br><span class="line"></span><br><span class="line">堆(最大堆/最小堆)</span><br></pre></td></tr></table></figure>
<ol start="5">
<li>性能优化手段？</li>
</ol>
<ul>
<li>后台设置gzip压缩</li>
<li>后台设置cache-control 头指定过期时间<a href="https://sltrust.github.io/2018/02/10/N044_02_Cache_Control/" target="_blank" rel="noopener">(更详尽可以看)</a></li>
<li>图片压缩合并(精灵图这是很久以前的了)</li>
<li>js压缩打包，css压缩打包，html压缩打包(webpack解决了这个问题)</li>
<li><a href="https://sltrust.github.io/2018/05/17/WEB_001_%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96_DNS%E9%A2%84%E8%A7%A3%E6%9E%90/" target="_blank" rel="noopener">dns预解析，减少同一域名解析时间</a></li>
<li>图片懒加载，根据滚动距离高度来判断是否进行加载图片</li>
<li>指定img的宽高，避免网速波动造成页面重排(腾地)</li>
<li>异步加载组件vue</li>
</ul>
<blockquote>
<p>重复问题</p>
</blockquote>
<ul>
<li>什么是闭包？</li>
<li>手写ajax</li>
<li>promise</li>
<li>async/await</li>
<li>vue v-if和v-show区别</li>
<li>vue-router</li>
<li>vue组件传参</li>
<li>vue有哪些生命周期方法</li>
</ul>
<blockquote>
<h4 id="3-直面的一个影视动漫相关的公司"><a href="#3-直面的一个影视动漫相关的公司" class="headerlink" title="3.直面的一个影视动漫相关的公司"></a>3.直面的一个影视动漫相关的公司</h4></blockquote>
<ol>
<li>css import和link的区别</li>
</ol>
<p><a href="https://www.jb51.net/css/484905.html" target="_blank" rel="noopener">看去吧</a></p>
<ol start="2">
<li>css隐藏元素的三种方式</li>
</ol>
<ul>
<li>你可以将 opacity 设为 0</li>
<li>将 visibility 设为 hidden</li>
<li>将 display 设为 none </li>
<li>将 position 设为 absolute 然后将位置设到不可见区域。</li>
</ul>
<ol start="3">
<li>vue适用于什么项目</li>
</ol>
<p>单页面。开发周期短,项目成员少。看公司需求了。我觉得用啥都行</p>
<blockquote>
<p>套用大志哥的送外卖例子：</p>
</blockquote>
<p>在古代，你会选择飞毛腿<br>在有自行车的时候，你会选择骑车最快的<br>在现在买卖小哥都有了摩托，你会选择评论好的</p>
<p>结论就是：天下武功，唯快不破。你足够快就行</p>
<ol start="4">
<li>less和sass的语法。写出你用的一些语法</li>
</ol>
<ul>
<li><a href="https://www.sass.hk/guide/" target="_blank" rel="noopener">sass</a></li>
<li><a href="http://lesscss.cn/#getting-started" target="_blank" rel="noopener">less</a></li>
</ul>
<ol start="5">
<li>移动页面1s加载的方案</li>
</ol>
<p>看看别人的总结，肯定比我好</p>
<p><a href="https://juejin.im/entry/599646856fb9a02484490c13" target="_blank" rel="noopener">首屏优化</a></p>
<ol start="6">
<li>视频处理相关js了解吗？ 太冷门了。。。</li>
</ol>
<ul>
<li>放弃治疗</li>
</ul>
<blockquote>
<p>重复问题总结</p>
</blockquote>
<ul>
<li>jsonp</li>
<li>手写ajax</li>
<li>v-if和v-show区别</li>
<li>前端三大框架的区别</li>
<li>cookie和 持久化存储</li>
<li>前端性能优化</li>
<li>什么是闭包</li>
</ul>
<h4 id="180808第二天-约面2家"><a href="#180808第二天-约面2家" class="headerlink" title="180808第二天(约面2家)"></a>180808第二天(约面2家)</h4><blockquote>
<h4 id="1-一个大数据-小程序方向"><a href="#1-一个大数据-小程序方向" class="headerlink" title="1.一个大数据 小程序方向"></a>1.一个大数据 小程序方向</h4></blockquote>
<ol>
<li>主要问项目经验。实现原理，这个看具体项目</li>
</ol>
<p>这个看你的项目了。用到啥就说啥</p>
<ol start="2">
<li>小程序生命周期</li>
</ol>
<p><a href="https://developers.weixin.qq.com/miniprogram/dev/api/" target="_blank" rel="noopener">照着文档找呗！</a></p>
<blockquote>
<p>重复问题总结</p>
</blockquote>
<ul>
<li>闭包</li>
<li>vue基础知识点，组件传参 v-if v-show区别</li>
<li>ajax</li>
<li>promise</li>
<li>前端性能优化</li>
</ul>
<blockquote>
<h4 id="2-一个中厂sina你懂的"><a href="#2-一个中厂sina你懂的" class="headerlink" title="2.一个中厂sina你懂的"></a>2.一个中厂sina你懂的</h4></blockquote>
<ol>
<li>display有哪些值</li>
</ol>
<ul>
<li>block</li>
<li>inline</li>
<li>inline-block</li>
<li>flex</li>
<li>table</li>
<li>none</li>
</ul>
<ol start="2">
<li>定位相关</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">如果一个div有position:absolute是相对谁定位？</span><br><span class="line"></span><br><span class="line">逐级向上的父元素</span><br><span class="line">如果有position:absolute就相对它</span><br><span class="line">如果有position:relative就相对它</span><br><span class="line">都没有就相对顶级元素 body</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>左端固定右边自适应的布局</li>
</ol>
<p><a href="http://js.jirengu.com/yifunusogi/1/edit" target="_blank" rel="noopener">实现链接</a></p>
<ol start="4">
<li>各种居中方式  水平，垂直，水平垂直居中</li>
</ol>
<p><a href="https://sltrust.github.io/2017/10/24/N012_02_CSS%E5%B8%B8%E8%A7%81%E5%B8%83%E5%B1%80%E5%92%8C%E5%B1%85%E4%B8%AD/" target="_blank" rel="noopener">各种布局</a></p>
<ol start="5">
<li>css3动画有哪些属性</li>
</ol>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation" target="_blank" rel="noopener">看文档。。。</a></p>
<ol start="6">
<li>es6你都指定哪些新特性</li>
</ol>
<p><a href="https://sltrust.github.io/tags/ES6%E9%80%9F%E5%AD%A6/" target="_blank" rel="noopener">请参考我总结的es6速学</a></p>
<blockquote>
<p>重复问题总结</p>
</blockquote>
<ul>
<li>闭包</li>
<li>ajax</li>
<li>promise</li>
<li>async/await</li>
<li>vue组件传参</li>
<li>三大框架区别</li>
<li>cookie和持久化相关</li>
<li>前端性能优化</li>
</ul>
<h4 id="180809第三天-约面3家"><a href="#180809第三天-约面3家" class="headerlink" title="180809第三天(约面3家)"></a>180809第三天(约面3家)</h4><blockquote>
<h4 id="1-一个中厂58你懂的"><a href="#1-一个中厂58你懂的" class="headerlink" title="1.一个中厂58你懂的"></a>1.一个中厂58你懂的</h4></blockquote>
<ol>
<li>css3 改变一个div的样子 transform有哪些方法</li>
</ol>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform" target="_blank" rel="noopener">还是mdn全啊</a></p>
<ol start="2">
<li>左面图片右边汉字你有几种做法？</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1. 一个div实现：背景图定位到左边加  padding-left</span><br><span class="line">2. flex布局:最外层容器</span><br><span class="line">    display:flex;</span><br><span class="line">    justify-content:flex-start; </span><br><span class="line">    左面图片设置宽高，</span><br><span class="line">    右边flex-grow:1</span><br><span class="line">3. 两个标签都左浮</span><br><span class="line">4. position定位</span><br><span class="line">5. table</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>正则过滤字符串里的 [“ ‘ 空格]</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">res = &quot;aabbcc&quot;</span><br><span class="line">str = &quot;\&quot;\&apos; aabbcc \&apos;\&quot;&quot;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li><p>给定一个字符串 aabcccddddcc 已知正则的实现请用replace输出为 2a1b3c4d2c的字符串</p>
</li>
<li><p>vue子组件内有一个滚轮事件如何销毁</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在生命周期的destroy里移除事件</span><br></pre></td></tr></table></figure>
<ol start="6">
<li>less/sass用过吗？</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">由于sass各种报错。我也不想死嗑在这种工具问题上。我用less，基于talkdata的iview就是用的less</span><br><span class="line"></span><br><span class="line">答案是 sass通过配置是可以用的  需要装一个ruby的东西</span><br></pre></td></tr></table></figure>
<ol start="7">
<li>webpack了解吗?有哪些属性</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">entry 入口</span><br><span class="line">output 输入路径</span><br><span class="line">loads 加载器</span><br><span class="line">plugs 插件</span><br><span class="line"></span><br><span class="line">又问 用过什么！看你水平了。 当然是说你用的</span><br></pre></td></tr></table></figure>
<blockquote>
<p>重复问题总结</p>
</blockquote>
<ul>
<li>双飞翼布局</li>
<li>水平居中/垂直居中</li>
<li>vue组件通信</li>
<li>vuex</li>
<li>vue-router</li>
<li>v-if v-show</li>
<li>双向绑定原理</li>
<li>promise</li>
<li>async/await </li>
<li>es6新特性有哪些</li>
</ul>
<blockquote>
<h4 id="2-一个傲的像全球第一的不到30人的公司-好脉-果然是好卖"><a href="#2-一个傲的像全球第一的不到30人的公司-好脉-果然是好卖" class="headerlink" title="2.一个傲的像全球第一的不到30人的公司[好脉]果然是好卖"></a>2.一个傲的像全球第一的不到30人的公司[好脉]果然是好卖</h4></blockquote>
<p>非常差的面试体验[中厂的新浪58人家也没像贵公司(不到30人的创业公司)这样]</p>
<ol>
<li>开始「各种装」模式。垃圾回收的方式</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">可能真不会。我说把变量置空，移除事件。尽量用委托。事件里不要保存其他变量的引用。</span><br><span class="line"></span><br><span class="line">还有呢？</span><br><span class="line">又装了，这个一定是可以调的。(你可以回去看看。好吧！继续看你表演)</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>代码题</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">console.log(a)</span><br><span class="line">var a = 1</span><br><span class="line">答案 undefined 变量提升</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>代码题</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">console.log(a)</span><br><span class="line">console.log(b)</span><br><span class="line">&#123;</span><br><span class="line">var a = 1</span><br><span class="line">let b = 2</span><br><span class="line">&#125;</span><br><span class="line">答案 </span><br><span class="line">第一行undefined</span><br><span class="line">第二行报错</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>代码题</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">var a = 1</span><br><span class="line">let b = 2</span><br><span class="line">&#125;</span><br><span class="line">console.log(a)</span><br><span class="line">console.log(b)</span><br><span class="line">答案 </span><br><span class="line">第一行 1</span><br><span class="line">第二行报错</span><br></pre></td></tr></table></figure>
<ol start="5">
<li>考察function传参。。。。无语了您是错的好吗？还让我自己浏览器试试。自己去试试再来面好吗？</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function A(A)&#123; console.log(1)&#125;</span><br><span class="line">function A(A,B,C)&#123; console.log(2)&#125;</span><br><span class="line"></span><br><span class="line">A(1)</span><br><span class="line">A(1,2,3)</span><br><span class="line">A()</span><br><span class="line">答案 </span><br><span class="line">2 同名函数会发生覆盖。 </span><br><span class="line"></span><br><span class="line">你传递多少个参数你不使用有意义？我真不知道啥区别！别逗我行吗？</span><br><span class="line">无论先后调用A函数  都会执行第二个。您居然跟我说执行第一个？厉害</span><br><span class="line"></span><br><span class="line">又开始嘲讽啦！ 这个vue react angular变来变去都很简单。无外乎那么点东西。</span><br><span class="line">(从没见过造轮子特别傲的人,但今天看见一个用别人轮子还那么傲的。vue作者都没那么狂。果然全球第一。)</span><br></pre></td></tr></table></figure>
<ol start="6">
<li>函数传参的方式</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function a(x,y,z)&#123;&#125;</span><br><span class="line"></span><br><span class="line">a(x,y,z)</span><br><span class="line">a.call(undefined,x,y,z)</span><br><span class="line">a.apply(undefined,[x,y,z])</span><br><span class="line"></span><br><span class="line">沉默了一小下，问call、apply区别</span><br><span class="line">区别</span><br><span class="line">call第一参数是this,第二个之后才是你实际传的参数</span><br><span class="line">apply第一参数是this,第二个是你实际传的参数数组</span><br><span class="line"></span><br><span class="line">他：嘲讽开始，还有其他方式吗？</span><br><span class="line">我：不清楚。我就想看你说啥！</span><br><span class="line">他：回去自己查查。</span><br><span class="line">我：(我估计你自己都不知道)</span><br></pre></td></tr></table></figure>
<ol start="7">
<li>如何实现css加载是怎样的</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">各浏览器表现不一致 </span><br><span class="line">google是小姐姐 化了妆出门</span><br><span class="line">ie是女汉子 出门在化妆</span><br><span class="line"></span><br><span class="line">我就要加载了css在显示页面呢？</span><br><span class="line"></span><br><span class="line">非要实现都一直你就隐藏呗。加载完了在display:block</span><br><span class="line">又开始嘲讽啦 说这有5/6种呢  你自己回去查查。</span><br></pre></td></tr></table></figure>
<ol start="8">
<li>又开始装啦！ 问性能优化。怎么达到页面加载速度特快</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">我按之前的思路回答了，答的不好就不好呗！</span><br><span class="line"></span><br><span class="line">又开始了，你回答的很范范。你可以去看看淘宝啊京东啊看他的页面结构抄他们的代码。</span><br></pre></td></tr></table></figure>
<ol start="9">
<li>终于夸人了，我就觉得你这个问题回答的好(我醉了)</li>
</ol>
<p>问埋点做过吗？如果细化到button级别怎么办。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">事件委托呗。监听document 判断target.tagName是不是button</span><br></pre></td></tr></table></figure>
<blockquote>
<p>终于换了一个知书达理的面试官了，好的体验</p>
</blockquote>
<ol>
<li>vue生命周期有几种(8种)</li>
<li>v-if和 v-show区别</li>
<li>js有几种数据类型(7)</li>
<li>如果实现vue的路由鉴权、菜单鉴权</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">第一种就是每次都发请求设置个cookie头</span><br><span class="line"></span><br><span class="line">第二种</span><br><span class="line">1. 登录的一瞬间后台返回 authList 存到sessionStorage里(加密一下，引个库肯定没问题)</span><br><span class="line"> authList = [&quot;if0001&quot;,&quot;if0002&quot;,&quot;if0003&quot;] 对应路由的name属性</span><br><span class="line">2. 路由守卫里判断 to.name 是否在authList里 </span><br><span class="line">3. 分支处理</span><br></pre></td></tr></table></figure>
<ol start="5">
<li>如何实现不用用户的不同菜单权限组</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">一、要么后天登录的时候给你生成</span><br><span class="line"></span><br><span class="line">二、</span><br><span class="line">1.在router定义的时候  自己定义个属性建议形如[if_authmenu] 公司前缀+权限名称 表示为这个路由是菜单</span><br><span class="line">判断</span><br><span class="line">2.生成路由菜单的时候说明已经登录了 权限数组在你这里 v-for的时候判断</span><br></pre></td></tr></table></figure>
<ol start="6">
<li>路由有几种方式?什么是动态路由</li>
</ol>
<p>看官网吧。</p>
<ol start="7">
<li>H5有哪些新特性</li>
</ol>
<ul>
<li>worker 多线程的一个api</li>
<li>history 前端路由的实现</li>
<li>localStorage</li>
<li>sessionStorage</li>
</ul>
<ol start="8">
<li>有没有对axios进行封装。也就是做统一的异常处理</li>
</ol>
<p>然后面试着一半。就被需求会中断了。产品经理进来就占地。深刻的感受到啥叫野！</p>
<ol start="9">
<li>axios发请求时为什么是两次</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">第一次是option方法  意思是询问 支持不支持我下面发送的方法</span><br><span class="line">第二次是实际的get/put/post/delete等请求</span><br></pre></td></tr></table></figure>
<blockquote>
<p>重复问题总结</p>
</blockquote>
<ul>
<li>promise</li>
<li>async/await</li>
<li>v-router了解吗？有哪些方式</li>
<li>vuex原理</li>
<li>less/sass语法</li>
<li>webpack是否自己配置过？问我半天，咱公司自己配置的？我们也是vue-cli 厉害！</li>
</ul>
<blockquote>
<h4 id="3-一个做区块链的挺厉害的公司包了三层办公。"><a href="#3-一个做区块链的挺厉害的公司包了三层办公。" class="headerlink" title="3.一个做区块链的挺厉害的公司包了三层办公。"></a>3.一个做区块链的挺厉害的公司包了三层办公。</h4></blockquote>
<p>也是非常好的体验！要求5-10年的，但我不够却说不在乎年限只要够优秀。</p>
<p>约的6点而且再三盛情邀请我去试试。cto面我先给我介绍公司现状。然后让我介绍。没有对比就没有伤害。 不知道比上家强多少倍</p>
<ol>
<li>上来就算法。。。一紧张想错了整到快排了 50万个随机数的数组要求时间复杂度为O(n)求第三个最大的数</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">其实就是三次循环每次找最大值然后移除</span><br><span class="line">第一次500,000 找到最大的 然后移除元素</span><br><span class="line">第二次499,999 找到第二个最大的 然后移除元素</span><br><span class="line">第三次499,998 找到第三个最大的 然后结束</span><br><span class="line"></span><br><span class="line">时间复杂度 3n</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>找到匹配的右括号 </li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">str = &apos;((()()(()(()()))((()))))&apos;</span><br><span class="line">起点为 index = 1 的左括号 找到对应的右括号索引</span><br><span class="line"></span><br><span class="line">答案是利用堆栈知识</span><br><span class="line">左括号代表进栈 x++</span><br><span class="line">右括号代表出栈 x--</span><br><span class="line"></span><br><span class="line">所以 x = 0 时 就是匹配的那个右括号对应的索引</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>隔行变色。同时变色的行是45度 斑马线的条纹</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.xx:nth-child(2n)&#123;</span><br><span class="line">    线性渐变的代码。。。 我也不会</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>如何把表格里的数据给后台。数组形式</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">双重循环遍历成二维数组</span><br></pre></td></tr></table></figure>
<ol start="5">
<li>如何添加参数发送一个请求</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">axios.post(url,param).then(</span><br><span class="line">    ()=&gt;&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">).catch(</span><br><span class="line">    ()=&gt;&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<ol start="6">
<li>如何实现一个树形组件，通过后台传递的格式如下内容</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">id      pid   cname</span><br><span class="line">0100    null   北京</span><br><span class="line">0101    0100   朝阳</span><br><span class="line">0102    0100   海淀</span><br><span class="line">0103    0100   昌平</span><br><span class="line">0200    null   天津</span><br><span class="line">0201    0200   和平</span><br><span class="line">0202    0200   红桥</span><br><span class="line">0203    0200   南开</span><br><span class="line">又卡住了我。。。。</span><br></pre></td></tr></table></figure>
<ol start="7">
<li>如何实现上下两部分。拖拽就可以改变上下两个div高度</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">又挂了。  iview-admin里有一个那么的组件</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/08/10/MJ_001_01前端面经/" data-id="cklhgn2b2004dkyfyq3b9h6pi" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web面经/">web面经</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-P020_02_python模块的导入" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/29/P020_02_python模块的导入/" class="article-date">
  <time datetime="2018-07-29T11:41:20.000Z" itemprop="datePublished">2018-07-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/29/P020_02_python模块的导入/">P020_02_python模块的导入</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h3><blockquote>
<p>很多时候，你发现你写的代码有很多重复内容这个时候你就要使用模块了</p>
</blockquote>
<h4 id="模块的导入"><a href="#模块的导入" class="headerlink" title="模块的导入"></a>模块的导入</h4><p>在同一目录下我们这样操作</p>
<ol>
<li>新建模块文件 demo.py</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">内容如下：</span><br><span class="line">print(&apos;in demo.py&apos;)</span><br><span class="line"></span><br><span class="line">a = &apos;hello&apos;</span><br><span class="line"></span><br><span class="line">def read():</span><br><span class="line">    print(&apos;haha&apos;+a)</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>新建调用模块的文件aa.py</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import demo.py</span><br><span class="line"></span><br><span class="line">#执行aa.py你会发现打印了 in demo.py </span><br><span class="line"></span><br><span class="line">如果你多次导入demo模块呢？</span><br><span class="line">import demo.py</span><br><span class="line">import demo.py</span><br><span class="line">import demo.py</span><br><span class="line">import demo.py</span><br><span class="line"></span><br><span class="line"># 依然只打印一次  in demo.py</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>如果调用demo.py里的方法</li>
</ol>
<ul>
<li>找到模块</li>
<li>创建这个模块的命名空间</li>
<li>把文件中的内容放到命名空间里</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import demo # 这句话的时候就是把demo.py的内容加载到内存里，同时demo里所有的内容只能通过demo这个命名空间来调用</span><br><span class="line">demo.read() # </span><br><span class="line">demo.a</span><br></pre></td></tr></table></figure>
<blockquote>
<p>为什么一个模块不会被重复导入</p>
</blockquote>
<ul>
<li>当你导入一个模块的时候，会先去sys.modules里查看是否已经导入了这个模块</li>
<li>如果没被导入，就依据sys.path路径去寻找模块找到了正常运行，没找到报错</li>
<li>找到了就导入</li>
<li>创建这个模块的命名空间</li>
<li>把文件中的内容放到命名空间里</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line">print(sys.modules.keys()) # 查看导入的模块</span><br></pre></td></tr></table></figure>
<h4 id="给模块其一个别名"><a href="#给模块其一个别名" class="headerlink" title="给模块其一个别名"></a>给模块其一个别名</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import time as t</span><br><span class="line">t.time()</span><br></pre></td></tr></table></figure>
<h4 id="导入多个模块"><a href="#导入多个模块" class="headerlink" title="导入多个模块"></a>导入多个模块</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import sys,time,random,os</span><br></pre></td></tr></table></figure>
<h4 id="模块引入的一些编码规则"><a href="#模块引入的一些编码规则" class="headerlink" title="模块引入的一些编码规则"></a>模块引入的一些编码规则</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. 先引入内置的</span><br><span class="line">2. 扩展的如django</span><br><span class="line">3. 自己实现的</span><br></pre></td></tr></table></figure>
<h4 id="from-import的使用方式"><a href="#from-import的使用方式" class="headerlink" title="from import的使用方式"></a>from import的使用方式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">之前是</span><br><span class="line">import time</span><br><span class="line">time.sleep()</span><br><span class="line"></span><br><span class="line">你可以这样</span><br><span class="line">from time import sleep</span><br><span class="line">sleep()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>回归之前的demo.py</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">from demo import read</span><br><span class="line"># 此时无法访问demo.py里的 a变量 因为你单独导入了read方法</span><br><span class="line"># 但是read方法里访问了 a变量 ，说明引入模块的时候会把a保存在内存里只是本模块访问不到 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 如果你在引入的地方定义同名read方法,那么导入的read方法就被覆盖</span><br><span class="line">def read():</span><br><span class="line">    pass</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="另一种-from-import"><a href="#另一种-from-import" class="headerlink" title="另一种 from import *"></a>另一种 from import *</h4></blockquote>
<p>但是这种非常不安全，不建议使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import demo from *</span><br><span class="line"># 相当于把里面的东西全部引入进来,可以不带命名空间之间使用</span><br><span class="line">read()</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="最后一种方式导入模块"><a href="#最后一种方式导入模块" class="headerlink" title="最后一种方式导入模块"></a>最后一种方式导入模块</h4></blockquote>
<ol>
<li>我们又新建一个模块demo2.py</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">__all__ = [&apos;a&apos;]</span><br><span class="line">print(&apos;in demo2.py&apos;)</span><br><span class="line"></span><br><span class="line">a = &apos;hello&apos;</span><br><span class="line"></span><br><span class="line">def read():</span><br><span class="line">    print(&apos;haha&apos;+a)</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>引入新建的模块demo2</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import demo2 from *</span><br><span class="line">read() # 报错 </span><br><span class="line"></span><br><span class="line"># 因为在模块内部设置了 __all__</span><br><span class="line">__all__是一个列表代表 import demo2 from *的形式导出的内容</span><br><span class="line"></span><br><span class="line">因为刚刚只设置了 __all__ = [&apos;a&apos;] </span><br><span class="line">因此只有 a可用</span><br></pre></td></tr></table></figure>
<p>双下all变量只跟 *关联</p>
<blockquote>
<h4 id="最后一个需求知识点"><a href="#最后一个需求知识点" class="headerlink" title="最后一个需求知识点"></a>最后一个需求知识点</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.因为demo2.py里有一句 print(&apos;in demo2.py&apos;) </span><br><span class="line">2.所以在你导入demo2模块的时候 程序会打印 in demo2.py</span><br><span class="line">3.需求就是 只在demo2.py里打印不在 被导入的文件里 打印这句话</span><br></pre></td></tr></table></figure>
<ul>
<li>双下name</li>
</ul>
<p>demo2.py里添加如下内容,并执行,发现打印 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = &apos;hello&apos;</span><br><span class="line">def read():</span><br><span class="line">    print(&apos;haha&apos;+a)</span><br><span class="line"></span><br><span class="line">print(__name__) # __main__</span><br></pre></td></tr></table></figure>
<p>如果在别的地方导入demo2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import demo2</span><br><span class="line"></span><br><span class="line"># 打印 demo2</span><br></pre></td></tr></table></figure>
<blockquote>
<p>完成需求只在本模块执行相关代码</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = &apos;hello&apos;</span><br><span class="line">def read():</span><br><span class="line">    print(&apos;haha&apos;+a)</span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    print(&apos;in demo2.py&apos;)</span><br></pre></td></tr></table></figure>
<p>小结：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">在模块xxx内部有一个变量 __name__</span><br><span class="line">当我们直接运行这个模块xxx的时候 __name__ == &apos;__main__&apos;</span><br><span class="line">当我们在其他文件内,引入这个模块xxx的时候,这个模块中的 __name__ ==&apos;模块的名字&apos;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/29/P020_02_python模块的导入/" data-id="cklhgn2et00dbkyfytlo3vyqt" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/fullstack/">fullstack</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-P020_01_python序列化模块" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/29/P020_01_python序列化模块/" class="article-date">
  <time datetime="2018-07-29T07:23:05.000Z" itemprop="datePublished">2018-07-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/29/P020_01_python序列化模块/">P020_01_python序列化模块</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="序列化模块"><a href="#序列化模块" class="headerlink" title="序列化模块"></a>序列化模块</h3><ul>
<li>序列化——转向一个字符串的数据类型</li>
<li>序列——字符串</li>
</ul>
<p>数据存储<br>网络上传输的时候</p>
<blockquote>
<h4 id="序列化：从数据类型-gt-字符串的过程"><a href="#序列化：从数据类型-gt-字符串的过程" class="headerlink" title="序列化：从数据类型==&gt; 字符串的过程"></a>序列化：从数据类型==&gt; 字符串的过程</h4></blockquote>
<blockquote>
<h4 id="反序列化：从字符串-gt-数据类型"><a href="#反序列化：从字符串-gt-数据类型" class="headerlink" title="反序列化：从字符串==&gt;数据类型"></a>反序列化：从字符串==&gt;数据类型</h4></blockquote>
<h4 id="重要的几个知识点-「-」代表重要程度"><a href="#重要的几个知识点-「-」代表重要程度" class="headerlink" title="重要的几个知识点 「*」代表重要程度"></a>重要的几个知识点 「*」代表重要程度</h4><ul>
<li>json <strong>*</strong></li>
<li>pickle <em>**</em></li>
<li>shelve ***</li>
</ul>
<h5 id="json通用序列化格式"><a href="#json通用序列化格式" class="headerlink" title="json通用序列化格式"></a>json通用序列化格式</h5><ul>
<li>只有很少的一部分数据类型能够通过json转化成字符串</li>
</ul>
<h5 id="pickle"><a href="#pickle" class="headerlink" title="pickle"></a>pickle</h5><ul>
<li>所有python里的数据类型都可以转化成字符串格式</li>
<li>pickle序列化的内容只有python能理解</li>
<li>且部分反序列化依赖代码</li>
</ul>
<p>例如网游 魔兽世界你退出游戏了 但是下次登录你还会在原来的数据基础上。这些信息如血量蓝量背包的物品经验值都是对应一些数据类型并依赖一些模块存在服务器或者你本地</p>
<h5 id="shelve"><a href="#shelve" class="headerlink" title="shelve"></a>shelve</h5><ul>
<li>序列化句柄</li>
<li>使用句柄直接操作非常方便</li>
</ul>
<h3 id="json"><a href="#json" class="headerlink" title="json"></a>json</h3><blockquote>
<p>内存相关</p>
</blockquote>
<ul>
<li>dumps 序列化方法</li>
<li>loads 反序列化方法</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import json</span><br><span class="line"></span><br><span class="line">dic = &#123;&quot;k1&quot;:&quot;v1&quot;&#125;</span><br><span class="line"></span><br><span class="line">print(type(dic),dic)</span><br><span class="line"># &lt;class &apos;dict&apos;&gt; &#123;&apos;k1&apos;: &apos;v1&apos;&#125;</span><br><span class="line"></span><br><span class="line"># 序列化</span><br><span class="line">str_d = json.dumps(dic)</span><br><span class="line">print(type(str_d),str_d) </span><br><span class="line"># &lt;class &apos;str&apos;&gt; &#123;&quot;k1&quot;: &quot;v1&quot;&#125;</span><br><span class="line"></span><br><span class="line"># 反序列化</span><br><span class="line">dic_d = json.loads(str_d)</span><br><span class="line">print(type(dic_d),dic_d)</span><br><span class="line"># &lt;class &apos;dict&apos;&gt; &#123;&apos;k1&apos;: &apos;v1&apos;&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>元组:序列化之后是列表,把元组序列号的内容反序列化后也是列表</p>
</blockquote>
<blockquote>
<p>set不能进行序列化：报错</p>
</blockquote>
<blockquote>
<p>文件相关：传递要序列话的内容，和文件句柄</p>
</blockquote>
<ul>
<li>dump</li>
<li>load</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import json</span><br><span class="line"></span><br><span class="line">dic = &#123;&quot;k1&quot;:&quot;v1&quot;&#125;</span><br><span class="line">f = open(&apos;fff&apos;,&apos;w&apos;,encoding=&apos;utf-8&apos;)</span><br><span class="line">json.dump(dic,f) # 序列化后的字符串写入到文件里</span><br><span class="line">f.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">f = open(&apos;fff&apos;,encoding=&apos;utf-8&apos;)</span><br><span class="line">res = json.load(f)</span><br><span class="line">f.close()</span><br><span class="line">print(res) # &#123;&apos;k1&apos;: &apos;v1&apos;&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>序列化的时候有中文咋办？</p>
</blockquote>
<p>读取能正常但是你去看fff文件发现中文已经被转换了 {“k1”: “\u4e2d\u56fd”}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import json</span><br><span class="line"></span><br><span class="line">dic = &#123;&quot;k1&quot;:&quot;中国&quot;&#125;</span><br><span class="line">f = open(&apos;fff&apos;,&apos;w&apos;,encoding=&apos;utf-8&apos;)</span><br><span class="line">json.dump(dic,f) # 序列化后的字符串写入到文件里</span><br><span class="line">f.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">f = open(&apos;fff&apos;,encoding=&apos;utf-8&apos;)</span><br><span class="line">res = json.load(f)</span><br><span class="line">f.close()</span><br><span class="line">print(res) # &#123;&apos;k1&apos;: &apos;中国&apos;&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>解决dump时 中文会转换为byte编码的问题</p>
</blockquote>
<ul>
<li>ensure_ascii=False以指定的编码写入</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import json</span><br><span class="line"></span><br><span class="line">dic = &#123;&quot;k1&quot;:&quot;中国&quot;&#125;</span><br><span class="line">f = open(&apos;fff&apos;,&apos;w&apos;,encoding=&apos;utf-8&apos;)</span><br><span class="line">json.dump(dic,f,ensure_ascii=False) # 序列化后的字符串写入到文件里</span><br><span class="line">f.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">f = open(&apos;fff&apos;,encoding=&apos;utf-8&apos;)</span><br><span class="line">res = json.load(f)</span><br><span class="line">f.close()</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="注意如果你用json的demp和load只能一次性写入和读取"><a href="#注意如果你用json的demp和load只能一次性写入和读取" class="headerlink" title="注意如果你用json的demp和load只能一次性写入和读取"></a>注意如果你用json的demp和load只能一次性写入和读取</h4></blockquote>
<p>如果想要分次写入和读取就不能用dump和load</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 分次写入</span><br><span class="line">import json</span><br><span class="line">a = [&#123;&quot;k1&quot;:1&#125;,&#123;&quot;k2&quot;:22&#125;,&#123;&quot;k3&quot;:33&#125;]</span><br><span class="line">f = open(&apos;file&apos;,&apos;w&apos;)</span><br><span class="line">for dic in a:</span><br><span class="line">    str_dic = json.dumps(dic)</span><br><span class="line">    f.write(str_dic+&apos;\n&apos;)</span><br><span class="line">f.close()</span><br><span class="line"></span><br><span class="line"># 分次读取</span><br><span class="line">b = []</span><br><span class="line">f = open(&apos;file&apos;)</span><br><span class="line">for line in f:</span><br><span class="line">    dic = json.loads(line.strip())</span><br><span class="line">    b.append(dic)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>
<h3 id="pickle-1"><a href="#pickle-1" class="headerlink" title="pickle"></a>pickle</h3><ul>
<li>pickle也有json模块里的 dump/dumps ,load/loads方法</li>
<li>pickle在dumps/dump的时候你是看不出来的(二进制内容)</li>
<li>在调用dump/load 读写文件的时候要使用rb和wb模式</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import pickle</span><br><span class="line"></span><br><span class="line">dic = &#123;&quot;k1&quot;:&quot;中国&quot;&#125;</span><br><span class="line">str = pickle.dumps(dic)</span><br><span class="line">print(str) # 一串二进制内容</span><br><span class="line"># b&apos;\x80\x03&#125;q\x00X\x02\x00\x00\x00k1q\x01X\x06\x00\x00\x00\xe4\xb8\xad\xe5\x9b\xbdq\x02s.&apos;</span><br><span class="line">res = pickle.loads(str)</span><br><span class="line">print(res)</span><br><span class="line"># &#123;&apos;k1&apos;: &apos;中国&apos;&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>由于pickle序列化之后是二进制内容所以读写的时候要rb和wb模式</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import pickle</span><br><span class="line">dic = &#123;&quot;k1&quot;:&quot;中国&quot;&#125;</span><br><span class="line">f = open(&apos;fff3&apos;,&apos;wb&apos;)</span><br><span class="line">pickle.dump(dic,f) # 序列化后的字符串写入到文件里</span><br><span class="line">f.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">f = open(&apos;fff3&apos;,&apos;rb&apos;)</span><br><span class="line">res = pickle.load(f)</span><br><span class="line">f.close()</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="pickle的dump和load可以分步序列化写入和读取-json不行"><a href="#pickle的dump和load可以分步序列化写入和读取-json不行" class="headerlink" title="pickle的dump和load可以分步序列化写入和读取 (json不行)"></a>pickle的dump和load可以分步序列化写入和读取 (json不行)</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import pickle</span><br><span class="line">dic = &#123;&quot;k1&quot;:&quot;中国&quot;&#125;</span><br><span class="line">dic2 = &#123;&quot;k2&quot;:&quot;中国2&quot;&#125;</span><br><span class="line">f = open(&apos;fff3&apos;,&apos;wb&apos;)</span><br><span class="line">pickle.dump(dic,f) #</span><br><span class="line">pickle.dump(dic2,f) #</span><br><span class="line">f.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">f = open(&apos;fff3&apos;,&apos;rb&apos;)</span><br><span class="line">res = pickle.load(f)</span><br><span class="line">res2 = pickle.load(f)</span><br><span class="line">f.close()</span><br><span class="line">print(res)</span><br><span class="line">print(res2)</span><br></pre></td></tr></table></figure>
<h3 id="shelve-1"><a href="#shelve-1" class="headerlink" title="shelve"></a>shelve</h3><blockquote>
<p>shelve也是python提供给我们的序列化工具，比pickle用起来更简单一些。</p>
</blockquote>
<blockquote>
<p>shelve只提供给我们一个open方法，是用key来访问的，使用起来和字典类似。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import shelve</span><br><span class="line">f = shelve.open(&apos;shelve_file&apos;)</span><br><span class="line">f[&apos;key&apos;] = &#123;&apos;int&apos;:10, &apos;float&apos;:9.5, &apos;string&apos;:&apos;Sample data&apos;&#125;  #直接对文件句柄操作，就可以存入数据</span><br><span class="line">f.close()</span><br><span class="line"></span><br><span class="line">import shelve</span><br><span class="line">f1 = shelve.open(&apos;shelve_file&apos;)</span><br><span class="line">existing = f1[&apos;key&apos;]  #取出数据的时候也只需要直接用key获取即可，但是如果key不存在会报错</span><br><span class="line">f1.close()</span><br><span class="line">print(existing)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这个模块有个限制，它不支持多个应用同一时间往同一个DB进行写操作。所以当我们知道我们的应用如果只进行读操作，我们可以让shelve通过只读方式打开DB</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import shelve</span><br><span class="line">f = shelve.open(&apos;shelve_file&apos;, flag=&apos;r&apos;)</span><br><span class="line">existing = f[&apos;key&apos;]</span><br><span class="line">f.close()</span><br><span class="line">print(existing)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>由于shelve在默认情况下是不会记录待持久化对象的任何修改的，所以我们在shelve.open()时候需要修改默认参数，否则对象的修改不会保存。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import shelve</span><br><span class="line">f1 = shelve.open(&apos;shelve_file&apos;)</span><br><span class="line">print(f1[&apos;key&apos;])</span><br><span class="line">f1[&apos;key&apos;][&apos;new_value&apos;] = &apos;this was not here before&apos;</span><br><span class="line">f1.close()</span><br><span class="line"></span><br><span class="line">f2 = shelve.open(&apos;shelve_file&apos;, writeback=True)</span><br><span class="line">print(f2[&apos;key&apos;])</span><br><span class="line">f2[&apos;key&apos;][&apos;new_value&apos;] = &apos;this was not here before&apos;</span><br><span class="line">f2.close()</span><br></pre></td></tr></table></figure>
<p>writeback方式有优点也有缺点。优点是减少了我们出错的概率，并且让对象的持久化对用户更加的透明了；但这种方式并不是所有的情况下都需要，首先，使用writeback以后，shelf在open()的时候会增加额外的内存消耗，并且当DB在close()的时候会将缓存中的每一个对象都写入到DB，这也会带来额外的等待时间。因为shelve没有办法知道缓存中哪些对象修改了，哪些对象没有修改，因此所有的对象都会被写入。</p>
<blockquote>
<h4 id="json补充知识-格式化输出"><a href="#json补充知识-格式化输出" class="headerlink" title="json补充知识 格式化输出"></a>json补充知识 格式化输出</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import json</span><br><span class="line">data = &#123;&apos;username&apos;:[&apos;李华&apos;,&apos;二愣子&apos;],&apos;sex&apos;:&apos;male&apos;,&apos;age&apos;:16&#125;</span><br><span class="line">json_dic2 = json.dumps(data,sort_keys=True,indent=2,separators=(&apos;,&apos;,&apos;:&apos;),ensure_ascii=False)</span><br><span class="line">print(json_dic2)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/29/P020_01_python序列化模块/" data-id="cklhgn2er00d7kyfycfvy1qdp" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/fullstack/">fullstack</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-P019_03_python常用模块三" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/29/P019_03_python常用模块三/" class="article-date">
  <time datetime="2018-07-29T07:11:37.000Z" itemprop="datePublished">2018-07-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/29/P019_03_python常用模块三/">P019_03_python常用模块三</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="os模块-不用背，用的时候查"><a href="#os模块-不用背，用的时候查" class="headerlink" title="os模块(不用背，用的时候查)"></a>os模块(不用背，用的时候查)</h3><blockquote>
<p>os模块是与操作系统交互的一个接口</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">os.getcwd() 获取当前工作目录，即当前python脚本工作的目录路径</span><br><span class="line">os.chdir(&quot;dirname&quot;)  改变当前脚本工作目录；相当于shell下cd</span><br><span class="line">os.curdir  返回当前目录: (&apos;.&apos;)</span><br><span class="line">os.pardir  获取当前目录的父目录字符串名：(&apos;..&apos;)</span><br><span class="line">os.makedirs(&apos;dirname1/dirname2&apos;)    可生成多层递归目录</span><br><span class="line">os.removedirs(&apos;dirname1&apos;)    若目录为空，则删除，并递归到上一级目录，如若也为空，则删除，依此类推</span><br><span class="line">os.mkdir(&apos;dirname&apos;)    生成单级目录；相当于shell中mkdir dirname</span><br><span class="line">os.rmdir(&apos;dirname&apos;)    删除单级空目录，若目录不为空则无法删除，报错；相当于shell中rmdir dirname</span><br><span class="line">os.listdir(&apos;dirname&apos;)    列出指定目录下的所有文件和子目录，包括隐藏文件，并以列表方式打印</span><br><span class="line">os.remove()  删除一个文件</span><br><span class="line">os.rename(&quot;oldname&quot;,&quot;newname&quot;)  重命名文件/目录</span><br><span class="line">os.stat(&apos;path/filename&apos;)  获取文件/目录信息</span><br><span class="line">os.sep    输出操作系统特定的路径分隔符，win下为&quot;\\&quot;,Linux下为&quot;/&quot;</span><br><span class="line">os.linesep    输出当前平台使用的行终止符，win下为&quot;\t\n&quot;,Linux下为&quot;\n&quot;</span><br><span class="line">os.pathsep    输出用于分割文件路径的字符串 win下为;,Linux下为:</span><br><span class="line">os.name    输出字符串指示当前使用平台。win-&gt;&apos;nt&apos;; Linux-&gt;&apos;posix&apos;</span><br><span class="line">os.system(&quot;bash command&quot;)  运行shell命令，直接显示</span><br><span class="line">os.popen(&quot;bash command).read()  运行shell命令，获取执行结果</span><br><span class="line">os.environ  获取系统环境变量</span><br><span class="line"></span><br><span class="line">os.path</span><br><span class="line">os.path.abspath(path) 返回path规范化的绝对路径 os.path.split(path) 将path分割成目录和文件名二元组返回 os.path.dirname(path) 返回path的目录。其实就是os.path.split(path)的第一个元素 os.path.basename(path) 返回path最后的文件名。如何path以／或\结尾，那么就会返回空值。</span><br><span class="line">                        即os.path.split(path)的第二个元素</span><br><span class="line">os.path.exists(path)  如果path存在，返回True；如果path不存在，返回False</span><br><span class="line">os.path.isabs(path)  如果path是绝对路径，返回True</span><br><span class="line">os.path.isfile(path)  如果path是一个存在的文件，返回True。否则返回False</span><br><span class="line">os.path.isdir(path)  如果path是一个存在的目录，则返回True。否则返回False</span><br><span class="line">os.path.join(path1[, path2[, ...]])  将多个路径组合后返回，第一个绝对路径之前的参数将被忽略</span><br><span class="line">os.path.getatime(path)  返回path所指向的文件或者目录的最后访问时间</span><br><span class="line">os.path.getmtime(path)  返回path所指向的文件或者目录的最后修改时间</span><br><span class="line">os.path.getsize(path) 返回path的大小</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：os.stat(‘path/filename’)  获取文件/目录信息 的结构说明</p>
</blockquote>
<h4 id="stat-结构"><a href="#stat-结构" class="headerlink" title="stat 结构:"></a>stat 结构:</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">st_mode: inode 保护模式</span><br><span class="line">st_ino: inode 节点号。</span><br><span class="line">st_dev: inode 驻留的设备。</span><br><span class="line">st_nlink: inode 的链接数。</span><br><span class="line">st_uid: 所有者的用户ID。</span><br><span class="line">st_gid: 所有者的组ID。</span><br><span class="line">st_size: 普通文件以字节为单位的大小；包含等待某些特殊文件的数据。</span><br><span class="line">st_atime: 上次访问的时间。</span><br><span class="line">st_mtime: 最后一次修改的时间。</span><br><span class="line">st_ctime: 由操作系统报告的&quot;ctime&quot;。在某些系统上（如Unix）是最新的元数据更改的时间，在其它系统上（如Windows）是创建时间（详细信息参见平台的文档）。</span><br></pre></td></tr></table></figure>
<h3 id="sys模块"><a href="#sys模块" class="headerlink" title="sys模块"></a>sys模块</h3><blockquote>
<p>sys模块是与python解释器交互的一个接口</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sys.argv           命令行参数List，第一个元素是程序本身路径(只能在命令行里执行，在ide里报错)</span><br><span class="line">sys.exit(n)        退出程序，正常退出时exit(0),错误退出sys.exit(1)</span><br><span class="line">sys.version        获取Python解释程序的版本信息</span><br><span class="line">sys.path           返回模块的搜索路径，初始化时使用PYTHONPATH环境变量的值</span><br><span class="line">sys.platform       返回操作系统平台名称</span><br></pre></td></tr></table></figure>
<blockquote>
<p>异常处理和status</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line">try:</span><br><span class="line">    sys.exit(1)</span><br><span class="line">except SystemExit as e:</span><br><span class="line">    print(e)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/29/P019_03_python常用模块三/" data-id="cklhgn2er00d5kyfyuhb5al4u" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/fullstack/">fullstack</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-P019_02_python常用模块二" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/29/P019_02_python常用模块二/" class="article-date">
  <time datetime="2018-07-29T03:52:58.000Z" itemprop="datePublished">2018-07-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/29/P019_02_python常用模块二/">P019_02_python常用模块二</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="时间模块"><a href="#时间模块" class="headerlink" title="时间模块"></a>时间模块</h3><ul>
<li>字符串：给人看的 2018-07-29</li>
<li>时间戳时间：float时间：计算机看的</li>
<li>结构化时间：元组，计算用的</li>
</ul>
<h4 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h4><ol>
<li>time.sleep(secs) (线程)推迟指定的时间运行。单位为秒。</li>
<li>time.time() 获取当前时间戳</li>
</ol>
<h4 id="strftime-格式化时间"><a href="#strftime-格式化时间" class="headerlink" title="strftime 格式化时间"></a>strftime 格式化时间</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(time.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;)) # year month day hour minute second</span><br><span class="line"></span><br><span class="line"># 2018-07-29 12:01:20</span><br></pre></td></tr></table></figure>
<blockquote>
<p>时间格式化规则</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">%y 两位数的年份表示（00-99）</span><br><span class="line">%Y 四位数的年份表示（000-9999）</span><br><span class="line">%m 月份（01-12）</span><br><span class="line">%d 月内中的一天（0-31）</span><br><span class="line">%H 24小时制小时数（0-23）</span><br><span class="line">%I 12小时制小时数（01-12）</span><br><span class="line">%M 分钟数（00=59）</span><br><span class="line">%S 秒（00-59）</span><br><span class="line">%a 本地简化星期名称</span><br><span class="line">%A 本地完整星期名称</span><br><span class="line">%b 本地简化的月份名称</span><br><span class="line">%B 本地完整的月份名称</span><br><span class="line">%c 本地相应的日期表示和时间表示</span><br><span class="line">%j 年内的一天（001-366）</span><br><span class="line">%p 本地A.M.或P.M.的等价符</span><br><span class="line">%U 一年中的星期数（00-53）星期天为星期的开始</span><br><span class="line">%w 星期（0-6），星期天为星期的开始</span><br><span class="line">%W 一年中的星期数（00-53）星期一为星期的开始</span><br><span class="line">%x 本地相应的日期表示</span><br><span class="line">%X 本地相应的时间表示</span><br><span class="line">%Z 当前时区的名称</span><br><span class="line">%% %号本身</span><br></pre></td></tr></table></figure>
<h4 id="结构化时间"><a href="#结构化时间" class="headerlink" title="结构化时间"></a>结构化时间</h4><blockquote>
<p>时间元组:localtime将一个时间戳转换为当前时区的struct_time<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">time.localtime()</span><br><span class="line"># time.struct_time(tm_year=2018, tm_mon=7, tm_mday=29, tm_hour=12, tm_min=5, tm_sec=42, tm_wday=6, tm_yday=210, tm_isdst=0)</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h4 id="不同时间格式的转换"><a href="#不同时间格式的转换" class="headerlink" title="不同时间格式的转换"></a>不同时间格式的转换</h4><p><img src="https://images2015.cnblogs.com/blog/827651/201707/827651-20170724144151992-1508626640.png" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">#时间戳--&gt;结构化时间</span><br><span class="line">#time.gmtime(时间戳)    #UTC时间，与英国伦敦当地时间一致</span><br><span class="line">#time.localtime(时间戳) #当地时间。例如我们现在在北京执行这个方法：与UTC时间相差8小时，UTC时间+8小时 = 北京时间 </span><br><span class="line">&gt;&gt;&gt;time.gmtime(1500000000)</span><br><span class="line">time.struct_time(tm_year=2017, tm_mon=7, tm_mday=14, tm_hour=2, tm_min=40, tm_sec=0, tm_wday=4, tm_yday=195, tm_isdst=0)</span><br><span class="line">&gt;&gt;&gt;time.localtime(1500000000)</span><br><span class="line">time.struct_time(tm_year=2017, tm_mon=7, tm_mday=14, tm_hour=10, tm_min=40, tm_sec=0, tm_wday=4, tm_yday=195, tm_isdst=0)</span><br><span class="line"></span><br><span class="line">#结构化时间--&gt;时间戳　</span><br><span class="line">#time.mktime(结构化时间)</span><br><span class="line">&gt;&gt;&gt;time_tuple = time.localtime(1500000000)</span><br><span class="line">&gt;&gt;&gt;time.mktime(time_tuple)</span><br><span class="line">1500000000.0</span><br><span class="line"></span><br><span class="line">#结构化时间--&gt;字符串时间</span><br><span class="line">#time.strftime(&quot;格式定义&quot;,&quot;结构化时间&quot;)  结构化时间参数若不传，则现实当前时间</span><br><span class="line">&gt;&gt;&gt;time.strftime(&quot;%Y-%m-%d %X&quot;)</span><br><span class="line">&apos;2017-07-24 14:55:36&apos;</span><br><span class="line">&gt;&gt;&gt;time.strftime(&quot;%Y-%m-%d&quot;,time.localtime(1500000000))</span><br><span class="line">&apos;2017-07-14&apos;</span><br><span class="line"></span><br><span class="line">#字符串时间--&gt;结构化时间</span><br><span class="line">#time.strptime(时间字符串,字符串对应格式)</span><br><span class="line">&gt;&gt;&gt;time.strptime(&quot;2017-03-16&quot;,&quot;%Y-%m-%d&quot;)</span><br><span class="line">time.struct_time(tm_year=2017, tm_mon=3, tm_mday=16, tm_hour=0, tm_min=0, tm_sec=0, tm_wday=3, tm_yday=75, tm_isdst=-1)</span><br><span class="line">&gt;&gt;&gt;time.strptime(&quot;07/24/2017&quot;,&quot;%m/%d/%Y&quot;)</span><br><span class="line">time.struct_time(tm_year=2017, tm_mon=7, tm_mday=24, tm_hour=0, tm_min=0, tm_sec=0, tm_wday=0, tm_yday=205, tm_isdst=-1)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>asctime </p>
</blockquote>
<p><img src="https://images2015.cnblogs.com/blog/827651/201707/827651-20170724144235883-1963884021.png" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#结构化时间 --&gt; %a %b %d %H:%M:%S %Y串</span><br><span class="line">#time.asctime(结构化时间) 如果不传参数，直接返回当前时间的格式化串</span><br><span class="line">&gt;&gt;&gt;time.asctime(time.localtime(1500000000))</span><br><span class="line">&apos;Fri Jul 14 10:40:00 2017&apos;</span><br><span class="line">&gt;&gt;&gt;time.asctime()</span><br><span class="line">&apos;Mon Jul 24 15:18:33 2017&apos;</span><br><span class="line"></span><br><span class="line">#时间戳 --&gt; %a %d %d %H:%M:%S %Y串</span><br><span class="line">#time.ctime(时间戳)  如果不传参数，直接返回当前时间的格式化串</span><br><span class="line">&gt;&gt;&gt;time.ctime()</span><br><span class="line">&apos;Mon Jul 24 15:19:07 2017&apos;</span><br><span class="line">&gt;&gt;&gt;time.ctime(1500000000)</span><br><span class="line">&apos;Fri Jul 14 10:40:00 2017&apos;</span><br></pre></td></tr></table></figure>
<blockquote>
<h3 id="计算时间差"><a href="#计算时间差" class="headerlink" title="计算时间差"></a>计算时间差</h3></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import time</span><br><span class="line">true_time=time.mktime(time.strptime(&apos;2017-09-11 08:30:00&apos;,&apos;%Y-%m-%d %H:%M:%S&apos;))</span><br><span class="line">time_now=time.mktime(time.strptime(&apos;2017-09-12 11:00:00&apos;,&apos;%Y-%m-%d %H:%M:%S&apos;))</span><br><span class="line">dif_time=time_now-true_time</span><br><span class="line">struct_time=time.gmtime(dif_time)</span><br><span class="line">print(&apos;过去了%d年%d月%d天%d小时%d分钟%d秒&apos;%(struct_time.tm_year-1970,struct_time.tm_mon-1,</span><br><span class="line">                                       struct_time.tm_mday-1,struct_time.tm_hour,</span><br><span class="line">                                       struct_time.tm_min,struct_time.tm_sec))</span><br></pre></td></tr></table></figure>
<h3 id="random模块"><a href="#random模块" class="headerlink" title="random模块"></a>random模块</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">import random</span><br><span class="line">#随机小数</span><br><span class="line">random.random()     </span><br><span class="line"> # 大于0且小于1之间的小数 0.7664338663654585</span><br><span class="line">random.uniform(1,3)</span><br><span class="line">#大于1小于3的小数 1.6270147180533838</span><br><span class="line"></span><br><span class="line">#随机整数</span><br><span class="line">random.randint(1,5)  # 大于等于1且小于等于5之间的整数</span><br><span class="line">random.randrange(1,10,2) # 大于等于1且小于10之间的奇数</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#随机选择一个返回</span><br><span class="line">random.choice([1,&apos;23&apos;,[4,5]])  </span><br><span class="line"># #1或者23或者[4,5]</span><br><span class="line"></span><br><span class="line">#随机选择多个返回，返回的个数为函数的第二个参数</span><br><span class="line">random.sample([1,&apos;23&apos;,[4,5]],2)</span><br><span class="line"># #列表元素任意2个组合 [[4, 5], &apos;23&apos;]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#打乱列表顺序</span><br><span class="line">item=[1,3,5,7,9]</span><br><span class="line">random.shuffle(item) </span><br><span class="line"># 打乱次序</span><br><span class="line">item # [5, 1, 3, 7, 9]</span><br><span class="line"></span><br><span class="line">random.shuffle(item)</span><br><span class="line"># item [5, 9, 7, 1, 3]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>生成随机验证码</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import random</span><br><span class="line"></span><br><span class="line">def v_code():</span><br><span class="line"></span><br><span class="line">    code = &apos;&apos;</span><br><span class="line">    for i in range(5):</span><br><span class="line"></span><br><span class="line">        num=random.randint(0,9)</span><br><span class="line">        alf=chr(random.randint(65,90))</span><br><span class="line">        add=random.choice([num,alf])</span><br><span class="line">        code=&quot;&quot;.join([code,str(add)])</span><br><span class="line"></span><br><span class="line">    return code</span><br><span class="line"></span><br><span class="line">print(v_code())</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/29/P019_02_python常用模块二/" data-id="cklhgn2ep00d1kyfynhqqrlc5" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/fullstack/">fullstack</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-P019_01_python常用模块一" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/28/P019_01_python常用模块一/" class="article-date">
  <time datetime="2018-07-28T10:59:11.000Z" itemprop="datePublished">2018-07-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/28/P019_01_python常用模块一/">P019_01_python常用模块一</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="常用模块"><a href="#常用模块" class="headerlink" title="常用模块"></a>常用模块</h3><ul>
<li>collections(不太重要)</li>
<li>时间模块</li>
<li>random(随机相关)</li>
<li>os模块(和操作系统打交道的)</li>
<li>sys模块(和python解释器打交道的)</li>
<li>序列化模块(非常重要的)</li>
<li>re模块(前面已经用了)</li>
</ul>
<h3 id="collections模块"><a href="#collections模块" class="headerlink" title="collections模块"></a>collections模块</h3><ol>
<li>namedtuple: 生成可以使用名字来访问元素内容的tuple</li>
<li>deque: 双端队列，可以快速的从另外一侧追加和推出对象</li>
<li>Counter: 计数器，主要用来计数</li>
<li>OrderedDict: 有序字典</li>
<li>defaultdict: 带有默认值的字典</li>
</ol>
<h4 id="namedtuple"><a href="#namedtuple" class="headerlink" title="namedtuple"></a>namedtuple</h4><p>我们知道tuple可以表示不变集合，例如，一个点的二维坐标就可以表示成：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p = (1, 2)</span><br></pre></td></tr></table></figure>
<p>但是，看到(1, 2)，很难看出这个tuple是用来表示一个坐标的。</p>
<p>这时，namedtuple就派上了用场：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from collections import namedtuple</span><br><span class="line">Point = namedtuple(&apos;Point&apos;, [&apos;x&apos;, &apos;y&apos;])</span><br><span class="line">p = Point(1, 2)</span><br><span class="line">p.x # 1</span><br><span class="line">p.y # 2</span><br></pre></td></tr></table></figure>
<blockquote>
<h3 id="万能公式：-namedtuple-‘名称’-属性list"><a href="#万能公式：-namedtuple-‘名称’-属性list" class="headerlink" title="万能公式： namedtuple(‘名称’, [属性list]):"></a>万能公式： namedtuple(‘名称’, [属性list]):</h3></blockquote>
<p>类似的，如果要用坐标和半径表示一个圆，也可以用namedtuple定义：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Circle = namedtuple(&apos;Circle&apos;, [&apos;x&apos;, &apos;y&apos;, &apos;r&apos;])</span><br></pre></td></tr></table></figure>
<blockquote>
<p>扑克牌功能</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from collections import namedtuple</span><br><span class="line"># namedtuple(&apos;扑克牌&apos;, [&apos;花色&apos;, &apos;数字&apos;])</span><br><span class="line">Card = namedtuple(&apos;Card&apos;, [&apos;color&apos;, &apos;num&apos;])</span><br><span class="line">c = Card(&apos;红桃&apos;,&apos;2&apos;)</span><br></pre></td></tr></table></figure>
<h4 id="queue-队列-FIFO"><a href="#queue-队列-FIFO" class="headerlink" title="queue 队列 FIFO"></a>queue 队列 FIFO</h4><blockquote>
<p>first in first out</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import queue</span><br><span class="line"></span><br><span class="line">q = queue.Queue()</span><br><span class="line">q.put(10)</span><br><span class="line">q.put(1)</span><br><span class="line">q.put(12)</span><br><span class="line"></span><br><span class="line">print(q.get()) # 10</span><br><span class="line">print(q.get()) # 1</span><br><span class="line">print(q.get()) # 12</span><br><span class="line">print(q.get()) # 阻塞 队列里只有3个元素 再次进行取值就会阻塞在这里</span><br><span class="line">print(q.get()) # 阻塞 队列里只有3个元素 再次进行取值就会阻塞在这里</span><br><span class="line"></span><br><span class="line">print(q.qsize()) # 查看队列里元素个数 取一个少一个</span><br></pre></td></tr></table></figure>
<p>例如电影票200张但是500个人买，前200人顺利买了票，后面的只能停在哪里等待票</p>
<h4 id="deque-双端队列"><a href="#deque-双端队列" class="headerlink" title="deque 双端队列"></a>deque 双端队列</h4><p>使用list存储数据时，按索引访问元素很快，但是插入和删除元素就很慢了，因为list是线性存储，数据量大的时候，插入和删除效率很低。</p>
<blockquote>
<p>deque是为了高效实现插入和删除操作的双向列表，适合用于队列和栈：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">from collections import deque</span><br><span class="line"></span><br><span class="line">dq = deque([1,2])</span><br><span class="line">dq.append(&apos;a&apos;) # 从后面放数据 [1,2,&apos;a&apos;]</span><br><span class="line">dq.appendleft(&apos;b&apos;) # 从前面放数据 [&apos;b&apos;,1,2,&apos;a&apos;]</span><br><span class="line">dq.insert(2,3)  # 根据索引放数据 [&apos;b&apos;,&apos;1&apos;,&apos;3&apos;,&apos;2&apos;,&apos;a&apos;]</span><br><span class="line">print(dq.pop()) # 从后面取数据 a</span><br><span class="line">print(dq.pop()) # 从后面取数据 2</span><br><span class="line">print(dq.popleft()) # 从前面取数据 b</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<h4 id="deque除了实现list的append-和pop-外，还支持appendleft-和popleft-，这样就可以非常高效地往头部添加或删除元素。"><a href="#deque除了实现list的append-和pop-外，还支持appendleft-和popleft-，这样就可以非常高效地往头部添加或删除元素。" class="headerlink" title="deque除了实现list的append()和pop()外，还支持appendleft()和popleft()，这样就可以非常高效地往头部添加或删除元素。"></a>deque除了实现list的append()和pop()外，还支持appendleft()和popleft()，这样就可以非常高效地往头部添加或删除元素。</h4></blockquote>
<h4 id="OrderedDict-有序字典"><a href="#OrderedDict-有序字典" class="headerlink" title="OrderedDict 有序字典"></a>OrderedDict 有序字典</h4><blockquote>
<p>使用dict时，Key是无序的。在对dict做迭代时，我们无法确定Key的顺序。</p>
</blockquote>
<blockquote>
<p>如果要保持Key的顺序，可以用OrderedDict：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">from collections import OrderedDict</span><br><span class="line"></span><br><span class="line">d = dict([(&apos;a&apos;, 1), (&apos;b&apos;, 2), (&apos;c&apos;, 3)])</span><br><span class="line"># dict的Key是无序的 &#123;&apos;a&apos;: 1, &apos;c&apos;: 3, &apos;b&apos;: 2&#125;</span><br><span class="line"></span><br><span class="line">od = OrderedDict([(&apos;a&apos;, 1), (&apos;b&apos;, 2), (&apos;c&apos;, 3)])</span><br><span class="line">od</span><br><span class="line"># OrderedDict的Key是有序的 OrderedDict([(&apos;a&apos;, 1), (&apos;b&apos;, 2), (&apos;c&apos;, 3)])</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意，OrderedDict的Key会按照插入的顺序排列，不是Key本身排序：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">od = OrderedDict()</span><br><span class="line">od[&apos;z&apos;] = 1</span><br><span class="line">od[&apos;y&apos;] = 2</span><br><span class="line">od[&apos;x&apos;] = 3</span><br><span class="line">od.keys() # 按照插入的Key的顺序返回 [&apos;z&apos;, &apos;y&apos;, &apos;x&apos;]</span><br></pre></td></tr></table></figure>
<h4 id="defaultdict"><a href="#defaultdict" class="headerlink" title="defaultdict"></a>defaultdict</h4><blockquote>
<p>有如下值集合 [11,22,33,44,55,66,77,88,99,90…]，将所有大于 66 的值保存至字典的第一个key中，将小于 66 的值保存至第二个key的值中。</p>
</blockquote>
<blockquote>
<p>即： {‘k1’: 大于66 , ‘k2’: 小于66}</p>
</blockquote>
<p>原生字典解决方法:很麻烦</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">values = [11, 22, 33,44,55,66,77,88,99,90]</span><br><span class="line"></span><br><span class="line">my_dict = &#123;&#125;</span><br><span class="line"></span><br><span class="line">for value in  values:</span><br><span class="line">    if value&gt;66:</span><br><span class="line">        if my_dict.has_key(&apos;k1&apos;):</span><br><span class="line">            my_dict[&apos;k1&apos;].append(value)</span><br><span class="line">        else:</span><br><span class="line">            my_dict[&apos;k1&apos;] = [value]</span><br><span class="line">    else:</span><br><span class="line">        if my_dict.has_key(&apos;k2&apos;):</span><br><span class="line">            my_dict[&apos;k2&apos;].append(value)</span><br><span class="line">        else:</span><br><span class="line">            my_dict[&apos;k2&apos;] = [value]</span><br></pre></td></tr></table></figure>
<p>defaultdict字典解决方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">from collections import defaultdict</span><br><span class="line"></span><br><span class="line">values = [11, 22, 33,44,55,66,77,88,99,90]</span><br><span class="line"></span><br><span class="line">my_dict = defaultdict(list) # key的默认值为列表</span><br><span class="line"></span><br><span class="line">for value in  values:</span><br><span class="line">    if value&gt;66:</span><br><span class="line">        my_dict[&apos;k1&apos;].append(value)</span><br><span class="line">    else:</span><br><span class="line">        my_dict[&apos;k2&apos;].append(value)</span><br></pre></td></tr></table></figure>
<blockquote>
<h3 id="注意事项："><a href="#注意事项：" class="headerlink" title="注意事项："></a>注意事项：</h3></blockquote>
<ul>
<li>defaultdict()的参数必须是callable()的 </li>
<li>如果默认值为数字5就不能写defaultdict(5)</li>
<li>你可以使用lambda表达式来实现</li>
</ul>
<blockquote>
<p>使用dict时，如果引用的Key不存在，就会抛出KeyError。如果希望key不存在时，返回一个默认值，就可以用defaultdict：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from collections import defaultdict</span><br><span class="line">dd = defaultdict(lambda: &apos;N/A&apos;)</span><br><span class="line">dd[&apos;key1&apos;] = &apos;abc&apos;</span><br><span class="line">dd[&apos;key1&apos;] # key1存在 &apos;abc&apos;</span><br><span class="line">dd[&apos;key2&apos;] # key2不存在，返回默认值 &apos;N/A&apos;</span><br></pre></td></tr></table></figure>
<h4 id="Counter-计数用的最没用的一个知识点"><a href="#Counter-计数用的最没用的一个知识点" class="headerlink" title="Counter(计数用的最没用的一个知识点)"></a>Counter(计数用的最没用的一个知识点)</h4><blockquote>
<p>Counter类的目的是用来跟踪值出现的次数。它是一个无序的容器类型，以字典的键值对形式存储，其中元素作为key，其计数作为value。计数值可以是任意的Interger（包括0和负数）。Counter类和其他语言的bags或multisets很相似。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">c = Counter(&apos;abcdeabcdabcaba&apos;)</span><br><span class="line">print c</span><br><span class="line">输出：Counter(&#123;&apos;a&apos;: 5, &apos;b&apos;: 4, &apos;c&apos;: 3, &apos;d&apos;: 2, &apos;e&apos;: 1&#125;)</span><br></pre></td></tr></table></figure>
<p><a href="http://www.cnblogs.com/Eva-J/articles/7291842.html" target="_blank" rel="noopener">其他详细内容</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/28/P019_01_python常用模块一/" data-id="cklhgn2eq00d3kyfyd0tzlimt" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/fullstack/">fullstack</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-P018_01_python认识正则表达式" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/28/P018_01_python认识正则表达式/" class="article-date">
  <time datetime="2018-07-28T09:19:18.000Z" itemprop="datePublished">2018-07-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/28/P018_01_python认识正则表达式/">P018_01_python认识正则表达式</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><blockquote>
<p>正则是通用的(几乎所有编程语言都适用的一个规则)</p>
</blockquote>
<p>python里想使用正则只能引入re模块</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br></pre></td></tr></table></figure>
<p>一个推荐的工具网站</p>
<p><a href="http://tool.chinaz.com/regex" target="_blank" rel="noopener">正则工具网站</a></p>
<p>具体要记住的规则请参考我之前写的<br>[难以启齿的正则]文章</p>
<p>知识点总结的博客</p>
<p><a href="http://www.cnblogs.com/Eva-J/articles/7228075.html" target="_blank" rel="noopener">Eva_J</a></p>
<blockquote>
<p>匹配手机号的例子</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import  re</span><br><span class="line">phone_num = input(&apos;请输入手机号&apos;)</span><br><span class="line">if re.match(&apos;^(13|14|15|18)[0-9]&#123;9&#125;$&apos;,phone_num):</span><br><span class="line">    print(&apos;合法&apos;)</span><br><span class="line">else:</span><br><span class="line">    print(&apos;非法&apos;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>字符串中r的应用</p>
</blockquote>
<p>原样匹配(取消「\」的转义)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">正则 \\n 匹配 换行\n</span><br></pre></td></tr></table></figure>
<blockquote>
<p>贪婪匹配</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;.*&gt;  正则</span><br><span class="line"></span><br><span class="line">&lt;script&gt;....&lt;/script&gt;</span><br><span class="line"># 匹配结果</span><br><span class="line">&lt;script&gt;....&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>惰性匹配</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;.*?&gt;  正则</span><br><span class="line">&lt;script&gt;....&lt;/script&gt;</span><br><span class="line"># 匹配结果</span><br><span class="line">&lt;script&gt;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h4 id="几个常用的贪婪匹配"><a href="#几个常用的贪婪匹配" class="headerlink" title="几个常用的贪婪匹配"></a>几个常用的贪婪匹配</h4><ul>
<li>*?重复任意次，但尽可能少的重复</li>
<li>+?重复1次或更多次，但尽可能少的重复</li>
<li>??重复0次或1次，但尽可能少的重复</li>
<li>{n,m}?重复n-m次，但尽可能少的重复</li>
<li>{n,}?重复n次以上，但尽可能少的重复</li>
</ul>
<h4 id="的用法"><a href="#的用法" class="headerlink" title=".*?的用法"></a>.*?的用法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">. 任意字符</span><br><span class="line">* 取0至无限长度</span><br><span class="line">? 非贪婪模式</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">实例： .*?x</span><br><span class="line">取前面任意的长度但是碰见x就结束了</span><br></pre></td></tr></table></figure>
<h3 id="re模块"><a href="#re模块" class="headerlink" title="re模块"></a>re模块</h3><p>相关重要方法:都是从一个字符串中匹配你要的规则</p>
<ul>
<li>findall</li>
<li>search</li>
<li>match</li>
</ul>
<blockquote>
<p>findall 返回所有匹配规则的元素放入到列表里</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line"># 匹配所有a</span><br><span class="line">res = re.findall(&apos;a&apos;,&apos;eva egon yuan&apos;)</span><br><span class="line">print(res) # [&apos;a&apos;,&apos;a&apos;]</span><br><span class="line"></span><br><span class="line">res = re.findall(&apos;[a-z]+&apos;,&apos;eva egon yuan&apos;)</span><br><span class="line">print(res) # [&apos;eva&apos;,&apos;egon&apos;,&apos;yuan&apos;]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>search </p>
</blockquote>
<ul>
<li>从前往后找,匹配到一个就返回</li>
<li>而且需要你调用group()才能返回结果</li>
<li>但如果没有找到结果，那么返回的是None,调用group会爆错</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line"></span><br><span class="line">res = re.search(&apos;a&apos;,&apos;eva egon yuan&apos;)</span><br><span class="line">print(res.group()) #  &apos;a&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">res = re.search(&apos;j&apos;,&apos;eva egon yuan&apos;)</span><br><span class="line">print(res) # None</span><br><span class="line">print(res.group()) #  None.group() 报错 报错  </span><br><span class="line"></span><br><span class="line">正确的写法</span><br><span class="line"></span><br><span class="line">res = re.search(&apos;j&apos;,&apos;eva egon yuan&apos;)</span><br><span class="line">if res:</span><br><span class="line">    print(res.group())</span><br></pre></td></tr></table></figure>
<blockquote>
<p>match 用法和search是一样的</p>
</blockquote>
<ul>
<li>match是从头开始匹配，如果正则从头开始匹配上，就返回一个变量</li>
<li>匹配的内容调用group才能显示</li>
<li>如果没匹配上，就返回None,调用group报错</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">res = re.match(&apos;e&apos;,&apos;eva egon yuan&apos;)</span><br><span class="line">if res:</span><br><span class="line">    print(res.group()) </span><br><span class="line"></span><br><span class="line">结果：</span><br><span class="line">&apos;e&apos;</span><br><span class="line"></span><br><span class="line">res = re.match(&apos;a&apos;,&apos;eva egon yuan&apos;)</span><br><span class="line">if res:</span><br><span class="line">    print(res.group()) </span><br><span class="line"></span><br><span class="line">结果： 什么也不打印</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">res = re.match(&apos;[a-z]&apos;,&apos;eva egon yuan&apos;)</span><br><span class="line">if res:</span><br><span class="line">    print(res.group()) </span><br><span class="line"></span><br><span class="line">结果：</span><br><span class="line">&apos;eva&apos;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>split</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">res = re.split(&apos;[ab]&apos;,&apos;abcd&apos;)</span><br><span class="line"># 先按a分割得到 &apos;&apos;和&apos;bcd&apos; 再按b分割 &apos;&apos;,&apos;&apos;,&apos;cd&apos;</span><br><span class="line">print(res)</span><br><span class="line">结果：</span><br><span class="line"></span><br><span class="line">[&apos;&apos;,&apos;&apos;,&apos;cd&apos;]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>sub</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">res = re.sub(&apos;\d&apos;, &apos;H&apos;, &apos;eva3egon4yuan4&apos;, 1)</span><br><span class="line">#将数字替换成&apos;H&apos;，参数1表示只替换1个</span><br><span class="line">print(res) #evaHegon4yuan4</span><br><span class="line"></span><br><span class="line">res = re.sub(&apos;\d&apos;, &apos;H&apos;, &apos;eva3egon4yuan4&apos;)</span><br><span class="line">print(res) #evaHegonHyuanH</span><br></pre></td></tr></table></figure>
<blockquote>
<p>subn</p>
</blockquote>
<p>返回元组(替换的结果,替换了多少次)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">res = re.subn(&apos;\d&apos;, &apos;H&apos;, &apos;eva3egon4yuan4&apos;)</span><br><span class="line"># 将数字替换成&apos;H&apos;，返回元组(替换的结果,替换了多少次)</span><br><span class="line">print(res) # (&apos;evaHegonHyuanH&apos;, 3)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>compile</p>
</blockquote>
<ul>
<li>将正则表达式编译成为一个 正则表达式对象</li>
<li>正则表达式对象调用正则方法</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">obj = re.compile(&apos;\d&#123;3&#125;&apos;)  #将正则表达式编译成为一个 正则表达式对象，规则要匹配的是3个数字</span><br><span class="line">res = obj.search(&apos;abc123eeee&apos;) #正则表达式对象调用search，参数为待匹配的字符串</span><br><span class="line">print(res.group())  </span><br><span class="line">#结果 ： 123</span><br></pre></td></tr></table></figure>
<blockquote>
<p>finditer</p>
</blockquote>
<ul>
<li>返回的是一个迭代器</li>
<li>迭代元素要调用group才能查看</li>
</ul>
<p>使用它就是为了节省内存</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ret = re.finditer(&apos;\d&apos;, &apos;ds3sy4784a&apos;)   #finditer返回一个存放匹配结果的迭代器</span><br><span class="line">print(ret)  # &lt;callable_iterator object at 0x10195f940&gt;</span><br><span class="line">print(next(ret).group())  #查看第一个结果</span><br><span class="line">print(next(ret).group())  #查看第二个结果</span><br><span class="line">print([i.group() for i in ret])  #查看剩余的左右结果</span><br></pre></td></tr></table></figure>
<h4 id="为什么search-match要通过group才可以获取结果"><a href="#为什么search-match要通过group才可以获取结果" class="headerlink" title="为什么search match要通过group才可以获取结果"></a>为什么search match要通过group才可以获取结果</h4><p>分组的概念</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">res = re.search(&apos;^[1-9](\d&#123;14&#125;)(\d&#123;2&#125;[0-9x]?$&apos;,&apos;110105199912122277&apos;)</span><br><span class="line"></span><br><span class="line">print(res.group())</span><br><span class="line">print(res.group(1))</span><br><span class="line">print(res.group(2))</span><br></pre></td></tr></table></figure>
<h4 id="注意点「-」的第三种用法"><a href="#注意点「-」的第三种用法" class="headerlink" title="注意点「?」的第三种用法"></a>注意点「?」的第三种用法</h4><ol>
<li>在量词的地方表示匹配0次或一次</li>
<li>在量词后面表示惰性匹配的标志</li>
<li>放到分组的第一个代表取消分组优先</li>
</ol>
<blockquote>
<p>引入findall没有 group的概念所有它就优先匹配「()」组里的</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line"></span><br><span class="line">ret = re.findall(&apos;www.(baidu|oldboy).com&apos;, &apos;www.oldboy.com&apos;)</span><br><span class="line">print(ret)  # [&apos;oldboy&apos;]     这是因为findall会优先把匹配结果组里内容返回,如果想要匹配结果,取消权限即可</span><br><span class="line"></span><br><span class="line">ret = re.findall(&apos;www.(?:baidu|oldboy).com&apos;, &apos;www.oldboy.com&apos;)</span><br><span class="line">print(ret)  # [&apos;www.oldboy.com&apos;]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>split的优先级查询</p>
</blockquote>
<ul>
<li>split也没有分组的机制，所以如果有分组就分组优先</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ret=re.split(&quot;\d+&quot;,&quot;eva3egon4yuan&quot;)</span><br><span class="line">print(ret) #结果 ： [&apos;eva&apos;, &apos;egon&apos;, &apos;yuan&apos;]</span><br><span class="line"></span><br><span class="line">ret=re.split(&quot;(\d+)&quot;,&quot;eva3egon4yuan&quot;)</span><br><span class="line">print(ret) #结果 ： [&apos;eva&apos;, &apos;3&apos;, &apos;egon&apos;, &apos;4&apos;, &apos;yuan&apos;]</span><br><span class="line"></span><br><span class="line">#在匹配部分加上（）之后所切出的结果是不同的，</span><br><span class="line">#没有（）的没有保留所匹配的项，但是有（）的却能够保留了匹配的项，</span><br><span class="line">#这个在某些需要保留匹配部分的使用过程是非常重要的。</span><br></pre></td></tr></table></figure>
<h4 id="其他规则"><a href="#其他规则" class="headerlink" title="其他规则"></a>其他规则</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">re.I(IGNORECASE)忽略大小写，括号内是完整的写法</span><br><span class="line">re.M(MULTILINE)多行模式，改变^和$的行为</span><br><span class="line">re.S(DOTALL)点可以匹配任意字符，包括换行符</span><br><span class="line">re.L(LOCALE)做本地化识别的匹配，表示特殊字符集 \w, \W, \b, \B, \s, \S 依赖于当前环境，不推荐使用</span><br><span class="line">re.U(UNICODE) 使用\w \W \s \S \d \D使用取决于unicode定义的字符属性。在python3中默认使用该flag</span><br><span class="line">re.X(VERBOSE)冗长模式，该模式下pattern字符串可以是多行的，忽略空白字符，并可以添加注释</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/28/P018_01_python认识正则表达式/" data-id="cklhgn2eo00cykyfy1z4b2qga" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/fullstack/">fullstack</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-P017_02_python算法初识" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/28/P017_02_python算法初识/" class="article-date">
  <time datetime="2018-07-28T08:11:24.000Z" itemprop="datePublished">2018-07-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/28/P017_02_python算法初识/">P017_02_python算法初识</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h3><p>先看案例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">99*13 =?   (100-1)*13</span><br><span class="line">17*13 =?   (13+4)*13 </span><br><span class="line">[1,5,2,66,22,33,21,110] </span><br><span class="line">查找</span><br><span class="line">排序</span><br><span class="line">最短路径</span><br></pre></td></tr></table></figure>
<h4 id="二分查找算法"><a href="#二分查找算法" class="headerlink" title="二分查找算法"></a>二分查找算法</h4><blockquote>
<p>要点：</p>
</blockquote>
<ul>
<li>必须处理有序的列表</li>
<li></li>
</ul>
<p>用最快方式找到66的位置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = [2,3,4,10,13,21,24,32,44,51,66,70,80,91,102,188]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>以后更新</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/28/P017_02_python算法初识/" data-id="cklhgn2eo00czkyfymansrmd3" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/fullstack/">fullstack</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-P017_01_python递归" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/28/P017_01_python递归/" class="article-date">
  <time datetime="2018-07-28T04:51:57.000Z" itemprop="datePublished">2018-07-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/28/P017_01_python递归/">P017_01_python递归</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="递归函数"><a href="#递归函数" class="headerlink" title="递归函数"></a>递归函数</h3><p>什么是递归：在函数中调用自身函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 死循环</span><br><span class="line">while 1:</span><br><span class="line">    print(0)</span><br><span class="line"></span><br><span class="line"># 如果用函数呢？</span><br><span class="line">def aa():</span><br><span class="line">    print(&apos;从前有座山&apos;)</span><br><span class="line">    aa()</span><br><span class="line"></span><br><span class="line">aa() #执行一部分后会报错</span><br><span class="line">RecursionError: maximum recursion depth exceeded while calling a Python object</span><br><span class="line"># 超过递归最大深度--因为一直的开辟空间函数没有结束</span><br></pre></td></tr></table></figure>
<p>测试递归深度</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">n = 0</span><br><span class="line">def xx():</span><br><span class="line">    global n</span><br><span class="line">    n+=1</span><br><span class="line">    print(n  )</span><br><span class="line">    xx()</span><br><span class="line"></span><br><span class="line">xx()</span><br><span class="line"></span><br><span class="line"># 打印到998</span><br></pre></td></tr></table></figure>
<blockquote>
<p>递归的默认深度是997/998是python从内存角度出发做的限制</p>
</blockquote>
<p>递归的深度是可以修改的，但是即使设置的过大依然要由硬件决定(我的hp能达到3222)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line">sys.setrecursionlimit(10000000)</span><br><span class="line">n = 0</span><br><span class="line">def xx():</span><br><span class="line">    global n</span><br><span class="line">    n+=1</span><br><span class="line">    print(n  )</span><br><span class="line">    xx()</span><br><span class="line"></span><br><span class="line">xx()</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="如果你说需要1000次递归才能实现"><a href="#如果你说需要1000次递归才能实现" class="headerlink" title="如果你说需要1000次递归才能实现"></a>如果你说需要1000次递归才能实现</h4></blockquote>
<p>我建议不要用递归，因为要1000次才能实现的需求说明递归不合适</p>
<h4 id="递归的缺点"><a href="#递归的缺点" class="headerlink" title="递归的缺点"></a>递归的缺点</h4><ul>
<li>如果递归次数过多，就不适合用递归</li>
<li>递归的缺点：占内存</li>
<li>递归的优点：会让代码变简单</li>
</ul>
<h4 id="递归调用的定义"><a href="#递归调用的定义" class="headerlink" title="递归调用的定义"></a>递归调用的定义</h4><blockquote>
<p>函数嵌套调用的一种特殊形式，函数在调用时，直接或间接调用了自身，就是递归调用</p>
</blockquote>
<h4 id="递归分为两个阶段："><a href="#递归分为两个阶段：" class="headerlink" title="递归分为两个阶段："></a>递归分为两个阶段：</h4><ul>
<li>递推</li>
<li>回溯</li>
</ul>
<blockquote>
<p>经典问题==&gt;阶乘</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def fn(n):</span><br><span class="line">    if (n == 1):</span><br><span class="line">        return 1;</span><br><span class="line">    else:</span><br><span class="line">        return fn(n-1) * n;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a = fn(5)</span><br><span class="line">print(a) # 120</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/28/P017_01_python递归/" data-id="cklhgn2em00cukyfyrj3vcikk" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/fullstack/">fullstack</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-P016_03_python匿名函数" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/28/P016_03_python匿名函数/" class="article-date">
  <time datetime="2018-07-28T03:55:36.000Z" itemprop="datePublished">2018-07-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/28/P016_03_python匿名函数/">P016_03_python匿名函数</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h3><p>为实现很简单需求而设计的一句话函数</p>
<h4 id="匿名函数使用规范"><a href="#匿名函数使用规范" class="headerlink" title="匿名函数使用规范"></a>匿名函数使用规范</h4><ul>
<li>匿名函数关键字是lambda</li>
<li>lambda写在最前面其后跟参数，然后以「:」为分割,最后实际的逻辑也就是最后的结果</li>
<li>必须一行结束</li>
<li>多个参数用「,」分开</li>
</ul>
<blockquote>
<p>万能公式  lambda 参数 : 返回值</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xxx = lambda n:n*n</span><br><span class="line"></span><br><span class="line">#两个参数</span><br><span class="line">xxx = lambda m,n:m*n</span><br></pre></td></tr></table></figure>
<blockquote>
<p>求字段里值最大的</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">xx = &#123;&apos;k1&apos;:10,&apos;k2&apos;:20,&apos;k3&apos;:30&#125;</span><br><span class="line"></span><br><span class="line">&apos;&apos;&apos;</span><br><span class="line">def fn(key):</span><br><span class="line">    return xx[key]</span><br><span class="line">&apos;&apos;&apos;</span><br><span class="line">max(xx,key=lambda k:xx[k])</span><br></pre></td></tr></table></figure>
<h4 id="容易拿分的面试题"><a href="#容易拿分的面试题" class="headerlink" title="容易拿分的面试题"></a>容易拿分的面试题</h4><blockquote>
<p>1.问执行结果</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">d = lambda p:p*2</span><br><span class="line">t = lambda p:p*3</span><br><span class="line"></span><br><span class="line">x = 2</span><br><span class="line">x = d(x) # 4</span><br><span class="line">x = t(x) # 12</span><br><span class="line">x = d(x) # 24</span><br><span class="line">print(x)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>2.有俩元组((‘a’),(‘b’)),((‘c’),(‘d’))如何转换为列表[{‘a’:’c’},{‘b’:’d’}]</p>
</blockquote>
<p>提示zip拉链方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"># step001 先用zip把格式转换</span><br><span class="line">a = ((&apos;a&apos;),(&apos;b&apos;))</span><br><span class="line">b = ((&apos;c&apos;),(&apos;d&apos;))</span><br><span class="line"></span><br><span class="line">res = zip(a,b) # 此时是一个生成器</span><br><span class="line"></span><br><span class="line">&apos;&apos;&apos;</span><br><span class="line">for i in res:</span><br><span class="line">    print(i)</span><br><span class="line"></span><br><span class="line">结果：</span><br><span class="line">(&apos;a&apos;,&apos;c&apos;) </span><br><span class="line">(&apos;b&apos;:&apos;d&apos;)</span><br><span class="line">&apos;&apos;&apos;</span><br><span class="line"></span><br><span class="line"># step002 遍历这个生成器 将元组变为字典</span><br><span class="line"># filter/map/sorted/max/min</span><br><span class="line"></span><br><span class="line"># 分析出：明显是用map</span><br><span class="line">def func(tup):</span><br><span class="line">    return &#123;tup[0]:tup[1]&#125;</span><br><span class="line">res = map(func,res)</span><br><span class="line"></span><br><span class="line"># step003 优化用lambda</span><br><span class="line"></span><br><span class="line">res = map(lambda tup:&#123;tup[0]:tup[1]&#125;,res)</span><br><span class="line">print(list(res))</span><br><span class="line"></span><br><span class="line"># step004 各种优化</span><br><span class="line">res = map(lambda tup:&#123;tup[0]:tup[1]&#125;,zip(a,b))</span><br><span class="line"></span><br><span class="line">res = list(map(lambda tup:&#123;tup[0]:tup[1]&#125;,zip(a,b)))</span><br></pre></td></tr></table></figure>
<blockquote>
<p>3.刁钻面试题</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">def xx():</span><br><span class="line">    return (lambda x:i*x for i in range(4))</span><br><span class="line"></span><br><span class="line">[m(2) for m in xx()]</span><br><span class="line"></span><br><span class="line">结果</span><br><span class="line">[0,2,4,6]</span><br><span class="line"></span><br><span class="line">解析</span><br><span class="line">先看xx函数</span><br><span class="line">def xx():</span><br><span class="line">    return (lambda x:0*x,lambda x:1*x,lambda x:2*x,lambda x:3*x)</span><br><span class="line">[m(2) for m in xx()]</span><br><span class="line"></span><br><span class="line">m(2)实际就是个函数 并传递参数2带入。。。</span><br><span class="line">[0,2,4,6]</span><br></pre></td></tr></table></figure>
<h4 id="推荐一个流程图的工具ProcessOn"><a href="#推荐一个流程图的工具ProcessOn" class="headerlink" title="推荐一个流程图的工具ProcessOn"></a>推荐一个流程图的工具ProcessOn</h4>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/07/28/P016_03_python匿名函数/" data-id="cklhgn2en00cvkyfyx3ggc5ad" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/fullstack/">fullstack</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/40/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/39/">39</a><a class="page-number" href="/page/40/">40</a><span class="page-number current">41</span><a class="page-number" href="/page/42/">42</a><a class="page-number" href="/page/43/">43</a><span class="space">&hellip;</span><a class="page-number" href="/page/55/">55</a><a class="extend next" rel="next" href="/page/42/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6速学/">ES6速学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JS不知深浅/">JS不知深浅</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M01/">M01</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M02/">M02</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M03/">M03</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M04/">M04</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M06/">M06</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M07/">M07</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M08/">M08</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M09/">M09</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NodeWeb/">NodeWeb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node后端/">Node后端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ReactWheels/">ReactWheels</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React入门/">React入门</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TS入门/">TS入门</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fullstack/">fullstack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/">jQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mobile/">mobile</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/">node</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node每日精进/">node每日精进</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oak/">oak</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tools/">tools</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/">vim</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vultr/">vultr</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web性能优化/">web性能优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web面经/">web面经</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端知识点/">前端知识点</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/CSS/" style="font-size: 13.75px;">CSS</a> <a href="/tags/ES6速学/" style="font-size: 14.17px;">ES6速学</a> <a href="/tags/JS不知深浅/" style="font-size: 11.25px;">JS不知深浅</a> <a href="/tags/M01/" style="font-size: 13.33px;">M01</a> <a href="/tags/M02/" style="font-size: 15px;">M02</a> <a href="/tags/M03/" style="font-size: 15.83px;">M03</a> <a href="/tags/M04/" style="font-size: 16.25px;">M04</a> <a href="/tags/M06/" style="font-size: 18.33px;">M06</a> <a href="/tags/M07/" style="font-size: 17.92px;">M07</a> <a href="/tags/M08/" style="font-size: 17.08px;">M08</a> <a href="/tags/M09/" style="font-size: 11.67px;">M09</a> <a href="/tags/NodeWeb/" style="font-size: 15.42px;">NodeWeb</a> <a href="/tags/Node后端/" style="font-size: 18.75px;">Node后端</a> <a href="/tags/ReactWheels/" style="font-size: 16.67px;">ReactWheels</a> <a href="/tags/React入门/" style="font-size: 15px;">React入门</a> <a href="/tags/TS入门/" style="font-size: 14.58px;">TS入门</a> <a href="/tags/express/" style="font-size: 10.42px;">express</a> <a href="/tags/fullstack/" style="font-size: 17.92px;">fullstack</a> <a href="/tags/http/" style="font-size: 12.08px;">http</a> <a href="/tags/jQuery/" style="font-size: 10px;">jQuery</a> <a href="/tags/java/" style="font-size: 19.17px;">java</a> <a href="/tags/linux/" style="font-size: 10.83px;">linux</a> <a href="/tags/mobile/" style="font-size: 11.25px;">mobile</a> <a href="/tags/mongodb/" style="font-size: 12.5px;">mongodb</a> <a href="/tags/mysql/" style="font-size: 12.5px;">mysql</a> <a href="/tags/node/" style="font-size: 10.42px;">node</a> <a href="/tags/node每日精进/" style="font-size: 10px;">node每日精进</a> <a href="/tags/oak/" style="font-size: 20px;">oak</a> <a href="/tags/python/" style="font-size: 17.5px;">python</a> <a href="/tags/tools/" style="font-size: 10px;">tools</a> <a href="/tags/vim/" style="font-size: 10px;">vim</a> <a href="/tags/vue/" style="font-size: 12.92px;">vue</a> <a href="/tags/vultr/" style="font-size: 10px;">vultr</a> <a href="/tags/web性能优化/" style="font-size: 10px;">web性能优化</a> <a href="/tags/web面经/" style="font-size: 10px;">web面经</a> <a href="/tags/前端知识点/" style="font-size: 19.58px;">前端知识点</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/02/22/Node-web05-09-02博客系统部署最新版流程/">Node-web05-09-02博客系统部署最新版流程</a>
          </li>
        
          <li>
            <a href="/2021/02/22/Node-web05-07-03服务器端构建/">Node-web05-07-03服务器端构建</a>
          </li>
        
          <li>
            <a href="/2021/02/22/Node-web05-07-02服务器相关配置及使用/">Node-web05-07-02服务器相关配置及使用</a>
          </li>
        
          <li>
            <a href="/2021/02/20/Node-web05-09-01博客统部署2/">Node-web05-09-01博客统部署优化解释</a>
          </li>
        
          <li>
            <a href="/2021/02/20/Node-web05-08博客统页面完善/">Node-web05-08博客统页面完善</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 Stevin<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>