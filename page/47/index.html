<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>Almost</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Almost">
<meta property="og:url" content="http://yoursite.com/page/47/index.html">
<meta property="og:site_name" content="Almost">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Almost">
  
    <link rel="alternate" href="/atom.xml" title="Almost" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Almost</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Vue_221_iview引入问题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/06/Vue_221_iview引入问题/" class="article-date">
  <time datetime="2018-06-06T08:35:42.000Z" itemprop="datePublished">2018-06-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/06/Vue_221_iview引入问题/">iview引入问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<h4 id="本文针对vue-cli-2-9-3版本"><a href="#本文针对vue-cli-2-9-3版本" class="headerlink" title="本文针对vue-cli@2.9.3版本"></a>本文针对<a href="mailto:vue-cli@2.9.3" target="_blank" rel="noopener">vue-cli@2.9.3</a>版本</h4></blockquote>
<blockquote>
<p>我使用的iview版本为2.14.1</p>
</blockquote>
<h3 id="引入iview触发的问题"><a href="#引入iview触发的问题" class="headerlink" title="引入iview触发的问题"></a>引入iview触发的问题</h3><h4 id="本地运行正常，打包后报错提示没有某个字体文件"><a href="#本地运行正常，打包后报错提示没有某个字体文件" class="headerlink" title="本地运行正常，打包后报错提示没有某个字体文件"></a>本地运行正常，打包后报错提示没有某个字体文件</h4><p>webpack.prod.conf.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">module: &#123;</span><br><span class="line">    rules: utils.styleLoaders(&#123;</span><br><span class="line">        sourceMap: config.build.productionSourceMap,</span><br><span class="line">        extract: false</span><br><span class="line">        // extract: true</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//里边的 extract改为false,默认是true</span><br></pre></td></tr></table></figure>
<p><a href="https://github.com/iview/iview/issues/515" target="_blank" rel="noopener">详情请参考issues</a></p>
<h4 id="iview全局引入后，打包体积过大"><a href="#iview全局引入后，打包体积过大" class="headerlink" title="iview全局引入后，打包体积过大"></a>iview全局引入后，打包体积过大</h4><blockquote>
<p>我说的是vendor.js(打包后的1M)</p>
</blockquote>
<h5 id="然后依照官网的api进行按需引用的改造"><a href="#然后依照官网的api进行按需引用的改造" class="headerlink" title="然后依照官网的api进行按需引用的改造"></a>然后依照官网的api进行按需引用的改造</h5><p>借助插件 babel-plugin-import可以实现按需加载组件，减少文件体积。首先安装，并在文件 .babelrc 中配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">npm install babel-plugin-import --save-dev</span><br><span class="line"></span><br><span class="line">// .babelrc</span><br><span class="line">&#123;</span><br><span class="line">  &quot;plugins&quot;: [[&quot;import&quot;, &#123;</span><br><span class="line">    &quot;libraryName&quot;: &quot;iview&quot;,</span><br><span class="line">    &quot;libraryDirectory&quot;: &quot;src/components&quot;</span><br><span class="line">  &#125;]]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后这样按需引入组件，就可以减小体积了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Button, Table &#125; from &apos;iview&apos;;</span><br><span class="line">Vue.component(&apos;Button&apos;, Button);</span><br><span class="line">Vue.component(&apos;Table&apos;, Table);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>但是这样会报UglifyJs的错误，因为截止2018年6月6日为止，iview里的内容使用了es6语法，然而uglifyJs是不支持的！</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UglifyJs do not support ES6+, you can also use babel-minify for better treeshaking: https://github.com/babel/minify</span><br></pre></td></tr></table></figure>
<p>于是我就又各种搜索报错终于找到答案</p>
<p><a href="https://blog.csdn.net/nongweiyilady/article/details/78893504" target="_blank" rel="noopener">原文链接</a></p>
<blockquote>
<h4 id="解决方案-参考以上链接"><a href="#解决方案-参考以上链接" class="headerlink" title="解决方案(参考以上链接)"></a>解决方案(参考以上链接)</h4></blockquote>
<ol>
<li>在webpack.base.conf.js中，我们先在js编译的时候添加如下：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: /\.js$/,</span><br><span class="line">    loader: &apos;babel-loader&apos;,</span><br><span class="line">    include: [resolve(&apos;src&apos;),</span><br><span class="line">    resolve(&apos;test&apos;),resolve(&apos;/node_modules/iview/src&apos;),resolve(&apos;/node_modules/iview/packages&apos;)]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>先让iview的es6语法经过babel来转换，然后在build/webpack.prod.conf.js中，注释掉原来的uglifyJs，引入外部的uglifyJs对js进行压缩混淆，代码如下：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">//改动 你需要下载依赖 </span><br><span class="line">const UglifyJsPlugin = require(&apos;uglifyjs-webpack-plugin&apos;);</span><br><span class="line"></span><br><span class="line">// 注释掉原来的 UglifyJs 因为 它不支持ES6</span><br><span class="line">// new webpack.optimize.UglifyJsPlugin(&#123;</span><br><span class="line">//   compress: &#123;</span><br><span class="line">//     warnings: false</span><br><span class="line">//   &#125;,</span><br><span class="line">//   sourceMap: true</span><br><span class="line">// &#125;),</span><br><span class="line">new UglifyJsPlugin(&#123;</span><br><span class="line">    // 使用外部引入的新版本的js压缩工具</span><br><span class="line">    parallel: true,</span><br><span class="line">    sourceMap: true,</span><br><span class="line">    uglifyOptions: &#123;</span><br><span class="line">    ie8: false,</span><br><span class="line">    ecma: 6,</span><br><span class="line">    warnings: false,</span><br><span class="line">    mangle: true,</span><br><span class="line">    // debug false</span><br><span class="line">    output: &#123;</span><br><span class="line">        comments: false,</span><br><span class="line">        beautify: false,</span><br><span class="line">        // debug true</span><br><span class="line">    &#125;,</span><br><span class="line">    compress: &#123;</span><br><span class="line">        // 在UglifyJs删除没有用到的代码时不输出警告</span><br><span class="line">        warnings: false,</span><br><span class="line">        // 删除所有的 `console` 语句</span><br><span class="line">        // 还可以兼容ie浏览器</span><br><span class="line">        drop_console: true,</span><br><span class="line">        // 内嵌定义了但是只用到一次的变量</span><br><span class="line">        collapse_vars: true,</span><br><span class="line">        // 提取出出现多次但是没有定义成变量去引用的静态值</span><br><span class="line">        reduce_vars:true</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;),</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>不要忘了安装依赖</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install uglifyjs-webpack-plugin --save-dev</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>详情配置请参考官网</li>
</ol>
<p><a href="http://www.css88.com/doc/webpack/plugins/uglifyjs-webpack-plugin/" target="_blank" rel="noopener">uglifyjs-webpack-plugin</a></p>
<blockquote>
<h5 id="经历如上步骤后，我的vendor-js打包后体积为-300K-我只用了iview-的-DatePicker"><a href="#经历如上步骤后，我的vendor-js打包后体积为-300K-我只用了iview-的-DatePicker" class="headerlink" title="经历如上步骤后，我的vendor.js打包后体积为 300K(我只用了iview 的 DatePicker)"></a>经历如上步骤后，我的vendor.js打包后体积为 300K(我只用了iview 的 DatePicker)</h5><h5 id="但是iview即使按需引入css还是挺大的大约300K还需要在-main-js里引入-依然很大。。。。。。"><a href="#但是iview即使按需引入css还是挺大的大约300K还需要在-main-js里引入-依然很大。。。。。。" class="headerlink" title="但是iview即使按需引入css还是挺大的大约300K还需要在 main.js里引入 依然很大。。。。。。"></a>但是iview即使按需引入css还是挺大的大约300K还需要在 main.js里引入 依然很大。。。。。。</h5></blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/06/06/Vue_221_iview引入问题/" data-id="cklcb6bny00rcwo91noj29eqr" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/">vue</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Vue_202_vue多页面复用模块路径配置" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/05/22/Vue_202_vue多页面复用模块路径配置/" class="article-date">
  <time datetime="2018-05-22T08:17:20.000Z" itemprop="datePublished">2018-05-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/22/Vue_202_vue多页面复用模块路径配置/">vue多页面配置问题汇总</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<h4 id="注意：本项目基于vue-cli-2-9-3"><a href="#注意：本项目基于vue-cli-2-9-3" class="headerlink" title="注意：本项目基于vue-cli 2.9.3"></a>注意：本项目基于vue-cli 2.9.3</h4></blockquote>
<h3 id="基于上一篇vue多页面的配置方式"><a href="#基于上一篇vue多页面的配置方式" class="headerlink" title="基于上一篇vue多页面的配置方式"></a>基于上一篇vue多页面的配置方式</h3><h4 id="很多时候我们需要引用同一模块"><a href="#很多时候我们需要引用同一模块" class="headerlink" title="很多时候我们需要引用同一模块"></a>很多时候我们需要引用同一模块</h4><blockquote>
<p>当你定义api接口的时候,或者加载去除默认样式的reset.css文件</p>
</blockquote>
<blockquote>
<p>我们应把复用的模块放在同一目录下,如图我这里把复用的文件放在「modules」里</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/img/vuenote_202_01.png" alt></p>
<p>找到webpack.base.conf.js文件,添加如下代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">    extensions: [&apos;.js&apos;, &apos;.vue&apos;, &apos;.json&apos;],</span><br><span class="line">    alias: &#123;</span><br><span class="line">      &apos;vue$&apos;: &apos;vue/dist/vue.esm.js&apos;,</span><br><span class="line">      &apos;@&apos;: resolve(&apos;src&apos;),</span><br><span class="line">      // 公共文件路径加载</span><br><span class="line">      &apos;css&apos;:&apos;@/modules/css&apos;,</span><br><span class="line">      &apos;js&apos;:&apos;@/modules/js&apos;,</span><br><span class="line">      &apos;components&apos;:&apos;@/components&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当你的页面里需要使用该模块的时候就可以像这样引入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import &apos;css/reset.css&apos;;</span><br><span class="line">import &apos;js/flexible.js&apos;;</span><br></pre></td></tr></table></figure>
<h4 id="引入淘宝移动端适配方案后flexible-js-与引入-mint-ui的冲突"><a href="#引入淘宝移动端适配方案后flexible-js-与引入-mint-ui的冲突" class="headerlink" title="引入淘宝移动端适配方案后flexible.js 与引入 mint-ui的冲突"></a>引入淘宝移动端适配方案后flexible.js 与引入 mint-ui的冲突</h4><blockquote>
<p>当你做了移动端适配后，也就是配置了postcss-px2rem后,引入mint-ui框架会把UI框架里组件像素单位「px」转为「rem」</p>
</blockquote>
<p>我使用的是postcss依赖  所以.postcssrc.js配置如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  &quot;plugins&quot;: &#123;</span><br><span class="line">    // to edit target browsers: use &quot;browserslist&quot; field in package.json</span><br><span class="line">    &quot;autoprefixer&quot;: &#123;&#125;,</span><br><span class="line">    &quot;postcss-px2rem&quot;: &#123;</span><br><span class="line">       remUnit: 75</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>移动端如果使用阿里的flexible适配方案，现有的移动端UI库大部分都不适用了，移动端的UI库默认的initial-scale=1，在高清屏上flexible会调整initial-scale=1/dpr，UI的样式被整体缩小了</p>
</blockquote>
<blockquote>
<h5 id="这样就导致UI变形"><a href="#这样就导致UI变形" class="headerlink" title="这样就导致UI变形"></a>这样就导致UI变形</h5></blockquote>
<ul>
<li><h5 id="解决方式一：就是你要用样式覆盖-这样就更恶心了"><a href="#解决方式一：就是你要用样式覆盖-这样就更恶心了" class="headerlink" title="解决方式一：就是你要用样式覆盖,这样就更恶心了"></a>解决方式一：就是你要用样式覆盖,这样就更恶心了</h5></li>
<li><h5 id="解决方式二：依然使用flexible适配方案，但是不使用px2rem"><a href="#解决方式二：依然使用flexible适配方案，但是不使用px2rem" class="headerlink" title="解决方式二：依然使用flexible适配方案，但是不使用px2rem"></a>解决方式二：依然使用flexible适配方案，但是不使用px2rem</h5></li>
</ul>
<blockquote>
<p>注掉使用postcss-px2rem的功能，采用手写rem的方式，这样引入的ui组件样式就不会变小</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  &quot;plugins&quot;: &#123;</span><br><span class="line">    // to edit target browsers: use &quot;browserslist&quot; field in package.json</span><br><span class="line">    &quot;autoprefixer&quot;: &#123;&#125;,</span><br><span class="line">    //&quot;postcss-px2rem&quot;: &#123;</span><br><span class="line">    //   remUnit: 75</span><br><span class="line">    //&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="手写rem问题来了，又回到原始的方式了"><a href="#手写rem问题来了，又回到原始的方式了" class="headerlink" title="手写rem问题来了，又回到原始的方式了"></a>手写rem问题来了，又回到原始的方式了</h4><p>我们可以使用强大的IDE插件来帮我们解决问题</p>
<blockquote>
<p>我用的是VScode，设计稿750px,如果每个需要适配的单位都去计算rem是很麻烦的，推荐px to rem这个插件，然后将16设置为75（设计稿为750px）</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/img/vuenote_202_02.png" alt></p>
<p>这个时候我们直接写px，选中后alt+z就直接转换为rem了</p>
<ul>
<li>先选中如下文本 「16px」</li>
<li>再按住「alt」</li>
<li>最后按「z」</li>
</ul>
<h4 id="npm-run-build问题"><a href="#npm-run-build问题" class="headerlink" title="npm run build问题"></a>npm run build问题</h4><blockquote>
<p>打包之后的文件为绝对路径,需在服务环境下才能打开</p>
</blockquote>
<p>不方便我们本地调试，我们需要相对路径</p>
<ol>
<li>打开config文件夹下的index.js文件</li>
<li>修改build中assetsPublicPath为’’（原本为’/‘）</li>
</ol>
<h4 id="静态资源路径问题"><a href="#静态资源路径问题" class="headerlink" title="静态资源路径问题"></a>静态资源路径问题</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-|src</span><br><span class="line">-|static</span><br><span class="line">---|img</span><br><span class="line">------|aa.png</span><br></pre></td></tr></table></figure>
<blockquote>
<h5 id="在html或者css里请这样书写，打包后这个路径也是对的"><a href="#在html或者css里请这样书写，打包后这个路径也是对的" class="headerlink" title="在html或者css里请这样书写，打包后这个路径也是对的"></a>在html或者css里请这样书写，打包后这个路径也是对的</h5></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;static/img/aa.png&quot;&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意这样是错的</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">../../static/img/aa.png</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/05/22/Vue_202_vue多页面复用模块路径配置/" data-id="cklcb6bnw00r7wo91o3ws871a" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/">vue</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-WEB_001_性能优化_DNS预解析" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/05/17/WEB_001_性能优化_DNS预解析/" class="article-date">
  <time datetime="2018-05-17T15:11:34.000Z" itemprop="datePublished">2018-05-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/17/WEB_001_性能优化_DNS预解析/">web性能优化之DNS预解析</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="DNS预解析"><a href="#DNS预解析" class="headerlink" title="DNS预解析"></a>DNS预解析</h3><blockquote>
<p>去参考淘宝的移动端页面你可能会看到这样一段代码</p>
</blockquote>
<p>请自行选择</p>
<p><a href="https://h5.m.taobao.com" target="_blank" rel="noopener">淘宝</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;title&gt;淘宝网触屏版&lt;/title&gt;</span><br><span class="line">&lt;meta name=data-spm content=a215s&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//g.alicdn.com&quot;&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//gw.alicdn.com&quot;&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//log.mmstat.com&quot;&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//api.m.taobao.com&quot;&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//cdn.tanx.com&quot;&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//ecpm.tanx.com&quot;&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>淘宝页面有很多的图片资源</li>
</ul>
<blockquote>
<p>预解析就是指「加载后面图片的时候，不会对域名再次进行解析了(因为已经解析过了)」</p>
</blockquote>
<p>作用</p>
<ul>
<li>加快后面图片的解析时间</li>
</ul>
<h3 id="待更新"><a href="#待更新" class="headerlink" title="待更新"></a>待更新</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/05/17/WEB_001_性能优化_DNS预解析/" data-id="cklcb6bo000rhwo91772x65b7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web性能优化/">web性能优化</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Vue_201_vue多页面配置方式" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/05/17/Vue_201_vue多页面配置方式/" class="article-date">
  <time datetime="2018-05-17T14:09:33.000Z" itemprop="datePublished">2018-05-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/17/Vue_201_vue多页面配置方式/">vue多页面配置方式</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<h3 id="注意本文使用的vue-cli是2-9-3"><a href="#注意本文使用的vue-cli是2-9-3" class="headerlink" title="注意本文使用的vue-cli是2.9.3"></a>注意本文使用的vue-cli是2.9.3</h3></blockquote>
<h3 id="vue多页面配置调整方式"><a href="#vue多页面配置调整方式" class="headerlink" title="vue多页面配置调整方式"></a>vue多页面配置调整方式</h3><ol>
<li>全局安装vue-cli</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-cli@2.9.3 -g</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>生成模板，我使用的模板是webpack</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue init webpack xxx</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>安装过程中的询问</li>
</ol>
<ul>
<li>是否安装vue-router(安装方便我们多页面里路由再次进行跳转)</li>
<li>是否安装eslint (这个配置比较繁琐这次不安装)</li>
<li>后面几个模块先不进行安装(这次的目标是多页面配置。。。。)</li>
</ul>
<blockquote>
<p>初始化后会有提示如何进行运行</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/img/vuenote_201_01.png" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 依照我们的项目，你应该</span><br><span class="line">cd xxx        //切换到生成的模板目录</span><br><span class="line">npm install   //安装依赖</span><br><span class="line">npm run dev   //如果出现经典的vue logo说明你初始化成功</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>多页面的目录结构调整</li>
</ol>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/img/vuenote_201_02.png" alt></p>
<ul>
<li>在开发路径src下增加modules和pages文件夹，分别存放模块和页面</li>
<li>页面的所有文件都放到同一文件夹下就近管理：</li>
<li>如上选中文件都移到index文件夹下，并把main.js改为index.js,保证页面的入口js文件和模板文件的名称一致<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">index.html(页面模板)</span><br><span class="line">main.js(页面入口文件)</span><br><span class="line">App.vue(页面使用的组件，公用组件放到components文件夹下)router(页面的路由配置)</span><br><span class="line">assets(页面的静态资源)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ol start="5">
<li>添加共同方法</li>
</ol>
<ul>
<li>在build/utils.js中添加两个方法：webpack多入口文件和多页面输出</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">var glob = require(&apos;glob&apos;)</span><br><span class="line">var HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)</span><br><span class="line">var PAGE_PATH = path.resolve(__dirname, &apos;../src/pages&apos;)</span><br><span class="line">var merge = require(&apos;webpack-merge&apos;)</span><br><span class="line"></span><br><span class="line">//多入口配置</span><br><span class="line">exports.entries = function() &#123;</span><br><span class="line">  var entryFiles = glob.sync(PAGE_PATH + &apos;/*/*.js&apos;)</span><br><span class="line">  var map = &#123;&#125;</span><br><span class="line">  entryFiles.forEach((filePath) =&gt; &#123;</span><br><span class="line">    var filename = filePath.substring(filePath.lastIndexOf(&apos;\/&apos;) + 1, filePath.lastIndexOf(&apos;.&apos;))</span><br><span class="line">    map[filename] = filePath</span><br><span class="line">  &#125;)</span><br><span class="line">  return map</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//多页面输出配置</span><br><span class="line">exports.htmlPlugin = function() &#123;</span><br><span class="line">  let entryHtml = glob.sync(PAGE_PATH + &apos;/*/*.html&apos;)</span><br><span class="line">  let arr = []</span><br><span class="line">  entryHtml.forEach((filePath) =&gt; &#123;</span><br><span class="line">    let filename = filePath.substring(filePath.lastIndexOf(&apos;\/&apos;) + 1, filePath.lastIndexOf(&apos;.&apos;))</span><br><span class="line">    let conf = &#123;</span><br><span class="line">      template: filePath,</span><br><span class="line">      filename: filename + &apos;.html&apos;,</span><br><span class="line">      chunks: [filename],</span><br><span class="line">      inject: true</span><br><span class="line">    &#125;</span><br><span class="line">    if (process.env.NODE_ENV === &apos;production&apos;) &#123;</span><br><span class="line">      conf = merge(conf, &#123;</span><br><span class="line">        chunks: [&apos;manifest&apos;, &apos;vendor&apos;, filename],</span><br><span class="line">        minify: &#123;</span><br><span class="line">          removeComments: true,</span><br><span class="line">          collapseWhitespace: true,</span><br><span class="line">          removeAttributeQuotes: true</span><br><span class="line">        &#125;,</span><br><span class="line">        chunksSortMode: &apos;dependency&apos;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    arr.push(new HtmlWebpackPlugin(conf))</span><br><span class="line">  &#125;)</span><br><span class="line">  return arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="6">
<li>修改配置</li>
</ol>
<p>1) 修改build/webpack.base.conf.js的入口配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 替换默认的单页面入口</span><br><span class="line">// entry: &#123;</span><br><span class="line">//   app: &apos;./src/main.js&apos;</span><br><span class="line">// &#125;</span><br><span class="line">entry: utils.entries()</span><br></pre></td></tr></table></figure>
<p>2)修改build/webpack.dev.conf.js和build/webpack.prod.conf.js的多页面配置：</p>
<blockquote>
<p>把原有的页面模板配置注释或删除，并把多页面配置添加到plugins</p>
</blockquote>
<p>webpack.dev.conf.js：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">plugins: [</span><br><span class="line">    ......</span><br><span class="line">    //  new HtmlWebpackPlugin(&#123;</span><br><span class="line">    //    filename: &apos;index.html&apos;,</span><br><span class="line">    //    template: &apos;index.html&apos;,</span><br><span class="line">    //    inject: true</span><br><span class="line">    //  &#125;),</span><br><span class="line">    ......</span><br><span class="line">  ].concat(utils.htmlPlugin())</span><br></pre></td></tr></table></figure>
<p>webpack.prod.conf.js：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">plugins: [</span><br><span class="line">    ......</span><br><span class="line">    // new HtmlWebpackPlugin(&#123;</span><br><span class="line">    //   filename: config.build.index,</span><br><span class="line">    //   template: &apos;index.html&apos;,</span><br><span class="line">    //   inject: true,</span><br><span class="line">    //   minify: &#123;</span><br><span class="line">    //     removeComments: true,</span><br><span class="line">    //     collapseWhitespace: true,</span><br><span class="line">    //     removeAttributeQuotes: true</span><br><span class="line">    //   &#125;,</span><br><span class="line">    //   chunksSortMode: &apos;dependency&apos;</span><br><span class="line">    // &#125;),</span><br><span class="line">    ......</span><br><span class="line">  ].concat(utils.htmlPlugin())</span><br></pre></td></tr></table></figure>
<ol start="7">
<li>在pages目录里创建cart目录</li>
</ol>
<ul>
<li>新建cart.html</li>
<li>新建cart.js</li>
</ul>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/img/vuenote_201_03.png" alt></p>
<ol start="8">
<li>终于你可以试试多页面是否成功了</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run dev</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/img/vuenote_201_04.png" alt></p>
<h3 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h3><blockquote>
<p>在上面多页面输出配置utils.js中有这样一行代码：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chunks: [&apos;manifest&apos;, &apos;vendor&apos;, filename]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这是<a href="https://github.com/jantimon/html-webpack-plugin" target="_blank" rel="noopener">html-webpack-plugin</a>插件对页面入口文件(即js文件)的限定，如果不设置则会把整个项目下的所有入口文件全部引入</p>
</blockquote>
<ul>
<li>为什么要引入’manifest’和’vendor’</li>
</ul>
<p>在build/webpack.prod.conf.js中有如下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// split vendor js into its own file</span><br><span class="line">new webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">    name: &apos;vendor&apos;,</span><br><span class="line">    minChunks: function (module, count) &#123;</span><br><span class="line">    // any required modules inside node_modules are extracted to vendor</span><br><span class="line">    return (</span><br><span class="line">        module.resource &amp;&amp;</span><br><span class="line">        /\.js$/.test(module.resource) &amp;&amp;</span><br><span class="line">        module.resource.indexOf(</span><br><span class="line">        path.join(__dirname, &apos;../node_modules&apos;)</span><br><span class="line">        ) === 0</span><br><span class="line">    )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;),</span><br><span class="line">// extract webpack runtime and module manifest to its own file in order to</span><br><span class="line">// prevent vendor hash from being updated whenever app bundle is updated</span><br><span class="line">new webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">    name: &apos;manifest&apos;,</span><br><span class="line">    chunks: [&apos;vendor&apos;]</span><br><span class="line">&#125;),</span><br></pre></td></tr></table></figure>
<ul>
<li>vendor模块是指提取涉及node_modules中的公共模块</li>
<li>manifest模块是对vendor模块做的缓存</li>
</ul>
<p>关于CommonsChunkPlugin插件的详细说明请阅读<a href="https://webpack.js.org/plugins/commons-chunk-plugin/" target="_blank" rel="noopener">官方文档</a></p>
<p>关于html-webpack-plugin插件的配置还有一行代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chunksSortMode: &apos;dependency&apos;</span><br></pre></td></tr></table></figure>
<p>插件会按照模块的依赖关系依次加载，即：manifest，vendor，本页面入口，其他页面入口…</p>
<p>至此，多页面应用已经搭建完毕，只需要在pages文件夹创建相应的页面文件即可。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/05/17/Vue_201_vue多页面配置方式/" data-id="cklcb6bnv00r6wo91ka47d10j" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/">vue</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-MONGODB_007_Schema和Model" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/05/10/MONGODB_007_Schema和Model/" class="article-date">
  <time datetime="2018-05-10T15:17:24.000Z" itemprop="datePublished">2018-05-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/10/MONGODB_007_Schema和Model/">Schema和Model</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<h4 id="我使用的mongodb是-4-11-4"><a href="#我使用的mongodb是-4-11-4" class="headerlink" title="我使用的mongodb是 4.11.4"></a>我使用的mongodb是 4.11.4</h4></blockquote>
<h3 id="Schema"><a href="#Schema" class="headerlink" title="Schema"></a>Schema</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">const mongoose = require(&apos;mongoose&apos;);</span><br><span class="line">const uri = &apos;mongodb://localhost/test&apos;;</span><br><span class="line">mongoose.connect(uri);</span><br><span class="line">const db = mongoose.connection;</span><br><span class="line"></span><br><span class="line">const Schema = mongoose.Schema;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 创建Schema模式对象 </span><br><span class="line">const UserSchema = new Schema(&#123;</span><br><span class="line">    name:String,</span><br><span class="line">    age:Number</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">1.通过Schema创建Model</span><br><span class="line">    Model代表 数据库中的集合collections</span><br><span class="line">    mongodb命令行里使用要加s  如 db.users.find()</span><br><span class="line">2. mongoose.model(集合名称,模型对象)</span><br><span class="line">*/</span><br><span class="line">const UserModel = mongoose.model(&apos;user&apos;,UserSchema);</span><br><span class="line"></span><br><span class="line">db.on(&apos;open&apos;,()=&gt;&#123;console.log(&apos;db open &apos;)&#125;) </span><br><span class="line">db.on(&apos;error&apos;,(err,res)=&gt;&#123;console.log(&apos;db error&apos;)&#125;) </span><br><span class="line">db.on(&apos;close&apos;,(err,res)=&gt;&#123;console.log(&apos;db close&apos;)&#125;)</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="运行如上代码数据库连接成功后-mongodb中并不会立刻创建-collection-需要向数据库中插入文档才会创建"><a href="#运行如上代码数据库连接成功后-mongodb中并不会立刻创建-collection-需要向数据库中插入文档才会创建" class="headerlink" title="运行如上代码数据库连接成功后  mongodb中并不会立刻创建 collection,需要向数据库中插入文档才会创建"></a>运行如上代码数据库连接成功后  mongodb中并不会立刻创建 collection,需要向数据库中插入文档才会创建</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">UserModel.create(&#123;</span><br><span class="line">        name:&apos;hjx&apos;,</span><br><span class="line">        age:18</span><br><span class="line">    &#125;,function(err)&#123;</span><br><span class="line">        if(!err)&#123;</span><br><span class="line">            console.log(&quot;创建成功&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>
<h4 id="Schema模型对象的规则约束"><a href="#Schema模型对象的规则约束" class="headerlink" title="Schema模型对象的规则约束"></a>Schema模型对象的规则约束</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">const UserSchema =Schema(&#123;</span><br><span class="line">    // type:类型</span><br><span class="line">    // require 是否必须</span><br><span class="line">    // unique 在mongodb里创建索引   类似mysql唯一主键</span><br><span class="line">    // enum:[&apos;aa&apos;,&apos;bb&apos;]  指定他的值必须是什么</span><br><span class="line">    name:&#123;type:String,require:true,unique:true,enum:[&apos;hjx&apos;,&apos;lisi&apos;]&#125;,</span><br><span class="line">    // 最简单写法</span><br><span class="line">    // age:Number</span><br><span class="line">    // 数字复杂的校验 </span><br><span class="line">    // max 最大值</span><br><span class="line">    // min 最小值  如果是数组   第一个值是最小范围  第二个值是报错信息</span><br><span class="line">    age:&#123;type:Number,max:90,min:[18,&apos;不能小于18岁&apos;]&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h3><blockquote>
<h4 id="把全局的Pormise挂载到-mongoose-Promise上"><a href="#把全局的Pormise挂载到-mongoose-Promise上" class="headerlink" title="把全局的Pormise挂载到 mongoose.Promise上"></a>把全局的Pormise挂载到 mongoose.Promise上</h4></blockquote>
<blockquote>
<h4 id="使用-async、await解决异步问题"><a href="#使用-async、await解决异步问题" class="headerlink" title="使用 async、await解决异步问题"></a>使用 async、await解决异步问题</h4></blockquote>
<h4 id="增"><a href="#增" class="headerlink" title="增"></a>增</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">const mongoose = require(&apos;mongoose&apos;);</span><br><span class="line">const uri = &apos;mongodb://localhost/test&apos;;</span><br><span class="line">mongoose.connect(uri);</span><br><span class="line">const db = mongoose.connection;</span><br><span class="line">const Schema = mongoose.Schema;</span><br><span class="line"></span><br><span class="line">mongoose.Promise = global.Promise;</span><br><span class="line"></span><br><span class="line">// 表单对象</span><br><span class="line">const UserSchema =new Schema(&#123;</span><br><span class="line">    name:String,</span><br><span class="line">    age:Number</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">const UserModel = mongoose.model(&apos;user&apos;,UserSchema);</span><br><span class="line"></span><br><span class="line">(async()=&gt;&#123;</span><br><span class="line">    let created = await UserModel.create(&#123;</span><br><span class="line">        name:&apos;hjx&apos;,</span><br><span class="line">        age:18</span><br><span class="line">    &#125;).then()</span><br><span class="line">    return created;</span><br><span class="line">&#125;)().then(r=&gt;&#123;</span><br><span class="line">    console.log(r)</span><br><span class="line">&#125;).catch(e=&gt;&#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">db.on(&apos;open&apos;,()=&gt;&#123;console.log(&apos;db open &apos;)&#125;) </span><br><span class="line">db.on(&apos;error&apos;,(err,res)=&gt;&#123;console.log(&apos;db error&apos;)&#125;) </span><br><span class="line">db.on(&apos;close&apos;,(err,res)=&gt;&#123;console.log(&apos;db close&apos;)&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="实例方法"><a href="#实例方法" class="headerlink" title="实例方法"></a>实例方法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">const UserSchema = new Schema(&#123;</span><br><span class="line">    name:String,</span><br><span class="line">    age:Number</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">const UserModel = mongoose.model(&apos;user&apos;,UserSchema);</span><br><span class="line">// 实例方法</span><br><span class="line">UserSchema.methods.sayYourName = function()&#123;</span><br><span class="line">    return this.name;</span><br><span class="line">&#125;</span><br><span class="line">// 静态方法</span><br><span class="line">UserSchema.statics.findByName = async function(name)&#123;</span><br><span class="line">    return await this.findOne(&#123;name:name&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 具体的表   命令行里使用要加s  如   db.users.find()</span><br><span class="line">const UserModel = mongoose.model(&apos;user&apos;,UserSchema);</span><br><span class="line"></span><br><span class="line">// 实例方法</span><br><span class="line">(async()=&gt;&#123;</span><br><span class="line">    let found = await UserModel.findOne(&#123;&#125;);</span><br><span class="line">    console.log(found.sayYourName())</span><br><span class="line">&#125;)().then(r=&gt;&#123;</span><br><span class="line">    console.log(2)</span><br><span class="line">&#125;).catch(e=&gt;&#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// 静态方法</span><br><span class="line">(async()=&gt;&#123;</span><br><span class="line">    let found = await UserModel.findByName(&apos;hjx&apos;);</span><br><span class="line">    return found;</span><br><span class="line">&#125;)().then(r=&gt;&#123;</span><br><span class="line">    console.log(r)</span><br><span class="line">&#125;).catch(e=&gt;&#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//保存</span><br><span class="line">(async()=&gt;&#123;</span><br><span class="line">   let user = new UserModel(&#123;name:&apos;lisi&apos;,age:19&#125;)</span><br><span class="line">   return await user.save()</span><br><span class="line">&#125;)().then(r=&gt;&#123;</span><br><span class="line">&#125;).catch(e=&gt;&#123;</span><br><span class="line">    console.log(e)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>工厂模式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// 工厂模式</span><br><span class="line">(async(params)=&gt;&#123;</span><br><span class="line">   let flow = UserModel.find(&#123;&#125;);</span><br><span class="line">   flow.where(&apos;age&apos;).lt(21);</span><br><span class="line">   flow.select(&#123;name:1&#125;)</span><br><span class="line">   flow.skip(0);</span><br><span class="line">   if(params.sort) flow.sort(params.sort);</span><br><span class="line">   let res = await flow.then()</span><br><span class="line">   return res;</span><br><span class="line">&#125;)(&#123;</span><br><span class="line">    sort:&apos;-age&apos;</span><br><span class="line">&#125;)</span><br><span class="line">.then(r=&gt;&#123;</span><br><span class="line">    console.log(r)</span><br><span class="line">&#125;)</span><br><span class="line">.catch(e=&gt;&#123;</span><br><span class="line">    console.log(e)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/05/10/MONGODB_007_Schema和Model/" data-id="cklcb6bds004wwo9190u1svxs" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mongodb/">mongodb</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-MONGODB_006_mongoose" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/05/10/MONGODB_006_mongoose/" class="article-date">
  <time datetime="2018-05-10T14:38:55.000Z" itemprop="datePublished">2018-05-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/10/MONGODB_006_mongoose/">mongoose是什么鬼</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="什么是mongoose"><a href="#什么是mongoose" class="headerlink" title="什么是mongoose"></a>什么是mongoose</h3><blockquote>
<p>在之前的文章中我们都是命令行操作mongodb</p>
</blockquote>
<ul>
<li>而实际使用中肯定不能让客户操作命令行录入数据</li>
<li>mongoose是一个可以让我们通过node来操作 mongoDB的模块</li>
<li>mongoose是一个ODM库（对象文档模型）</li>
</ul>
<p><a href="http://mongoosejs.com/" target="_blank" rel="noopener">官网</a></p>
<blockquote>
<p>moogoose实际作用是让我们以「对象的形式」操作数据库</p>
</blockquote>
<p>好处</p>
<ol>
<li>可以为文档创建一个模式结构（Schema）</li>
<li>可以对模型中的对象进行验证</li>
<li>数据可以通过类型转换为对象模型</li>
<li>可以使用中间件来与业务逻辑挂钩</li>
<li>比Node原生的mongodb驱动更容易</li>
</ol>
<h3 id="mongoose提供的对象"><a href="#mongoose提供的对象" class="headerlink" title="mongoose提供的对象"></a>mongoose提供的对象</h3><ul>
<li>Schema （模式对象） 对字段进行约束</li>
<li>Model 作为集合中所有文档的表示，相当于MongoDB中的collections</li>
<li>Document 表示集合中的具体文档，相当于MongoDB中的document</li>
</ul>
<h3 id="使用mongoose"><a href="#使用mongoose" class="headerlink" title="使用mongoose"></a>使用mongoose</h3><ol>
<li>下载安装 mongoose </li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 创建项目目录</span><br><span class="line">mkdir demo</span><br><span class="line"># 切换目录</span><br><span class="line">cd demo</span><br><span class="line"># 初始化package.json</span><br><span class="line">npm init 一路回车</span><br><span class="line"># 安装依赖</span><br><span class="line">npm i mongoose --save</span><br><span class="line"># 新建test.js</span><br><span class="line">touch test.js</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>引入mongoose</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const mongoose = require(&apos;mongoose&apos;)</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>连接数据库</li>
</ol>
<blockquote>
<p>如果端口号是27017可以省略</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//引入mongoose模块</span><br><span class="line">const mongoose = require(&apos;mongoose&apos;)</span><br><span class="line">mongoose.connect(&quot;mongodb://数据库的ip地址:端口号/数据库名&quot;)</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>监听数据库的连接状态</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongoose.disconnect() //一般不使用</span><br></pre></td></tr></table></figure>
<p>全部代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const mongoose = require(&apos;mongoose&apos;);</span><br><span class="line">const db = mongoose.connect(&apos;mongodb://localhost/test&apos;);</span><br><span class="line">db.on(&apos;open&apos;,()=&gt;&#123;console.log(&quot;数据库连接成功&quot;)&#125;)</span><br><span class="line"></span><br><span class="line">db.on(&apos;close&apos;,()=&gt;&#123;console.log(&quot;数据库连接断开&quot;)&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="和mysql区别"><a href="#和mysql区别" class="headerlink" title="和mysql区别"></a>和mysql区别</h4><ul>
<li>mongoDB一般只连接一次，不会主动断开（没有事务控制）除非服务器宕机</li>
<li>mysql是关系型数据库，每操作数据就要进行事务控制，以至于 连接一次关闭一次 连接一次关闭一次</li>
</ul>
<blockquote>
<p>所以一般不会调用 mongoose.disconnect() </p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/05/10/MONGODB_006_mongoose/" data-id="cklcb6bdr004two91fvpx5yvj" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mongodb/">mongodb</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-MONGODB_005_练习3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/05/10/MONGODB_005_练习3/" class="article-date">
  <time datetime="2018-05-10T14:16:24.000Z" itemprop="datePublished">2018-05-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/10/MONGODB_005_练习3/">mongoDb练习三</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="练习3"><a href="#练习3" class="headerlink" title="练习3"></a>练习3</h3><ol>
<li>查询工资小于1000 或 大于3000的数据</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">db.emp.find(&#123;</span><br><span class="line">    $or:[</span><br><span class="line">        sal:&#123;</span><br><span class="line">            $lt:1000</span><br><span class="line">        &#125;,</span><br><span class="line">        sal:&#123;</span><br><span class="line">            $gt:3000</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>为所有工资低于1000的 员工 涨薪 400</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">db.emp.updateMany(</span><br><span class="line">    &#123;sal:&#123;$let:1000&#125;&#125;,</span><br><span class="line">    &#123;$inc:&#123;sal:400&#125;&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h4 id="排序-sort"><a href="#排序-sort" class="headerlink" title="排序 sort()"></a>排序 sort()</h4><p>查询文档时，默认按_id的值进行升序排列</p>
<ul>
<li>sort()需要传递一个对象指定对应列进行排序</li>
<li>1代表升序</li>
<li>-1代表降序</li>
<li>多个排序  sort({sal:1,empno:-1}) 先按照工资排序 然后再按照 部门排序</li>
<li>limit skip sort 可以任意顺序调用</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">按工资升序排列</span><br><span class="line">db.emp.find(&#123;&#125;).sort(&#123;sal:1&#125;)</span><br><span class="line">按工资降序排列</span><br><span class="line">db.emp.find(&#123;&#125;).sort(&#123;sal:-1&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="设置投影-如果我只想看员工姓名-工资，不想看-id"><a href="#设置投影-如果我只想看员工姓名-工资，不想看-id" class="headerlink" title="设置投影 (如果我只想看员工姓名/工资，不想看_id)"></a>设置投影 (如果我只想看员工姓名/工资，不想看_id)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.emp.find(&#123;&#125;,&#123;name:1,sal:1,_id:0&#125;)</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/05/10/MONGODB_005_练习3/" data-id="cklcb6bdp004mwo911288zjki" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mongodb/">mongodb</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-MONGODB_004文档间的关系" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/05/10/MONGODB_004文档间的关系/" class="article-date">
  <time datetime="2018-05-10T13:54:39.000Z" itemprop="datePublished">2018-05-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/10/MONGODB_004文档间的关系/">mongoDb文档之间的关系</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="文档之间的关系"><a href="#文档之间的关系" class="headerlink" title="文档之间的关系"></a>文档之间的关系</h3><h4 id="一对一-one-to-one"><a href="#一对一-one-to-one" class="headerlink" title="一对一 one to one"></a>一对一 one to one</h4><ul>
<li>夫妻</li>
<li>Mongodb中 通过内嵌文档体现 一对一的关系</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">db.test.insert([</span><br><span class="line">    &#123;</span><br><span class="line">        name:&quot;黄蓉&quot;,</span><br><span class="line">        husband:&#123;</span><br><span class="line">            name:&quot;郭靖&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        name:&quot;小龙女&quot;,</span><br><span class="line">        husband:&#123;</span><br><span class="line">            name:&quot;杨过&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">])</span><br></pre></td></tr></table></figure>
<h4 id="一对多-one-to-many-many-to-one"><a href="#一对多-one-to-many-many-to-one" class="headerlink" title="一对多 one to many  / many to one"></a>一对多 one to many  / many to one</h4><ul>
<li>父母  孩子</li>
<li>用户  订单</li>
<li>文章  评论</li>
</ul>
<p>一对多的关系 ==&gt;  用户&amp;&amp;订单</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">db.users.insert([</span><br><span class="line">    &#123;username:&quot;aaa&quot;&#125;,</span><br><span class="line">    &#123;username:&quot;bbb&quot;&#125;</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">&#123;_id:ObjectId(&quot;5aaaaaaaaaaaaaa&quot;),username:&quot;aaa&quot;&#125;,</span><br><span class="line">&#123;_id:ObjectId(&quot;5bbbbbbbbbbbbbb&quot;),username:&quot;bbb&quot;&#125;</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">订单</span><br><span class="line">db.order.insert(&#123;</span><br><span class="line">    list:[&quot;苹果&quot;,&quot;香蕉&quot;,&quot;葡萄&quot;]</span><br><span class="line">    user_id:ObjectId(&quot;5aaaaaaaaaaaaaa&quot;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">db.order.insert(&#123;</span><br><span class="line">    list:[&quot;华为&quot;,&quot;平板&quot;,&quot;iPad&quot;]</span><br><span class="line">    user_id:ObjectId(&quot;5bbbbbbbbbbbbbb&quot;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">查询用户名 aaa的订单</span><br><span class="line">var aaaId = db.users.find(&#123;username:&quot;aaa&quot;&#125;)</span><br><span class="line">db.order.find(&#123;user_id:aaaId&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="多对多-many-to-many"><a href="#多对多-many-to-many" class="headerlink" title="多对多 many to many"></a>多对多 many to many</h4><ul>
<li>分类  商品</li>
<li>老师  学生</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">db.teachers.insert([</span><br><span class="line">    &#123;name:&quot;欧阳锋&quot;&#125;,</span><br><span class="line">    &#123;name:&quot;黄药师&quot;&#125;,</span><br><span class="line">    &#123;name:&quot;洪七公&quot;&#125;</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line">db.students:insert([</span><br><span class="line">    &#123;</span><br><span class="line">        name:&quot;郭靖&quot;,</span><br><span class="line">        tech_ids:[</span><br><span class="line">            ObjectId(&quot;5aaaaaaaaaaa&quot;),</span><br><span class="line">            ObjectId(&quot;5bbbbbbbbbbb&quot;),</span><br><span class="line">            ObjectId(&quot;5ccccccccccc&quot;),</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        name:&quot;孙悟空&quot;,</span><br><span class="line">        tech_ids:[</span><br><span class="line">            ObjectId(&quot;5aaaaaaaaaaa&quot;),</span><br><span class="line">            ObjectId(&quot;5bbbbbbbbbbb&quot;)</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">])</span><br></pre></td></tr></table></figure>
<h4 id="使用最广泛的关系是-一对多"><a href="#使用最广泛的关系是-一对多" class="headerlink" title="使用最广泛的关系是 一对多"></a>使用最广泛的关系是 一对多</h4>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/05/10/MONGODB_004文档间的关系/" data-id="cklcb6bdo004kwo91zlmlp099" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mongodb/">mongodb</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-MONGODB_003_练习2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/05/10/MONGODB_003_练习2/" class="article-date">
  <time datetime="2018-05-10T13:36:47.000Z" itemprop="datePublished">2018-05-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/10/MONGODB_003_练习2/">mongoDb练习二</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="练习2"><a href="#练习2" class="headerlink" title="练习2"></a>练习2</h3><ol>
<li>向 numbers 集合中插入20000条数据</li>
</ol>
<p>笨方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">db.numbers.insert(&#123;num:1&#125;)</span><br><span class="line">db.numbers.insert(&#123;num:2&#125;)</span><br><span class="line">db.numbers.insert(&#123;num:3&#125;)</span><br><span class="line">db.numbers.insert(&#123;num:4&#125;)</span><br><span class="line">...</span><br><span class="line">db.numbers.insert(&#123;num:20000&#125;)</span><br></pre></td></tr></table></figure>
<p>稍微快一点</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for(var i=1;i&lt;=20000,i++)&#123;</span><br><span class="line">    db.numbers.insert(&#123;num:i&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>快一点</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var arr =[];</span><br><span class="line">for(var i=1;i&lt;=20000,i++)&#123;</span><br><span class="line">    arr.push(&#123;num:i&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">db.numbers.insert(arr)</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>查询numbers 中 num 为500的文档</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.numbers.find(&#123;num:500&#125;)</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>查询 num 大于500的文档</li>
</ol>
<blockquote>
<p>$lt 小于  $gt大于  $eq等于  $ne 不等于</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.numbers.find(&#123;num:&#123;$gt:500&#125;&#125;)</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>查询 num 大于等于500的文档</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.numbers.find(&#123;num:&#123;$gte:500&#125;&#125;)</span><br></pre></td></tr></table></figure>
<ol start="5">
<li>查询num 大于40 小于50的文档</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.numbers.find(&#123;num:&#123;$gt:40,$lt:50&#125;&#125;)</span><br></pre></td></tr></table></figure>
<ol start="6">
<li>查看 numbers集合中 前10条数据</li>
</ol>
<blockquote>
<h4 id="limit-设置数据的上限"><a href="#limit-设置数据的上限" class="headerlink" title="limit()设置数据的上限"></a>limit()设置数据的上限</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">不靠谱的方式</span><br><span class="line">db.numbers.find(&#123;num:&#123;$lte:10&#125;&#125;)</span><br><span class="line"></span><br><span class="line">靠谱的方式</span><br><span class="line">设置显示数据的上限</span><br><span class="line">db.numbers.find().limit(10)</span><br></pre></td></tr></table></figure>
<blockquote>
<h3 id="开发中绝对不该执行不带条件的查询"><a href="#开发中绝对不该执行不带条件的查询" class="headerlink" title="开发中绝对不该执行不带条件的查询"></a>开发中绝对不该执行不带条件的查询</h3></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.numbers.find()</span><br></pre></td></tr></table></figure>
<ol start="7">
<li>查询numbers  11条到20条的数据</li>
</ol>
<blockquote>
<p>分页skip()</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1-10</span><br><span class="line">11-20</span><br><span class="line">21-30 </span><br><span class="line">...</span><br><span class="line">skip()用于跳过指定的条数</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.numbers.find().skip(10).limit(10)</span><br></pre></td></tr></table></figure>
<ol start="8">
<li>查询numbers  21条到30条的数据</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.numbers.find().skip(20).limit(10)</span><br></pre></td></tr></table></figure>
<h3 id="分页公式"><a href="#分页公式" class="headerlink" title="分页公式"></a>分页公式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">skip((pageNo-1)*pageSize).limit(pageSize)</span><br></pre></td></tr></table></figure>
<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mongodb会自动调整 skip和limit的位置</span><br><span class="line">skip() 和 limit()的顺序谁先谁后无所谓</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/05/10/MONGODB_003_练习2/" data-id="cklcb6bdm004fwo91jh2ljeuo" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mongodb/">mongodb</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-MONGODB_002_练习1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/05/10/MONGODB_002_练习1/" class="article-date">
  <time datetime="2018-05-10T13:01:23.000Z" itemprop="datePublished">2018-05-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/10/MONGODB_002_练习1/">mongoDb练习一</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="练习1"><a href="#练习1" class="headerlink" title="练习1"></a>练习1</h3><ol>
<li>进入my_test数据库</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use my_test</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>向 my_test中 user集合插入一个文档</li>
</ol>
<p>集合习惯会在其后加s  所以 user在操作时是 db.users</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.users.insert(&#123;username:&quot;猪八戒&quot;&#125;)</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>查询user集合中的文档</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.users.find()</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>向user集合中插入一个文档</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.users.insert(&#123;username:&quot;孙悟空&quot;&#125;)</span><br></pre></td></tr></table></figure>
<ol start="5">
<li>统计user集合中文档document的数量</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.users.find().count()</span><br></pre></td></tr></table></figure>
<ol start="6">
<li>查询user集合中 username为孙悟空的值</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.users.find(&#123;username:&quot;孙悟空&quot;&#125;)</span><br></pre></td></tr></table></figure>
<ol start="7">
<li>向user集合中 username=”孙悟空”的文档添加一个 address= 花果山</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">db.users.update(&#123;username:&quot;孙悟空&quot;&#125;,&#123;</span><br><span class="line">    &#123;</span><br><span class="line">        $set:&#123;</span><br><span class="line">            &#123;address:&quot;花果山&quot;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ol start="8">
<li>使用{username:”唐僧”}替换  username为 猪八戒 的文档</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.users.replaceOne(&#123;username:&quot;猪八戒&quot;&#125;,&#123;username:&quot;唐僧&quot;&#125;)</span><br></pre></td></tr></table></figure>
<ol start="9">
<li>删除 username 为 孙悟空 的 address属性</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.users.update(&#123;username:&quot;孙悟空&quot;&#125;,&#123;$unset:&#123;address:&quot;&quot;&#125;&#125;)</span><br></pre></td></tr></table></figure>
<ol start="10">
<li>向 username 为 孙悟空 的文档中 添加一个 hobby:{cities:[“北京”,”上海”,”深圳”],movies:[“三国”,”英雄”]}</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">db.users.update(&#123;username:&quot;孙悟空&quot;&#125;,&#123;</span><br><span class="line">    $set:&#123;</span><br><span class="line">        hobby:&#123;</span><br><span class="line">            cities:[&quot;北京&quot;,&quot;上海&quot;,&quot;深圳&quot;],</span><br><span class="line">            movies:[&quot;三国&quot;,&quot;英雄&quot;]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>mongodb 中的属性值也可以是一个文档，当一个文档的一个属性值是文档时，我们称之为「内嵌文档」</p>
</blockquote>
<ol start="11">
<li>向 username 为 唐僧 的文档中 添加一个 hobby:{movies:[“大话西游”,”天下第一”]}</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">db.users.update(&#123;username:&quot;孙悟空&quot;&#125;,&#123;</span><br><span class="line">    $set:&#123;</span><br><span class="line">        hobby:&#123;</span><br><span class="line">           movies:[&quot;大话西游&quot;,&quot;天下第一&quot;]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ol start="12">
<li>查询喜欢 电影 movies = 英雄 的文档</li>
</ol>
<ul>
<li>mongodb支持直接通过内嵌文档的属性进行查询，使用「.」进行操作 形如 hobby.movies的形式</li>
<li>通过内嵌文档查询 必须使用引号包起来 形如 “hobby.movies”</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.users.find(&#123;&quot;hobby.movies&quot;:&quot;英雄&quot;&#125;)</span><br></pre></td></tr></table></figure>
<ol start="13">
<li>向 唐僧 的文档中,电影 movies 中添加 “寒战”</li>
</ol>
<ul>
<li>注意此时不要用 $set 修改操作符</li>
<li>使用 $push 用于向数组中添加一个新的元素(可重复添加)</li>
<li>$addToSet 向数组中添加一个元素 (如果添加元素已经存在就不会再去添加了，不可重复添加)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">db.users.update(&#123;username:&quot;唐僧&quot;&#125;,&#123;</span><br><span class="line">    $push:&#123;</span><br><span class="line">        &quot;hobby.movies&quot;:&quot;寒战&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">db.users.update(&#123;username:&quot;唐僧&quot;&#125;,&#123;</span><br><span class="line">    $addToSet:&#123;</span><br><span class="line">        &quot;hobby.movies&quot;:&quot;寒战&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ol start="14">
<li>删除 喜欢 北京 的用户</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.users.remove(&#123;&quot;hobby.cities&quot;:&quot;北京&quot;&#125;)</span><br></pre></td></tr></table></figure>
<ol start="15">
<li>删除 users集合</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">db.users.remove(&#123;&#125;) </span><br><span class="line">db.users.drop()</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/05/10/MONGODB_002_练习1/" data-id="cklcb6bdk004dwo91eq2ansnx" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mongodb/">mongodb</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/46/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/45/">45</a><a class="page-number" href="/page/46/">46</a><span class="page-number current">47</span><a class="page-number" href="/page/48/">48</a><a class="page-number" href="/page/49/">49</a><span class="space">&hellip;</span><a class="page-number" href="/page/54/">54</a><a class="extend next" rel="next" href="/page/48/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6速学/">ES6速学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JS不知深浅/">JS不知深浅</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M01/">M01</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M02/">M02</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M03/">M03</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M04/">M04</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M06/">M06</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M07/">M07</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M08/">M08</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M09/">M09</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NodeWeb/">NodeWeb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node后端/">Node后端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ReactWheels/">ReactWheels</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React入门/">React入门</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TS入门/">TS入门</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fullstack/">fullstack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/">jQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mobile/">mobile</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/">node</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node每日精进/">node每日精进</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oak/">oak</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tools/">tools</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/">vim</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vultr/">vultr</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web性能优化/">web性能优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web面经/">web面经</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端知识点/">前端知识点</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/CSS/" style="font-size: 13.75px;">CSS</a> <a href="/tags/ES6速学/" style="font-size: 14.17px;">ES6速学</a> <a href="/tags/JS不知深浅/" style="font-size: 11.25px;">JS不知深浅</a> <a href="/tags/M01/" style="font-size: 13.33px;">M01</a> <a href="/tags/M02/" style="font-size: 15.42px;">M02</a> <a href="/tags/M03/" style="font-size: 15.83px;">M03</a> <a href="/tags/M04/" style="font-size: 16.25px;">M04</a> <a href="/tags/M06/" style="font-size: 18.33px;">M06</a> <a href="/tags/M07/" style="font-size: 17.92px;">M07</a> <a href="/tags/M08/" style="font-size: 17.08px;">M08</a> <a href="/tags/M09/" style="font-size: 11.67px;">M09</a> <a href="/tags/NodeWeb/" style="font-size: 14.58px;">NodeWeb</a> <a href="/tags/Node后端/" style="font-size: 18.75px;">Node后端</a> <a href="/tags/ReactWheels/" style="font-size: 16.67px;">ReactWheels</a> <a href="/tags/React入门/" style="font-size: 15.42px;">React入门</a> <a href="/tags/TS入门/" style="font-size: 15px;">TS入门</a> <a href="/tags/express/" style="font-size: 10.42px;">express</a> <a href="/tags/fullstack/" style="font-size: 17.92px;">fullstack</a> <a href="/tags/http/" style="font-size: 12.08px;">http</a> <a href="/tags/jQuery/" style="font-size: 10px;">jQuery</a> <a href="/tags/java/" style="font-size: 19.17px;">java</a> <a href="/tags/linux/" style="font-size: 10.83px;">linux</a> <a href="/tags/mobile/" style="font-size: 11.25px;">mobile</a> <a href="/tags/mongodb/" style="font-size: 12.5px;">mongodb</a> <a href="/tags/mysql/" style="font-size: 12.5px;">mysql</a> <a href="/tags/node/" style="font-size: 10.42px;">node</a> <a href="/tags/node每日精进/" style="font-size: 10px;">node每日精进</a> <a href="/tags/oak/" style="font-size: 20px;">oak</a> <a href="/tags/python/" style="font-size: 17.5px;">python</a> <a href="/tags/tools/" style="font-size: 10px;">tools</a> <a href="/tags/vim/" style="font-size: 10px;">vim</a> <a href="/tags/vue/" style="font-size: 12.92px;">vue</a> <a href="/tags/vultr/" style="font-size: 10px;">vultr</a> <a href="/tags/web性能优化/" style="font-size: 10px;">web性能优化</a> <a href="/tags/web面经/" style="font-size: 10px;">web面经</a> <a href="/tags/前端知识点/" style="font-size: 19.58px;">前端知识点</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/02/18/Node-web05-07博客系统部署/">Node-web05-07博客系统部署</a>
          </li>
        
          <li>
            <a href="/2021/02/18/Node-web05-06博客系统后端分页/">Node-web05-06博客系统后端分页</a>
          </li>
        
          <li>
            <a href="/2021/02/18/Node-web05-05博客系统创建博客/">Node-web05-05博客系统创建博客</a>
          </li>
        
          <li>
            <a href="/2021/02/18/Node-web05-04博客系统登录/">Node-web05-04博客系统登录</a>
          </li>
        
          <li>
            <a href="/2021/02/18/Node-web05-03博客系统注册/">Node-web05-03博客系统注册</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 Stevin<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>