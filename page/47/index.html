<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>Almost</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Almost">
<meta property="og:url" content="http://yoursite.com/page/47/index.html">
<meta property="og:site_name" content="Almost">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Almost">
  
    <link rel="alternate" href="/atom.xml" title="Almost" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Almost</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Python001基础" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/16/Python001基础/" class="article-date">
  <time datetime="2018-06-16T05:27:34.000Z" itemprop="datePublished">2018-06-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/16/Python001基础/">Python001基础</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="学习仪式-hello-world"><a href="#学习仪式-hello-world" class="headerlink" title="学习仪式 hello world"></a>学习仪式 hello world</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python</span><br><span class="line">print(&apos;hello world&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#!/usr/bin/env python 在linux里代表查找系统环境变量的 python命令路径 </span><br><span class="line"> 但是linux里默认的是2.x版本 而你自己安装的3.x版本python在 usr/local/bin</span><br><span class="line">#!/usr/bin/python</span><br></pre></td></tr></table></figure>
<blockquote>
<p>python2 解释器在加载 .py 文件中的代码时，会对内容进行编码（默认ascill）如果有中文就会报错</p>
</blockquote>
<p>你应该指定编码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">print(&quot;你好，世界&quot;)</span><br></pre></td></tr></table></figure>
<h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 单行注释</span><br><span class="line"># 我是注释</span><br><span class="line"># 我是注释</span><br><span class="line"># 我是注释</span><br><span class="line"></span><br><span class="line">&apos;&apos;&apos;文档注释&apos;&apos;&apos;</span><br><span class="line"></span><br><span class="line">&apos;&apos;&apos;</span><br><span class="line">dd</span><br><span class="line">dd  多行注释</span><br><span class="line">dd</span><br><span class="line">&apos;&apos;&apos;</span><br></pre></td></tr></table></figure>
<h3 id="变量声明"><a href="#变量声明" class="headerlink" title="变量声明"></a>变量声明</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 与js类似 动态类型具体有那些自行百度</span><br><span class="line"></span><br><span class="line">注意布尔值为 True / False</span><br></pre></td></tr></table></figure>
<h3 id="基本类型转换方法"><a href="#基本类型转换方法" class="headerlink" title="基本类型转换方法"></a>基本类型转换方法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = 1;</span><br><span class="line">str(a)  &apos;1&apos;</span><br><span class="line">b = &apos;2&apos;</span><br><span class="line">int(b)  2</span><br></pre></td></tr></table></figure>
<h3 id="格式化输出"><a href="#格式化输出" class="headerlink" title="格式化输出"></a>格式化输出</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"># 格式化输出</span><br><span class="line"></span><br><span class="line"># \n换行</span><br><span class="line"># \t tab制表</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">name = &quot;hjx&quot;</span><br><span class="line">age = 18</span><br><span class="line">height = 199</span><br><span class="line"># print(name+age) 报错  因为 name 和 age类型不一样 相加报错</span><br><span class="line"># print(name+str(age))  要把age 转换为字符串</span><br><span class="line"></span><br><span class="line">print(&quot;========================&quot;)</span><br><span class="line">print(&quot;我叫%s&quot;%name)</span><br><span class="line">print(&quot;我叫%s,今年%d岁,身高%dcm&quot;%(name,age,height))</span><br><span class="line">print(&quot;========================&quot;)</span><br><span class="line"># 检查类型</span><br><span class="line">print(type(name))</span><br><span class="line">print(type(age))</span><br><span class="line">print(&quot;========================&quot;)</span><br><span class="line"># 输出字符</span><br><span class="line">char1 = 65</span><br><span class="line">char2 = 98</span><br><span class="line"></span><br><span class="line">print(&quot;%c&quot;%char1)</span><br><span class="line">print(&quot;%c&quot;%char2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#如果我想输出 %</span><br><span class="line">print(&quot;%&quot;) #  这样会报错的，因为在格式化输出里，你出现%默认为就是占位符的%</span><br><span class="line">print(&quot;%%&quot;) # 第一个%是对第二个%的转译，告诉Python解释器这只是一个单纯的%，而不是占位符。</span><br><span class="line"></span><br><span class="line">print(&quot;========================&quot;)</span><br><span class="line"></span><br><span class="line"># 帮助文档</span><br><span class="line"></span><br><span class="line">help(print)</span><br></pre></td></tr></table></figure>
<h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">+ 懒得说</span><br><span class="line">- 懒得说</span><br><span class="line">* 懒得说</span><br><span class="line">/ 懒得说</span><br><span class="line">// 取整除  商</span><br><span class="line"></span><br><span class="line">11/2     5</span><br><span class="line">11.0/2   5.5</span><br><span class="line"></span><br><span class="line">11//2    5</span><br><span class="line">2**2  4</span><br><span class="line">3**3  27</span><br><span class="line">a = 100</span><br><span class="line">b = 111</span><br><span class="line">交换a b的值</span><br><span class="line">a,b = b,a</span><br></pre></td></tr></table></figure>
<h3 id="条件判断if"><a href="#条件判断if" class="headerlink" title="条件判断if"></a>条件判断if</h3><p>多重嵌套if使用 tab缩进</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if a &gt;10 and a &lt;20 :</span><br><span class="line">    if a == 15 :</span><br><span class="line">        print(&quot;满足条件&quot;)</span><br></pre></td></tr></table></figure>
<h3 id="或且非"><a href="#或且非" class="headerlink" title="或且非"></a>或且非</h3><ul>
<li>and</li>
<li>or </li>
<li>not</li>
</ul>
<p>猜拳游戏</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import random</span><br><span class="line">com = random.randint(0,2)</span><br><span class="line">user = int(input(&quot;猜拳：0剪刀 1石头 2布&quot;))</span><br><span class="line"></span><br><span class="line">if (com==0 and user ==1) or (com==1 and user ==2) or (com==2 and user ==0):</span><br><span class="line">    print(&apos;算你厉害&apos;)</span><br><span class="line">elif com == user:</span><br><span class="line">    print(&apos;平&apos;)</span><br><span class="line">else:</span><br><span class="line">    print(&quot;输了&quot;)</span><br></pre></td></tr></table></figure>
<h3 id="in-not-in"><a href="#in-not-in" class="headerlink" title="in,not in"></a>in,not in</h3><p>判断子元素是否在原字符串（字典，列表，集合）中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#print(&apos;喜欢&apos; in &apos;dkfljadklf喜欢hfjdkas&apos;)</span><br><span class="line">#print(&apos;a&apos; in &apos;bcvd&apos;)</span><br><span class="line">#print(&apos;y&apos; not in &apos;ofkjdslaf&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">i = 1</span><br><span class="line">while i&lt;=9:</span><br><span class="line">    j = 1</span><br><span class="line">    while j&lt;=i:</span><br><span class="line">        print(&quot;%d*%d=%d&quot;%(j,i,i*j),end=&quot;&quot;)</span><br><span class="line">        j+=1</span><br><span class="line">    print(&quot;&quot;)</span><br><span class="line">    i+=1</span><br></pre></td></tr></table></figure>
<h4 id="while-else"><a href="#while-else" class="headerlink" title="while else"></a>while else</h4><blockquote>
<p>与其它语言else 一般只与if 搭配不同，在Python 中还有个while …else 语句</p>
</blockquote>
<blockquote>
<p>while 后面的else 作用是指，当while 循环正常执行完，中间没有被break 中止的话，就会执行else后面的语句</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">count = 0</span><br><span class="line">while count &lt;= 5 :</span><br><span class="line">    count += 1</span><br><span class="line">    print(&quot;Loop&quot;,count)</span><br><span class="line"></span><br><span class="line">else:</span><br><span class="line">    print(&quot;循环正常执行完啦&quot;)</span><br><span class="line">print(&quot;-----out of while loop ------&quot;)</span><br><span class="line"></span><br><span class="line">输出如下：</span><br><span class="line"></span><br><span class="line">Loop 1</span><br><span class="line">Loop 2</span><br><span class="line">Loop 3</span><br><span class="line">Loop 4</span><br><span class="line">Loop 5</span><br><span class="line">Loop 6</span><br><span class="line">循环正常执行完啦</span><br><span class="line">-----out of while loop ------</span><br></pre></td></tr></table></figure>
<p>如果执行过程中被break啦，就不会执行else的语句啦</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">count = 0</span><br><span class="line">while count &lt;= 5 :</span><br><span class="line">    count += 1</span><br><span class="line">    if count == 3:break</span><br><span class="line">    print(&quot;Loop&quot;,count)</span><br><span class="line"></span><br><span class="line">else:</span><br><span class="line">    print(&quot;循环正常执行完啦&quot;)</span><br><span class="line">print(&quot;-----out of while loop ------&quot;)</span><br><span class="line"></span><br><span class="line">输出如下：</span><br><span class="line"></span><br><span class="line">Loop 1</span><br><span class="line">Loop 2</span><br><span class="line">-----out of while loop ------</span><br></pre></td></tr></table></figure>
<h3 id="for-循环"><a href="#for-循环" class="headerlink" title="for 循环"></a>for 循环</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name = &apos;abcdef&apos;</span><br><span class="line">for temp in name</span><br><span class="line">    print(temp)</span><br></pre></td></tr></table></figure>
<h3 id="下标"><a href="#下标" class="headerlink" title="下标"></a>下标</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">name = &apos;abcdef&apos;</span><br><span class="line">name[0]   &apos;a&apos;</span><br><span class="line">name[1]   &apos;b&apos;</span><br><span class="line">name[2]   &apos;c&apos;</span><br><span class="line">name[3]   &apos;d&apos;</span><br><span class="line">name[4]   &apos;e&apos;</span><br><span class="line">name[5]   &apos;f&apos;</span><br></pre></td></tr></table></figure>
<h3 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">name = &apos;abcdef&apos;</span><br><span class="line"></span><br><span class="line">name[0]  &apos;a&apos;</span><br><span class="line"></span><br><span class="line">#注意切片来了 ,口诀包头不包尾</span><br><span class="line"></span><br><span class="line">name[0:4] &apos;abcd&apos;</span><br><span class="line">name[1:4] &apos;bcd&apos;</span><br><span class="line"></span><br><span class="line">#超过字符串长度咋办？</span><br><span class="line">name[0:70] &apos;abcdef&apos;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>获取字符长度之len</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#js里  &apos;abc&apos;.length = 3 </span><br><span class="line">#python里 </span><br><span class="line">name = &apos;abcdef&apos;</span><br><span class="line"># 获取字符串长度</span><br><span class="line">len(name)  # 6</span><br></pre></td></tr></table></figure>
<blockquote>
<p>想要切片返回当前字符串的内容</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">name = &apos;fasfasdfl;kfdl;askfl;daskl;fkasl;&apos;</span><br><span class="line">length = len(name)</span><br><span class="line">name[0:length]</span><br><span class="line"></span><br><span class="line">#简洁写法 都可以获取整个字符串</span><br><span class="line">name[0:]</span><br><span class="line">name[:]</span><br><span class="line">name[::]</span><br><span class="line"></span><br><span class="line"># name[]报错</span><br></pre></td></tr></table></figure>
<h4 id="切片之炮打隔一子"><a href="#切片之炮打隔一子" class="headerlink" title="切片之炮打隔一子"></a>切片之炮打隔一子</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name = &apos;ababababab&apos;</span><br><span class="line">name[::2]  &apos;aaaaa&apos;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name[起始位置:结束位置:步长]</span><br></pre></td></tr></table></figure>
<h4 id="切片之反序"><a href="#切片之反序" class="headerlink" title="切片之反序"></a>切片之反序</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name = &apos;123456789&apos;</span><br><span class="line">name[::-1]  &apos;987654321&apos;</span><br></pre></td></tr></table></figure>
<h4 id="切片其他用法"><a href="#切片其他用法" class="headerlink" title="切片其他用法"></a>切片其他用法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">name = &apos;abcdef&apos;</span><br><span class="line">name[-1] &apos;f&apos;</span><br><span class="line">name[-2] &apos;e&apos;</span><br><span class="line"></span><br><span class="line">name[0:-1]  &apos;abcde&apos;</span><br><span class="line"></span><br><span class="line">name[0:0] &apos;&apos;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/06/16/Python001基础/" data-id="cklhgt2v700mmq1fy63dv2crs" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Vim001编辑器使用" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/14/Vim001编辑器使用/" class="article-date">
  <time datetime="2018-06-14T14:53:10.000Z" itemprop="datePublished">2018-06-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/14/Vim001编辑器使用/">Vim001编辑器使用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h3><p>一种编辑器详情自行百度</p>
<blockquote>
<p>它有三种模式</p>
</blockquote>
<ul>
<li>命令模式</li>
<li>编辑模式</li>
<li>末行模式</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">当你 vi 1.txt后 是命令模式</span><br><span class="line">切换到编辑模式 </span><br><span class="line">1. i 当前光标左边插入</span><br><span class="line">2. o 当前光标下一行插入</span><br><span class="line">3. a 当前光标右边插入</span><br><span class="line">4. I 当前光标行首插入</span><br><span class="line">5. A 当前光标行尾插入</span><br><span class="line">切换到命令模式 「esc」</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">从编辑模式按了「esc」再输入一个冒号 「:」就会进入末行模式</span><br><span class="line">1. wq 保存退出</span><br><span class="line">2. q! 不保存退出</span><br><span class="line">3. x 保存退出</span><br><span class="line">4. q 退出</span><br></pre></td></tr></table></figure>
<h3 id="vim里的智能提示功能"><a href="#vim里的智能提示功能" class="headerlink" title="vim里的智能提示功能"></a>vim里的智能提示功能</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">myname = &apos;sssss&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">此时你又输了一个m</span><br><span class="line">m </span><br><span class="line"></span><br><span class="line">你想再次输入 myname不想手敲  「ctrl+n」</span><br></pre></td></tr></table></figure>
<h4 id="进入命令模式"><a href="#进入命令模式" class="headerlink" title="进入命令模式"></a>进入命令模式</h4><p>移动光标</p>
<ul>
<li>h 左</li>
<li>j 下</li>
<li>k 上</li>
<li>l 右</li>
<li>M 光标移动到行中间行</li>
<li>L 定位到屏幕最后一行行首</li>
<li>G 移动到指定行，行号  15G 跳到15行</li>
<li>gg 跳到第一行</li>
<li>yy 复制  8yy 表示从当前光标所在行开始复制 只输入yy代表当前行</li>
<li>p 粘贴</li>
<li>dd 剪切 8dd 表示从当前光标所在行开始剪切  只输入dd代表当前行</li>
<li>u 撤销</li>
<li>ctrl + r 反撤销</li>
<li>w 向后移动一个字</li>
<li>b 向前移动一个字</li>
<li>{ 按段移动上移</li>
<li>} 按段移动下移</li>
<li>ctrl + d 翻半屏</li>
<li>ctrl + u 翻半屏</li>
<li>crrl + f 下翻一屏</li>
<li>crrl + b 上翻一屏</li>
</ul>
<p>命令模式</p>
<ul>
<li>x 删除当前光标后边的字母</li>
<li>X 删除当前光标前边的字母</li>
<li>D 当前光标删除到行尾</li>
<li>d0 当前光标删除到行首</li>
<li><p>dw 删除一个词 光标所在位置</p>
</li>
<li><p>&lt;&lt; 文本左移</p>
</li>
<li><blockquote>
<blockquote>
<p>文本右移</p>
</blockquote>
</blockquote>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/06/14/Vim001编辑器使用/" data-id="cklhgt2x600rkq1fy15reyi7w" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vim/">vim</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Linux003多用户多任务操作" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/14/Linux003多用户多任务操作/" class="article-date">
  <time datetime="2018-06-14T13:33:48.000Z" itemprop="datePublished">2018-06-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/14/Linux003多用户多任务操作/">Linux003多用户多任务操作</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="多用户"><a href="#多用户" class="headerlink" title="多用户"></a>多用户</h3><p>一个电脑多个用户可以同时登录</p>
<h3 id="多任务"><a href="#多任务" class="headerlink" title="多任务"></a>多任务</h3><p>一个电脑可以跑很多程序 QQ 微信 浏览器 QQ音乐</p>
<h3 id="ifconfig"><a href="#ifconfig" class="headerlink" title="ifconfig"></a>ifconfig</h3><p>查看网卡信息(一般能看到俩个代表你的虚拟机能上网了)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig | grep &apos;192&apos; 查找一大堆文档中的关键字</span><br></pre></td></tr></table></figure>
<h4 id="vmware虚拟机的网络设置"><a href="#vmware虚拟机的网络设置" class="headerlink" title="vmware虚拟机的网络设置"></a>vmware虚拟机的网络设置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">NAT模式  比如你的window能上网，你想让虚拟机借助它上网(对于交换机来说它只看到一台电脑window)</span><br><span class="line">桥接模式  你想让window上网，而且虚拟机也能上网而不是间接的通过window就用这个(对于交换机它看到了两台电脑)</span><br><span class="line">仅主机模式 在没有网的情况下和windows进行通讯</span><br></pre></td></tr></table></figure>
<h3 id="ping"><a href="#ping" class="headerlink" title="ping"></a>ping</h3><p>测试是否能通信</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping 192.168.2.123</span><br></pre></td></tr></table></figure>
<h3 id="ssh远程登录"><a href="#ssh远程登录" class="headerlink" title="ssh远程登录"></a>ssh远程登录</h3><p>比如阿里云服务器跟这效果一样</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ssh hjx@192.168.17.76 代表远程登录服务器</span><br><span class="line"></span><br><span class="line">如果你第一次登录会让你确认是否连接  ==&gt; yes</span><br><span class="line">然后让你输入密码如果成功了就能远程登录 并且对系统进行远程操作</span><br></pre></td></tr></table></figure>
<h3 id="who命令"><a href="#who命令" class="headerlink" title="who命令"></a>who命令</h3><p>查看当前登录的用户信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">如果你的电脑被攻击了</span><br><span class="line">who可以查看当前谁登录了</span><br></pre></td></tr></table></figure>
<p>whoami当前终端的用户</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whoami</span><br></pre></td></tr></table></figure>
<p>exit退出登录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exit</span><br></pre></td></tr></table></figure>
<h3 id="添加用户账号useradd"><a href="#添加用户账号useradd" class="headerlink" title="添加用户账号useradd"></a>添加用户账号useradd</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-m 自动创建家目录</span><br><span class="line">-d 路径  指定家目录 </span><br><span class="line">useradd aaa -m -d /home/aaa</span><br><span class="line">创建用户 aaa 同时指定家目录为 aaa</span><br><span class="line">通常提示你权限不够</span><br><span class="line"></span><br><span class="line">sudo useradd aaa -m -d /home/aaa</span><br><span class="line">会提示你输入这个用户的密码</span><br></pre></td></tr></table></figure>
<blockquote>
<p>修改密码passwd</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">passwd aaa</span><br><span class="line">可能会提示权限不够</span><br><span class="line"></span><br><span class="line">sudo passwd aaa</span><br><span class="line">请输入新密码</span><br></pre></td></tr></table></figure>
<h3 id="su切换用户"><a href="#su切换用户" class="headerlink" title="su切换用户"></a>su切换用户</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">su aaa </span><br><span class="line">输入密码</span><br><span class="line">su hjx</span><br><span class="line">输入密码</span><br></pre></td></tr></table></figure>
<p>问题 如果你切换了多个用户然后exit会怎样</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">su aaa</span><br><span class="line">su bbb</span><br><span class="line">su ccc</span><br><span class="line">su ddd</span><br><span class="line"></span><br><span class="line">你当前在 ddd用户 然后输入exit 退出会在 ccc用户</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">su aaa 切换后你当前目录在哪还在哪</span><br><span class="line">su - aaa 切换后跳到家目录</span><br></pre></td></tr></table></figure>
<h3 id="userdel删除用户"><a href="#userdel删除用户" class="headerlink" title="userdel删除用户"></a>userdel删除用户</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">userdel abc 删除abc用户但不删除用户的主目录 (一般删除这个)</span><br><span class="line">userdel -r abc 删除abc用户同时删除用户的主目录</span><br></pre></td></tr></table></figure>
<h3 id="sudo添加权限"><a href="#sudo添加权限" class="headerlink" title="sudo添加权限"></a>sudo添加权限</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo -s 一段时间内不询问你密码(最高权限)</span><br><span class="line"></span><br><span class="line">以$结尾代表普通用户</span><br><span class="line">以#结尾代表root用户</span><br></pre></td></tr></table></figure>
<h3 id="用户组的查看"><a href="#用户组的查看" class="headerlink" title="用户组的查看"></a>用户组的查看</h3><ol>
<li>cat etc/group</li>
<li>groupmod + 三次tab键</li>
</ol>
<p>什么是用户组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">比如你输入 ls -al后显示如下信息</span><br><span class="line">-rw-r--r-- root root </span><br><span class="line">第一个root代表用户</span><br><span class="line">第二个root代表用户组</span><br><span class="line">如果其他用户也在 root用户组那他就有 root用户的权限</span><br></pre></td></tr></table></figure>
<h4 id="添加用户组"><a href="#添加用户组" class="headerlink" title="添加用户组"></a>添加用户组</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">groupadd YYY</span><br><span class="line">groupdel YYY</span><br><span class="line"></span><br><span class="line">权限不够请加sudo</span><br></pre></td></tr></table></figure>
<h4 id="修改用户所在用户组"><a href="#修改用户所在用户组" class="headerlink" title="修改用户所在用户组"></a>修改用户所在用户组</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-g 代表你将来默认的组(主组)</span><br><span class="line">-G 代表向其他组添加用户</span><br><span class="line"></span><br><span class="line">usermod -g 用户组 用户名 </span><br><span class="line"></span><br><span class="line">usermod -g aaa bbb 把bbb用户修改到aaa用户组里</span><br></pre></td></tr></table></figure>
<p>一个用户可以有多个用户组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo usermod -a -G XXX bbb 将 bbb添加到 XXX组里</span><br></pre></td></tr></table></figure>
<h3 id="chmod修改文件权限"><a href="#chmod修改文件权限" class="headerlink" title="chmod修改文件权限"></a>chmod修改文件权限</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">drwxrwxrwx </span><br><span class="line">第一个rwx代表文件拥有者(用户)的权限</span><br><span class="line">第二个rwx代表同组者里的(用户)的权限</span><br><span class="line">第三个rwx代表其他人的权限</span><br><span class="line"></span><br><span class="line">r代表读</span><br><span class="line">w代表写</span><br><span class="line">x代表执行</span><br><span class="line">-代表没有权限</span><br></pre></td></tr></table></figure>
<p>chmod的选项</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">u 代表该文件的所有者user</span><br><span class="line">g 代表用户组的用户group</span><br><span class="line">o 代表其他 other</span><br><span class="line">a 代表所有人 all</span><br><span class="line">+ 增加权限</span><br><span class="line">- 减少权限</span><br><span class="line">= 把当前权限改为现在的权限   =左边是u/g/o/a =右边是 r/w/x</span><br></pre></td></tr></table></figure>
<p>示例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chmod u+x 1.txt 用户增加执行权限</span><br><span class="line">chmod g-w 1.txt 同组者去掉写入权限</span><br><span class="line">chmod u=rwx 1.txt</span><br></pre></td></tr></table></figure>
<h4 id="数字代表权限"><a href="#数字代表权限" class="headerlink" title="数字代表权限"></a>数字代表权限</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">r读 ==&gt; 对应数字4</span><br><span class="line">w写 ==&gt; 对应数字2</span><br><span class="line">x执行 ==&gt; 对应数字1</span><br><span class="line"></span><br><span class="line">chmod 444  1.txt 可读权限</span><br><span class="line">chmod 761 1.txt 用户=可读可写可执行 用户组=可读可写 其他用户=可执行权限</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">chmod 777 aa 只会修改aa文件夹的权限</span><br><span class="line">chmod 777 aa -R aa目录里的东西全部权限</span><br></pre></td></tr></table></figure>
<h3 id="cal和date查看时间（自行百度）"><a href="#cal和date查看时间（自行百度）" class="headerlink" title="cal和date查看时间（自行百度）"></a>cal和date查看时间（自行百度）</h3><h3 id="ps查看进程"><a href="#ps查看进程" class="headerlink" title="ps查看进程"></a>ps查看进程</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ps</span><br><span class="line">ps -aux 显示全部信息</span><br><span class="line"></span><br><span class="line">PID代表程序运行的进程号</span><br></pre></td></tr></table></figure>
<h3 id="kill终止进程"><a href="#kill终止进程" class="headerlink" title="kill终止进程"></a>kill终止进程</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kill pid</span><br><span class="line">kill 进程号</span><br></pre></td></tr></table></figure>
<h4 id="关机重启"><a href="#关机重启" class="headerlink" title="关机重启"></a>关机重启</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">reboot 重启</span><br><span class="line">shutdown -r now 重启 但是会给用户提示</span><br><span class="line">shutdown -h now 立刻关机</span><br><span class="line">shutdown -h 20:25 系统在 20:25关机</span><br><span class="line">shutdown -h +10 10分钟后关机</span><br></pre></td></tr></table></figure>
<h3 id="查看磁盘占用-du"><a href="#查看磁盘占用-du" class="headerlink" title="查看磁盘占用 du"></a>查看磁盘占用 du</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">du -h</span><br></pre></td></tr></table></figure>
<h3 id="用文本编辑器gedit"><a href="#用文本编辑器gedit" class="headerlink" title="用文本编辑器gedit"></a>用文本编辑器gedit</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/06/14/Linux003多用户多任务操作/" data-id="cklhgt2nu004jq1fy6yde1fj9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Linux002难点命令" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/13/Linux002难点命令/" class="article-date">
  <time datetime="2018-06-13T15:07:48.000Z" itemprop="datePublished">2018-06-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/13/Linux002难点命令/">Linux002难点命令</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="ln软链接和硬链接"><a href="#ln软链接和硬链接" class="headerlink" title="ln软链接和硬链接"></a>ln软链接和硬链接</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 软链接，就是快捷方式  (源文件没了，现在的链接文件都不好使)</span><br><span class="line"># 修改源文件或链接文件操作的都是一个文件</span><br><span class="line">ln -s 源文件 链接文件 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 硬连接，就算删除了源文件不会影响硬链接的查看</span><br><span class="line"># 修改源文件或链接文件操作的都是一个文件</span><br><span class="line">ln 源文件 链接文件</span><br></pre></td></tr></table></figure>
<h3 id="cat-查看文件的内容"><a href="#cat-查看文件的内容" class="headerlink" title="cat 查看文件的内容"></a>cat 查看文件的内容</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat 1.txt</span><br></pre></td></tr></table></figure>
<p>将一个文件的内容填充到一个文件里</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cat 1.txt &gt; 2.txt</span><br><span class="line"></span><br><span class="line"># step1 cat 1.txt 复制 1.txt的内容</span><br><span class="line"># step2 将1.txt的内容复制到 2.txt</span><br></pre></td></tr></table></figure>
<p>复制多个文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat 1.txt 2.txt &gt; 3.txt 将 1.txt和2.txt的内容复制到 3.txt</span><br></pre></td></tr></table></figure>
<h3 id="grep-文本搜索"><a href="#grep-文本搜索" class="headerlink" title="grep 文本搜索"></a>grep 文本搜索</h3><p>从文件中搜索内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 如1.txt的内容</span><br><span class="line">abcdefg</span><br><span class="line">Abcdefg</span><br><span class="line">------1----m</span><br><span class="line">------2----n</span><br><span class="line">------3----m</span><br><span class="line">alown</span><br><span class="line">txt</span><br><span class="line">txt</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-v显示不包含匹配文本的所有行</span><br><span class="line">-n代表匹配内容的行号</span><br><span class="line">-i 忽略大小写</span><br><span class="line"></span><br><span class="line">grep -n &apos;a&apos; 1.txt 打印所有带a的打印出来</span><br><span class="line"></span><br><span class="line">grep -n &apos;^a&apos; 1.txt 打印所有以a开头的打印出来</span><br><span class="line"></span><br><span class="line">grep -n &apos;a$&apos; 1.txt 打印所有以a结尾的打印出来</span><br></pre></td></tr></table></figure>
<h3 id="help"><a href="#help" class="headerlink" title="help"></a>help</h3><p>查看帮助文档</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls --help</span><br></pre></td></tr></table></figure>
<h3 id="man"><a href="#man" class="headerlink" title="man"></a>man</h3><p>是linux提供的手册</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">man ls</span><br></pre></td></tr></table></figure>
<h3 id="历史命令"><a href="#历史命令" class="headerlink" title="历史命令"></a>历史命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">按上键</span><br><span class="line">或者 history</span><br><span class="line">history将历史命令列举出来</span><br></pre></td></tr></table></figure>
<h3 id="find查找文件"><a href="#find查找文件" class="headerlink" title="find查找文件"></a>find查找文件</h3><p>从指定路径查找文件名(条件同样支持正则)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">find ./ -name test.sh 查找当前目录下所有名为 test.sh的文件</span><br><span class="line">find ./ -name .sh 查找当前目录下所有后缀为 .sh的文件</span><br><span class="line">find ./ -name &quot;[A-Z]&quot; 查找当前目录下所有以[A-Z]大写字母开头的文件</span><br><span class="line">find  /tmp -size 2M  查找/tmp目录下所有等于2M的文件</span><br><span class="line">find  /tmp -size +2M  查找/tmp目录下所有大于2M的文件</span><br><span class="line">find  /tmp -size -2M  查找/tmp目录下所有小于2M的文件</span><br><span class="line">find  ./ -size +4k -size -5M  查找当前目录下所有大于4k小于5m的文件</span><br><span class="line">find  ./  -perm 0777  查找当前目录下权限为777文件或目录</span><br></pre></td></tr></table></figure>
<h3 id="cp-拷贝文件-mv剪切文件"><a href="#cp-拷贝文件-mv剪切文件" class="headerlink" title="cp 拷贝文件 mv剪切文件"></a>cp 拷贝文件 mv剪切文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">cp 源文件  目标文件</span><br><span class="line"></span><br><span class="line">选项</span><br><span class="line">-v 显示进度</span><br><span class="line">-r 递归的复制</span><br><span class="line">-i 交互式复制（你确认复制吗？）</span><br><span class="line">-f 强制复制</span><br><span class="line">-a 在复制目录时使用，保留链接/文件属性并递归的复制目录，保留文件原有的属性</span><br><span class="line">(比如失效的软链接文件也会被复制)</span><br><span class="line"></span><br><span class="line">递归的赋值目录</span><br><span class="line">cp -r 源文件目录  目标文件目录</span><br><span class="line"></span><br><span class="line">cp a b</span><br><span class="line">cp a/* b</span><br><span class="line"></span><br><span class="line">mv a b</span><br><span class="line">mv a/* b</span><br></pre></td></tr></table></figure>
<h3 id="压缩和解压缩"><a href="#压缩和解压缩" class="headerlink" title="压缩和解压缩"></a>压缩和解压缩</h3><p>tar打包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-c 生成档案文件，创建打包文件</span><br><span class="line">-v 代表进度</span><br><span class="line">-f 指定档案文件名称f后面一定是.tar文件</span><br><span class="line"></span><br><span class="line">tar -cvf test.tar * 把当前路径所有东西打包到 test.tar里</span><br></pre></td></tr></table></figure>
<p>tar打包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf test.tar 把打包文件还原</span><br></pre></td></tr></table></figure>
<p>gzip 对已经打包的文件进行压缩</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">gzip test.tar </span><br><span class="line">就会产生 test.tar.gz 文件(打包压缩后的)</span><br><span class="line"></span><br><span class="line">gzip  test.tar test.tar.gz 跟上面的一样效果(麻烦)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">gzip -d test.tar.gz 解压缩  ==&gt; test.tar</span><br></pre></td></tr></table></figure>
<p>简单的方式打包压缩</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar -zcvf test.tar.gz * 把当前目录的东西 打包压缩到 test.tar.gz文件里</span><br><span class="line"></span><br><span class="line">tar -zxvf test.tar.gz  把test.tar.gz文件解压缩并且解除打包</span><br></pre></td></tr></table></figure>
<p>bzip2压缩解压</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -jcvf aa.tar.bz2 *</span><br><span class="line">tar -jxvf aa.tar.bz2</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：这几种压缩解压不能混用，即gzip压缩后只能用gzip解压缩</p>
</blockquote>
<p>zip 压缩解压</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zip  aa.tar.bz2 *</span><br><span class="line">unzip  aa.tar.bz2</span><br></pre></td></tr></table></figure>
<h3 id="which查看命令位置"><a href="#which查看命令位置" class="headerlink" title="which查看命令位置"></a>which查看命令位置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">which ls</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/06/13/Linux002难点命令/" data-id="cklhgt2ns004cq1fyed9pjuee" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Linux001基本命令" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/13/Linux001基本命令/" class="article-date">
  <time datetime="2018-06-13T13:41:57.000Z" itemprop="datePublished">2018-06-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/13/Linux001基本命令/">Linux001基本命令</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="linux的文件目录"><a href="#linux的文件目录" class="headerlink" title="linux的文件目录"></a>linux的文件目录</h3><blockquote>
<p>linux里没有盘符的概念(也就是没有windows里的cdef盘)它不分盘</p>
</blockquote>
<ul>
<li>它有一个顶层目录叫做根目录 「/」斜杠</li>
<li>它的目录像一棵树</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-|/</span><br><span class="line">-|/bin</span><br><span class="line">-|/sbin</span><br><span class="line">-|/usr</span><br><span class="line">-|/usr/bin</span><br><span class="line">-|/usr/local</span><br><span class="line">-|/usr/local/include</span><br><span class="line">-|/usr/lib</span><br><span class="line">-|/lib</span><br><span class="line">-|/...</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd / </span><br><span class="line">linux中  / 代表根目录</span><br><span class="line"></span><br><span class="line">cd ~</span><br><span class="line">linux中 ~代表用户名录</span><br></pre></td></tr></table></figure>
<blockquote>
<p>linux里常用的文件夹</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">/home 系统默认的用户家目录(也就是你可以随意操作的目录)最常用的目录</span><br><span class="line"></span><br><span class="line">/home 下的每一个文件夹代表的用户</span><br><span class="line">如 </span><br><span class="line">/home/xxx    张三目录</span><br><span class="line">/home/yyy    李四目录</span><br><span class="line"></span><br><span class="line">/home/xxx/   又会有一些文件夹 </span><br><span class="line">如 </span><br><span class="line">Desktop(桌面) </span><br><span class="line">Downloads(下载相关的)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/bin 不要随意操作(可运行命令的执行环境)</span><br><span class="line">/usr/bin 也不要随意操作(可运行命令的执行环境)</span><br><span class="line">/usr 存放用户的应用程序</span><br><span class="line">/tmp 临时性的文件(比如垃圾文件)</span><br><span class="line">/dev  和设备相关的(比如你插的U盘)</span><br></pre></td></tr></table></figure>
<h3 id="linux常用命令"><a href="#linux常用命令" class="headerlink" title="linux常用命令"></a>linux常用命令</h3><h4 id="ls-显示当前路径下的东西"><a href="#ls-显示当前路径下的东西" class="headerlink" title="ls 显示当前路径下的东西"></a>ls 显示当前路径下的东西</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">ls -l 按行显示文件及目录(不包含隐藏文件)</span><br><span class="line">ls -a 显示所有文件(包含隐藏的文件)</span><br><span class="line">ls -al 按行显示所有文件及详细信息</span><br><span class="line">ls -h 代表文件大小(多少k)</span><br><span class="line"></span><br><span class="line">-l后显示形如</span><br><span class="line">drwxr-xr-x 1 hjx hjx 197121     0 Apr  9 23:35 public</span><br><span class="line">-rw-r--r-- 1 hjx hjx 197121 76850 Mar 23 22:23 </span><br><span class="line">yarn.lock</span><br><span class="line"></span><br><span class="line">drwxr-xr-x  代表 一共十位  从第二位开始 后九个代表权限 </span><br><span class="line">-rw-r--r--  代表 一共十位  从第二位开始 后九个代表权限</span><br><span class="line"></span><br><span class="line">第一个字母代表文件</span><br><span class="line">第一个字母</span><br><span class="line">d 代表目录</span><br><span class="line">- 代表普通文件</span><br><span class="line"></span><br><span class="line">1      代表链接数</span><br><span class="line">第一个 hjx代表当前用户</span><br><span class="line">第二个 hjx代表用户组</span><br></pre></td></tr></table></figure>
<blockquote>
<p>查看 Desktop目录里的东西</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 大前提是你在 Desktop的父目录</span><br><span class="line">ls Desktop</span><br></pre></td></tr></table></figure>
<blockquote>
<p>区分绝对路径和相对路径</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">绝对路径 cd /home/aaa</span><br><span class="line">相对路径 cd Desktop    </span><br><span class="line"></span><br><span class="line">. 表示当前路径</span><br><span class="line">.. 表示当前路径的上一层</span><br><span class="line">../.. 表示当前路径的上一层的上一层</span><br><span class="line">cd ..</span><br><span class="line"></span><br><span class="line">cd - 跳转到上一次所在的路径(只在最近两次的目录直接进行直接跳转)</span><br><span class="line"></span><br><span class="line">cd Music 等价于  cd ./Music</span><br></pre></td></tr></table></figure>
<h4 id="cd-切换目录"><a href="#cd-切换目录" class="headerlink" title="cd 切换目录"></a>cd 切换目录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd 「跳转的目录」</span><br><span class="line">cd ~ 切换到当前用户目录</span><br><span class="line">cd / 切换到根目录</span><br><span class="line">cd .. 回到上一级目录(父目录)</span><br></pre></td></tr></table></figure>
<h4 id="pwd-显示当前路径-从头到尾"><a href="#pwd-显示当前路径-从头到尾" class="headerlink" title="pwd 显示当前路径(从头到尾)"></a>pwd 显示当前路径(从头到尾)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pwd 当前目录的绝对路径从头到尾</span><br></pre></td></tr></table></figure>
<h4 id="clear-清屏"><a href="#clear-清屏" class="headerlink" title="clear 清屏"></a>clear 清屏</h4><h4 id="tab自动补全"><a href="#tab自动补全" class="headerlink" title="tab自动补全"></a>tab自动补全</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 比如你在你的用户目录   里面有 Desktop 和 Downloads</span><br><span class="line"></span><br><span class="line">cd D 按tab 不会进行自动补全(因为存在两个开头一样的D目录)</span><br><span class="line"></span><br><span class="line">cd De 按 tab 就能自动补全</span><br></pre></td></tr></table></figure>
<h4 id="touch创建文件"><a href="#touch创建文件" class="headerlink" title="touch创建文件"></a>touch创建文件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch 1.txt</span><br></pre></td></tr></table></figure>
<h4 id="正则相关的操作"><a href="#正则相关的操作" class="headerlink" title="正则相关的操作"></a>正则相关的操作</h4><blockquote>
<p>问题1 显示当前路径下所有的 .txt文件</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls *.txt</span><br></pre></td></tr></table></figure>
<blockquote>
<p>问题2 显示当前目录下有.txt .tnt .tst</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls *.t?t</span><br></pre></td></tr></table></figure>
<blockquote>
<p>问题3 显示 当前目录下的 .txt .tnt文件</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls *.t[nx]t</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">? 代表一个字符有且仅有,不能没有</span><br><span class="line">[xn] 代表括号里任意一个字符</span><br><span class="line">[abcdef] 可以写为 [a-f] 表示a到f的任意字符</span><br><span class="line"></span><br><span class="line">如果有以下文件恰好叫 1a 2a 3a *a</span><br><span class="line">ls *a就会有歧义  会显示  1a 2a 3a *a</span><br><span class="line">ls \*a 转义  会显示 *a</span><br></pre></td></tr></table></figure>
<h4 id="重定向-gt"><a href="#重定向-gt" class="headerlink" title="重定向 &gt;"></a>重定向 &gt;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ls &gt; 1.txt  文件不存在就创建，清空1.txt的内容 把ls显示的内容填充到1.txt里</span><br><span class="line"></span><br><span class="line">ls &gt;&gt; 1.txt 文件不存在就创建，不清空1.txt的内容 把ls的内容追加到1.txt</span><br></pre></td></tr></table></figure>
<h4 id="分屏-more"><a href="#分屏-more" class="headerlink" title="分屏 more"></a>分屏 more</h4><p>用命令查看文件的内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">more 1.txt  如果文件内容超过一屏显示  就按当前内容所占比例显示在下方   按空格进行查看其余内容</span><br></pre></td></tr></table></figure>
<h4 id="管道"><a href="#管道" class="headerlink" title="管道 |"></a>管道 |</h4><p>一行里写多个命令通常不好使此时就需要使用管道了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -alh | more</span><br></pre></td></tr></table></figure>
<h4 id="mkdir创建目录"><a href="#mkdir创建目录" class="headerlink" title="mkdir创建目录"></a>mkdir创建目录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 当前目录创建一个demo文件夹</span><br><span class="line">mkdir demo </span><br><span class="line"></span><br><span class="line"># 当前目录创建 a/b/c 嵌套目录的文件夹  需要添加 -p</span><br><span class="line">mkdir -p a/b/c</span><br></pre></td></tr></table></figure>
<h4 id="tree-以目录树的方式显示目录结构"><a href="#tree-以目录树的方式显示目录结构" class="headerlink" title="tree 以目录树的方式显示目录结构"></a>tree 以目录树的方式显示目录结构</h4><h4 id="rmdir删除目录"><a href="#rmdir删除目录" class="headerlink" title="rmdir删除目录"></a>rmdir删除目录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rmdir demo</span><br><span class="line"></span><br><span class="line"># 无法删除嵌套目录 如 demo/a/b</span><br></pre></td></tr></table></figure>
<h4 id="rm-删除文件-慎用"><a href="#rm-删除文件-慎用" class="headerlink" title="rm 删除文件(慎用)"></a>rm 删除文件(慎用)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">rm / 千万不要用,你就完蛋了从根目录开始删</span><br><span class="line">rm / 千万不要用,你就完蛋了从根目录开始删</span><br><span class="line">rm / 千万不要用,你就完蛋了从根目录开始删</span><br><span class="line"></span><br><span class="line">rm 文件名</span><br><span class="line">rm -f 强制删除,也就是不提示(你确认删除吗？)</span><br><span class="line">rm -r 目录 递归的删除目录(每删除一个文件问你一次 你确认删除吗？)</span><br><span class="line">rm -rf 递归的删除目录(没有任何提示)</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/06/13/Linux001基本命令/" data-id="cklhgt2nr0049q1fyb32xlo0m" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Vue_221_iview引入问题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/06/Vue_221_iview引入问题/" class="article-date">
  <time datetime="2018-06-06T08:35:42.000Z" itemprop="datePublished">2018-06-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/06/Vue_221_iview引入问题/">iview引入问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<h4 id="本文针对vue-cli-2-9-3版本"><a href="#本文针对vue-cli-2-9-3版本" class="headerlink" title="本文针对vue-cli@2.9.3版本"></a>本文针对<a href="mailto:vue-cli@2.9.3" target="_blank" rel="noopener">vue-cli@2.9.3</a>版本</h4></blockquote>
<blockquote>
<p>我使用的iview版本为2.14.1</p>
</blockquote>
<h3 id="引入iview触发的问题"><a href="#引入iview触发的问题" class="headerlink" title="引入iview触发的问题"></a>引入iview触发的问题</h3><h4 id="本地运行正常，打包后报错提示没有某个字体文件"><a href="#本地运行正常，打包后报错提示没有某个字体文件" class="headerlink" title="本地运行正常，打包后报错提示没有某个字体文件"></a>本地运行正常，打包后报错提示没有某个字体文件</h4><p>webpack.prod.conf.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">module: &#123;</span><br><span class="line">    rules: utils.styleLoaders(&#123;</span><br><span class="line">        sourceMap: config.build.productionSourceMap,</span><br><span class="line">        extract: false</span><br><span class="line">        // extract: true</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//里边的 extract改为false,默认是true</span><br></pre></td></tr></table></figure>
<p><a href="https://github.com/iview/iview/issues/515" target="_blank" rel="noopener">详情请参考issues</a></p>
<h4 id="iview全局引入后，打包体积过大"><a href="#iview全局引入后，打包体积过大" class="headerlink" title="iview全局引入后，打包体积过大"></a>iview全局引入后，打包体积过大</h4><blockquote>
<p>我说的是vendor.js(打包后的1M)</p>
</blockquote>
<h5 id="然后依照官网的api进行按需引用的改造"><a href="#然后依照官网的api进行按需引用的改造" class="headerlink" title="然后依照官网的api进行按需引用的改造"></a>然后依照官网的api进行按需引用的改造</h5><p>借助插件 babel-plugin-import可以实现按需加载组件，减少文件体积。首先安装，并在文件 .babelrc 中配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">npm install babel-plugin-import --save-dev</span><br><span class="line"></span><br><span class="line">// .babelrc</span><br><span class="line">&#123;</span><br><span class="line">  &quot;plugins&quot;: [[&quot;import&quot;, &#123;</span><br><span class="line">    &quot;libraryName&quot;: &quot;iview&quot;,</span><br><span class="line">    &quot;libraryDirectory&quot;: &quot;src/components&quot;</span><br><span class="line">  &#125;]]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后这样按需引入组件，就可以减小体积了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import &#123; Button, Table &#125; from &apos;iview&apos;;</span><br><span class="line">Vue.component(&apos;Button&apos;, Button);</span><br><span class="line">Vue.component(&apos;Table&apos;, Table);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>但是这样会报UglifyJs的错误，因为截止2018年6月6日为止，iview里的内容使用了es6语法，然而uglifyJs是不支持的！</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UglifyJs do not support ES6+, you can also use babel-minify for better treeshaking: https://github.com/babel/minify</span><br></pre></td></tr></table></figure>
<p>于是我就又各种搜索报错终于找到答案</p>
<p><a href="https://blog.csdn.net/nongweiyilady/article/details/78893504" target="_blank" rel="noopener">原文链接</a></p>
<blockquote>
<h4 id="解决方案-参考以上链接"><a href="#解决方案-参考以上链接" class="headerlink" title="解决方案(参考以上链接)"></a>解决方案(参考以上链接)</h4></blockquote>
<ol>
<li>在webpack.base.conf.js中，我们先在js编译的时候添加如下：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: /\.js$/,</span><br><span class="line">    loader: &apos;babel-loader&apos;,</span><br><span class="line">    include: [resolve(&apos;src&apos;),</span><br><span class="line">    resolve(&apos;test&apos;),resolve(&apos;/node_modules/iview/src&apos;),resolve(&apos;/node_modules/iview/packages&apos;)]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>先让iview的es6语法经过babel来转换，然后在build/webpack.prod.conf.js中，注释掉原来的uglifyJs，引入外部的uglifyJs对js进行压缩混淆，代码如下：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">//改动 你需要下载依赖 </span><br><span class="line">const UglifyJsPlugin = require(&apos;uglifyjs-webpack-plugin&apos;);</span><br><span class="line"></span><br><span class="line">// 注释掉原来的 UglifyJs 因为 它不支持ES6</span><br><span class="line">// new webpack.optimize.UglifyJsPlugin(&#123;</span><br><span class="line">//   compress: &#123;</span><br><span class="line">//     warnings: false</span><br><span class="line">//   &#125;,</span><br><span class="line">//   sourceMap: true</span><br><span class="line">// &#125;),</span><br><span class="line">new UglifyJsPlugin(&#123;</span><br><span class="line">    // 使用外部引入的新版本的js压缩工具</span><br><span class="line">    parallel: true,</span><br><span class="line">    sourceMap: true,</span><br><span class="line">    uglifyOptions: &#123;</span><br><span class="line">    ie8: false,</span><br><span class="line">    ecma: 6,</span><br><span class="line">    warnings: false,</span><br><span class="line">    mangle: true,</span><br><span class="line">    // debug false</span><br><span class="line">    output: &#123;</span><br><span class="line">        comments: false,</span><br><span class="line">        beautify: false,</span><br><span class="line">        // debug true</span><br><span class="line">    &#125;,</span><br><span class="line">    compress: &#123;</span><br><span class="line">        // 在UglifyJs删除没有用到的代码时不输出警告</span><br><span class="line">        warnings: false,</span><br><span class="line">        // 删除所有的 `console` 语句</span><br><span class="line">        // 还可以兼容ie浏览器</span><br><span class="line">        drop_console: true,</span><br><span class="line">        // 内嵌定义了但是只用到一次的变量</span><br><span class="line">        collapse_vars: true,</span><br><span class="line">        // 提取出出现多次但是没有定义成变量去引用的静态值</span><br><span class="line">        reduce_vars:true</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;),</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>不要忘了安装依赖</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install uglifyjs-webpack-plugin --save-dev</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>详情配置请参考官网</li>
</ol>
<p><a href="http://www.css88.com/doc/webpack/plugins/uglifyjs-webpack-plugin/" target="_blank" rel="noopener">uglifyjs-webpack-plugin</a></p>
<blockquote>
<h5 id="经历如上步骤后，我的vendor-js打包后体积为-300K-我只用了iview-的-DatePicker"><a href="#经历如上步骤后，我的vendor-js打包后体积为-300K-我只用了iview-的-DatePicker" class="headerlink" title="经历如上步骤后，我的vendor.js打包后体积为 300K(我只用了iview 的 DatePicker)"></a>经历如上步骤后，我的vendor.js打包后体积为 300K(我只用了iview 的 DatePicker)</h5><h5 id="但是iview即使按需引入css还是挺大的大约300K还需要在-main-js里引入-依然很大。。。。。。"><a href="#但是iview即使按需引入css还是挺大的大约300K还需要在-main-js里引入-依然很大。。。。。。" class="headerlink" title="但是iview即使按需引入css还是挺大的大约300K还需要在 main.js里引入 依然很大。。。。。。"></a>但是iview即使按需引入css还是挺大的大约300K还需要在 main.js里引入 依然很大。。。。。。</h5></blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/06/06/Vue_221_iview引入问题/" data-id="cklhgt2xc00s1q1fyk2919bs6" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/">vue</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Vue_202_vue多页面复用模块路径配置" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/05/22/Vue_202_vue多页面复用模块路径配置/" class="article-date">
  <time datetime="2018-05-22T08:17:20.000Z" itemprop="datePublished">2018-05-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/22/Vue_202_vue多页面复用模块路径配置/">vue多页面配置问题汇总</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<h4 id="注意：本项目基于vue-cli-2-9-3"><a href="#注意：本项目基于vue-cli-2-9-3" class="headerlink" title="注意：本项目基于vue-cli 2.9.3"></a>注意：本项目基于vue-cli 2.9.3</h4></blockquote>
<h3 id="基于上一篇vue多页面的配置方式"><a href="#基于上一篇vue多页面的配置方式" class="headerlink" title="基于上一篇vue多页面的配置方式"></a>基于上一篇vue多页面的配置方式</h3><h4 id="很多时候我们需要引用同一模块"><a href="#很多时候我们需要引用同一模块" class="headerlink" title="很多时候我们需要引用同一模块"></a>很多时候我们需要引用同一模块</h4><blockquote>
<p>当你定义api接口的时候,或者加载去除默认样式的reset.css文件</p>
</blockquote>
<blockquote>
<p>我们应把复用的模块放在同一目录下,如图我这里把复用的文件放在「modules」里</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/img/vuenote_202_01.png" alt></p>
<p>找到webpack.base.conf.js文件,添加如下代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">    extensions: [&apos;.js&apos;, &apos;.vue&apos;, &apos;.json&apos;],</span><br><span class="line">    alias: &#123;</span><br><span class="line">      &apos;vue$&apos;: &apos;vue/dist/vue.esm.js&apos;,</span><br><span class="line">      &apos;@&apos;: resolve(&apos;src&apos;),</span><br><span class="line">      // 公共文件路径加载</span><br><span class="line">      &apos;css&apos;:&apos;@/modules/css&apos;,</span><br><span class="line">      &apos;js&apos;:&apos;@/modules/js&apos;,</span><br><span class="line">      &apos;components&apos;:&apos;@/components&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当你的页面里需要使用该模块的时候就可以像这样引入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import &apos;css/reset.css&apos;;</span><br><span class="line">import &apos;js/flexible.js&apos;;</span><br></pre></td></tr></table></figure>
<h4 id="引入淘宝移动端适配方案后flexible-js-与引入-mint-ui的冲突"><a href="#引入淘宝移动端适配方案后flexible-js-与引入-mint-ui的冲突" class="headerlink" title="引入淘宝移动端适配方案后flexible.js 与引入 mint-ui的冲突"></a>引入淘宝移动端适配方案后flexible.js 与引入 mint-ui的冲突</h4><blockquote>
<p>当你做了移动端适配后，也就是配置了postcss-px2rem后,引入mint-ui框架会把UI框架里组件像素单位「px」转为「rem」</p>
</blockquote>
<p>我使用的是postcss依赖  所以.postcssrc.js配置如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  &quot;plugins&quot;: &#123;</span><br><span class="line">    // to edit target browsers: use &quot;browserslist&quot; field in package.json</span><br><span class="line">    &quot;autoprefixer&quot;: &#123;&#125;,</span><br><span class="line">    &quot;postcss-px2rem&quot;: &#123;</span><br><span class="line">       remUnit: 75</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>移动端如果使用阿里的flexible适配方案，现有的移动端UI库大部分都不适用了，移动端的UI库默认的initial-scale=1，在高清屏上flexible会调整initial-scale=1/dpr，UI的样式被整体缩小了</p>
</blockquote>
<blockquote>
<h5 id="这样就导致UI变形"><a href="#这样就导致UI变形" class="headerlink" title="这样就导致UI变形"></a>这样就导致UI变形</h5></blockquote>
<ul>
<li><h5 id="解决方式一：就是你要用样式覆盖-这样就更恶心了"><a href="#解决方式一：就是你要用样式覆盖-这样就更恶心了" class="headerlink" title="解决方式一：就是你要用样式覆盖,这样就更恶心了"></a>解决方式一：就是你要用样式覆盖,这样就更恶心了</h5></li>
<li><h5 id="解决方式二：依然使用flexible适配方案，但是不使用px2rem"><a href="#解决方式二：依然使用flexible适配方案，但是不使用px2rem" class="headerlink" title="解决方式二：依然使用flexible适配方案，但是不使用px2rem"></a>解决方式二：依然使用flexible适配方案，但是不使用px2rem</h5></li>
</ul>
<blockquote>
<p>注掉使用postcss-px2rem的功能，采用手写rem的方式，这样引入的ui组件样式就不会变小</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  &quot;plugins&quot;: &#123;</span><br><span class="line">    // to edit target browsers: use &quot;browserslist&quot; field in package.json</span><br><span class="line">    &quot;autoprefixer&quot;: &#123;&#125;,</span><br><span class="line">    //&quot;postcss-px2rem&quot;: &#123;</span><br><span class="line">    //   remUnit: 75</span><br><span class="line">    //&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="手写rem问题来了，又回到原始的方式了"><a href="#手写rem问题来了，又回到原始的方式了" class="headerlink" title="手写rem问题来了，又回到原始的方式了"></a>手写rem问题来了，又回到原始的方式了</h4><p>我们可以使用强大的IDE插件来帮我们解决问题</p>
<blockquote>
<p>我用的是VScode，设计稿750px,如果每个需要适配的单位都去计算rem是很麻烦的，推荐px to rem这个插件，然后将16设置为75（设计稿为750px）</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/img/vuenote_202_02.png" alt></p>
<p>这个时候我们直接写px，选中后alt+z就直接转换为rem了</p>
<ul>
<li>先选中如下文本 「16px」</li>
<li>再按住「alt」</li>
<li>最后按「z」</li>
</ul>
<h4 id="npm-run-build问题"><a href="#npm-run-build问题" class="headerlink" title="npm run build问题"></a>npm run build问题</h4><blockquote>
<p>打包之后的文件为绝对路径,需在服务环境下才能打开</p>
</blockquote>
<p>不方便我们本地调试，我们需要相对路径</p>
<ol>
<li>打开config文件夹下的index.js文件</li>
<li>修改build中assetsPublicPath为’’（原本为’/‘）</li>
</ol>
<h4 id="静态资源路径问题"><a href="#静态资源路径问题" class="headerlink" title="静态资源路径问题"></a>静态资源路径问题</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-|src</span><br><span class="line">-|static</span><br><span class="line">---|img</span><br><span class="line">------|aa.png</span><br></pre></td></tr></table></figure>
<blockquote>
<h5 id="在html或者css里请这样书写，打包后这个路径也是对的"><a href="#在html或者css里请这样书写，打包后这个路径也是对的" class="headerlink" title="在html或者css里请这样书写，打包后这个路径也是对的"></a>在html或者css里请这样书写，打包后这个路径也是对的</h5></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;static/img/aa.png&quot;&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意这样是错的</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">../../static/img/aa.png</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/05/22/Vue_202_vue多页面复用模块路径配置/" data-id="cklhgt2xa00rwq1fyj6brex73" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/">vue</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-WEB_001_性能优化_DNS预解析" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/05/17/WEB_001_性能优化_DNS预解析/" class="article-date">
  <time datetime="2018-05-17T15:11:34.000Z" itemprop="datePublished">2018-05-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/17/WEB_001_性能优化_DNS预解析/">web性能优化之DNS预解析</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="DNS预解析"><a href="#DNS预解析" class="headerlink" title="DNS预解析"></a>DNS预解析</h3><blockquote>
<p>去参考淘宝的移动端页面你可能会看到这样一段代码</p>
</blockquote>
<p>请自行选择</p>
<p><a href="https://h5.m.taobao.com" target="_blank" rel="noopener">淘宝</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;title&gt;淘宝网触屏版&lt;/title&gt;</span><br><span class="line">&lt;meta name=data-spm content=a215s&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//g.alicdn.com&quot;&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//gw.alicdn.com&quot;&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//log.mmstat.com&quot;&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//api.m.taobao.com&quot;&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//cdn.tanx.com&quot;&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//ecpm.tanx.com&quot;&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>淘宝页面有很多的图片资源</li>
</ul>
<blockquote>
<p>预解析就是指「加载后面图片的时候，不会对域名再次进行解析了(因为已经解析过了)」</p>
</blockquote>
<p>作用</p>
<ul>
<li>加快后面图片的解析时间</li>
</ul>
<h3 id="待更新"><a href="#待更新" class="headerlink" title="待更新"></a>待更新</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/05/17/WEB_001_性能优化_DNS预解析/" data-id="cklhgt2xf00s6q1fyqoe6oc24" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web性能优化/">web性能优化</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Vue_201_vue多页面配置方式" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/05/17/Vue_201_vue多页面配置方式/" class="article-date">
  <time datetime="2018-05-17T14:09:33.000Z" itemprop="datePublished">2018-05-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/17/Vue_201_vue多页面配置方式/">vue多页面配置方式</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<h3 id="注意本文使用的vue-cli是2-9-3"><a href="#注意本文使用的vue-cli是2-9-3" class="headerlink" title="注意本文使用的vue-cli是2.9.3"></a>注意本文使用的vue-cli是2.9.3</h3></blockquote>
<h3 id="vue多页面配置调整方式"><a href="#vue多页面配置调整方式" class="headerlink" title="vue多页面配置调整方式"></a>vue多页面配置调整方式</h3><ol>
<li>全局安装vue-cli</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-cli@2.9.3 -g</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>生成模板，我使用的模板是webpack</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue init webpack xxx</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>安装过程中的询问</li>
</ol>
<ul>
<li>是否安装vue-router(安装方便我们多页面里路由再次进行跳转)</li>
<li>是否安装eslint (这个配置比较繁琐这次不安装)</li>
<li>后面几个模块先不进行安装(这次的目标是多页面配置。。。。)</li>
</ul>
<blockquote>
<p>初始化后会有提示如何进行运行</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/img/vuenote_201_01.png" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 依照我们的项目，你应该</span><br><span class="line">cd xxx        //切换到生成的模板目录</span><br><span class="line">npm install   //安装依赖</span><br><span class="line">npm run dev   //如果出现经典的vue logo说明你初始化成功</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>多页面的目录结构调整</li>
</ol>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/img/vuenote_201_02.png" alt></p>
<ul>
<li>在开发路径src下增加modules和pages文件夹，分别存放模块和页面</li>
<li>页面的所有文件都放到同一文件夹下就近管理：</li>
<li>如上选中文件都移到index文件夹下，并把main.js改为index.js,保证页面的入口js文件和模板文件的名称一致<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">index.html(页面模板)</span><br><span class="line">main.js(页面入口文件)</span><br><span class="line">App.vue(页面使用的组件，公用组件放到components文件夹下)router(页面的路由配置)</span><br><span class="line">assets(页面的静态资源)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ol start="5">
<li>添加共同方法</li>
</ol>
<ul>
<li>在build/utils.js中添加两个方法：webpack多入口文件和多页面输出</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">var glob = require(&apos;glob&apos;)</span><br><span class="line">var HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)</span><br><span class="line">var PAGE_PATH = path.resolve(__dirname, &apos;../src/pages&apos;)</span><br><span class="line">var merge = require(&apos;webpack-merge&apos;)</span><br><span class="line"></span><br><span class="line">//多入口配置</span><br><span class="line">exports.entries = function() &#123;</span><br><span class="line">  var entryFiles = glob.sync(PAGE_PATH + &apos;/*/*.js&apos;)</span><br><span class="line">  var map = &#123;&#125;</span><br><span class="line">  entryFiles.forEach((filePath) =&gt; &#123;</span><br><span class="line">    var filename = filePath.substring(filePath.lastIndexOf(&apos;\/&apos;) + 1, filePath.lastIndexOf(&apos;.&apos;))</span><br><span class="line">    map[filename] = filePath</span><br><span class="line">  &#125;)</span><br><span class="line">  return map</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//多页面输出配置</span><br><span class="line">exports.htmlPlugin = function() &#123;</span><br><span class="line">  let entryHtml = glob.sync(PAGE_PATH + &apos;/*/*.html&apos;)</span><br><span class="line">  let arr = []</span><br><span class="line">  entryHtml.forEach((filePath) =&gt; &#123;</span><br><span class="line">    let filename = filePath.substring(filePath.lastIndexOf(&apos;\/&apos;) + 1, filePath.lastIndexOf(&apos;.&apos;))</span><br><span class="line">    let conf = &#123;</span><br><span class="line">      template: filePath,</span><br><span class="line">      filename: filename + &apos;.html&apos;,</span><br><span class="line">      chunks: [filename],</span><br><span class="line">      inject: true</span><br><span class="line">    &#125;</span><br><span class="line">    if (process.env.NODE_ENV === &apos;production&apos;) &#123;</span><br><span class="line">      conf = merge(conf, &#123;</span><br><span class="line">        chunks: [&apos;manifest&apos;, &apos;vendor&apos;, filename],</span><br><span class="line">        minify: &#123;</span><br><span class="line">          removeComments: true,</span><br><span class="line">          collapseWhitespace: true,</span><br><span class="line">          removeAttributeQuotes: true</span><br><span class="line">        &#125;,</span><br><span class="line">        chunksSortMode: &apos;dependency&apos;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    arr.push(new HtmlWebpackPlugin(conf))</span><br><span class="line">  &#125;)</span><br><span class="line">  return arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="6">
<li>修改配置</li>
</ol>
<p>1) 修改build/webpack.base.conf.js的入口配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 替换默认的单页面入口</span><br><span class="line">// entry: &#123;</span><br><span class="line">//   app: &apos;./src/main.js&apos;</span><br><span class="line">// &#125;</span><br><span class="line">entry: utils.entries()</span><br></pre></td></tr></table></figure>
<p>2)修改build/webpack.dev.conf.js和build/webpack.prod.conf.js的多页面配置：</p>
<blockquote>
<p>把原有的页面模板配置注释或删除，并把多页面配置添加到plugins</p>
</blockquote>
<p>webpack.dev.conf.js：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">plugins: [</span><br><span class="line">    ......</span><br><span class="line">    //  new HtmlWebpackPlugin(&#123;</span><br><span class="line">    //    filename: &apos;index.html&apos;,</span><br><span class="line">    //    template: &apos;index.html&apos;,</span><br><span class="line">    //    inject: true</span><br><span class="line">    //  &#125;),</span><br><span class="line">    ......</span><br><span class="line">  ].concat(utils.htmlPlugin())</span><br></pre></td></tr></table></figure>
<p>webpack.prod.conf.js：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">plugins: [</span><br><span class="line">    ......</span><br><span class="line">    // new HtmlWebpackPlugin(&#123;</span><br><span class="line">    //   filename: config.build.index,</span><br><span class="line">    //   template: &apos;index.html&apos;,</span><br><span class="line">    //   inject: true,</span><br><span class="line">    //   minify: &#123;</span><br><span class="line">    //     removeComments: true,</span><br><span class="line">    //     collapseWhitespace: true,</span><br><span class="line">    //     removeAttributeQuotes: true</span><br><span class="line">    //   &#125;,</span><br><span class="line">    //   chunksSortMode: &apos;dependency&apos;</span><br><span class="line">    // &#125;),</span><br><span class="line">    ......</span><br><span class="line">  ].concat(utils.htmlPlugin())</span><br></pre></td></tr></table></figure>
<ol start="7">
<li>在pages目录里创建cart目录</li>
</ol>
<ul>
<li>新建cart.html</li>
<li>新建cart.js</li>
</ul>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/img/vuenote_201_03.png" alt></p>
<ol start="8">
<li>终于你可以试试多页面是否成功了</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run dev</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/img/vuenote_201_04.png" alt></p>
<h3 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h3><blockquote>
<p>在上面多页面输出配置utils.js中有这样一行代码：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chunks: [&apos;manifest&apos;, &apos;vendor&apos;, filename]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这是<a href="https://github.com/jantimon/html-webpack-plugin" target="_blank" rel="noopener">html-webpack-plugin</a>插件对页面入口文件(即js文件)的限定，如果不设置则会把整个项目下的所有入口文件全部引入</p>
</blockquote>
<ul>
<li>为什么要引入’manifest’和’vendor’</li>
</ul>
<p>在build/webpack.prod.conf.js中有如下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// split vendor js into its own file</span><br><span class="line">new webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">    name: &apos;vendor&apos;,</span><br><span class="line">    minChunks: function (module, count) &#123;</span><br><span class="line">    // any required modules inside node_modules are extracted to vendor</span><br><span class="line">    return (</span><br><span class="line">        module.resource &amp;&amp;</span><br><span class="line">        /\.js$/.test(module.resource) &amp;&amp;</span><br><span class="line">        module.resource.indexOf(</span><br><span class="line">        path.join(__dirname, &apos;../node_modules&apos;)</span><br><span class="line">        ) === 0</span><br><span class="line">    )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;),</span><br><span class="line">// extract webpack runtime and module manifest to its own file in order to</span><br><span class="line">// prevent vendor hash from being updated whenever app bundle is updated</span><br><span class="line">new webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">    name: &apos;manifest&apos;,</span><br><span class="line">    chunks: [&apos;vendor&apos;]</span><br><span class="line">&#125;),</span><br></pre></td></tr></table></figure>
<ul>
<li>vendor模块是指提取涉及node_modules中的公共模块</li>
<li>manifest模块是对vendor模块做的缓存</li>
</ul>
<p>关于CommonsChunkPlugin插件的详细说明请阅读<a href="https://webpack.js.org/plugins/commons-chunk-plugin/" target="_blank" rel="noopener">官方文档</a></p>
<p>关于html-webpack-plugin插件的配置还有一行代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chunksSortMode: &apos;dependency&apos;</span><br></pre></td></tr></table></figure>
<p>插件会按照模块的依赖关系依次加载，即：manifest，vendor，本页面入口，其他页面入口…</p>
<p>至此，多页面应用已经搭建完毕，只需要在pages文件夹创建相应的页面文件即可。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/05/17/Vue_201_vue多页面配置方式/" data-id="cklhgt2x900rtq1fysv8l2hw9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/">vue</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-MONGODB_007_Schema和Model" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/05/10/MONGODB_007_Schema和Model/" class="article-date">
  <time datetime="2018-05-10T15:17:24.000Z" itemprop="datePublished">2018-05-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/05/10/MONGODB_007_Schema和Model/">Schema和Model</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<h4 id="我使用的mongodb是-4-11-4"><a href="#我使用的mongodb是-4-11-4" class="headerlink" title="我使用的mongodb是 4.11.4"></a>我使用的mongodb是 4.11.4</h4></blockquote>
<h3 id="Schema"><a href="#Schema" class="headerlink" title="Schema"></a>Schema</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">const mongoose = require(&apos;mongoose&apos;);</span><br><span class="line">const uri = &apos;mongodb://localhost/test&apos;;</span><br><span class="line">mongoose.connect(uri);</span><br><span class="line">const db = mongoose.connection;</span><br><span class="line"></span><br><span class="line">const Schema = mongoose.Schema;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 创建Schema模式对象 </span><br><span class="line">const UserSchema = new Schema(&#123;</span><br><span class="line">    name:String,</span><br><span class="line">    age:Number</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">1.通过Schema创建Model</span><br><span class="line">    Model代表 数据库中的集合collections</span><br><span class="line">    mongodb命令行里使用要加s  如 db.users.find()</span><br><span class="line">2. mongoose.model(集合名称,模型对象)</span><br><span class="line">*/</span><br><span class="line">const UserModel = mongoose.model(&apos;user&apos;,UserSchema);</span><br><span class="line"></span><br><span class="line">db.on(&apos;open&apos;,()=&gt;&#123;console.log(&apos;db open &apos;)&#125;) </span><br><span class="line">db.on(&apos;error&apos;,(err,res)=&gt;&#123;console.log(&apos;db error&apos;)&#125;) </span><br><span class="line">db.on(&apos;close&apos;,(err,res)=&gt;&#123;console.log(&apos;db close&apos;)&#125;)</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="运行如上代码数据库连接成功后-mongodb中并不会立刻创建-collection-需要向数据库中插入文档才会创建"><a href="#运行如上代码数据库连接成功后-mongodb中并不会立刻创建-collection-需要向数据库中插入文档才会创建" class="headerlink" title="运行如上代码数据库连接成功后  mongodb中并不会立刻创建 collection,需要向数据库中插入文档才会创建"></a>运行如上代码数据库连接成功后  mongodb中并不会立刻创建 collection,需要向数据库中插入文档才会创建</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">UserModel.create(&#123;</span><br><span class="line">        name:&apos;hjx&apos;,</span><br><span class="line">        age:18</span><br><span class="line">    &#125;,function(err)&#123;</span><br><span class="line">        if(!err)&#123;</span><br><span class="line">            console.log(&quot;创建成功&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>
<h4 id="Schema模型对象的规则约束"><a href="#Schema模型对象的规则约束" class="headerlink" title="Schema模型对象的规则约束"></a>Schema模型对象的规则约束</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">const UserSchema =Schema(&#123;</span><br><span class="line">    // type:类型</span><br><span class="line">    // require 是否必须</span><br><span class="line">    // unique 在mongodb里创建索引   类似mysql唯一主键</span><br><span class="line">    // enum:[&apos;aa&apos;,&apos;bb&apos;]  指定他的值必须是什么</span><br><span class="line">    name:&#123;type:String,require:true,unique:true,enum:[&apos;hjx&apos;,&apos;lisi&apos;]&#125;,</span><br><span class="line">    // 最简单写法</span><br><span class="line">    // age:Number</span><br><span class="line">    // 数字复杂的校验 </span><br><span class="line">    // max 最大值</span><br><span class="line">    // min 最小值  如果是数组   第一个值是最小范围  第二个值是报错信息</span><br><span class="line">    age:&#123;type:Number,max:90,min:[18,&apos;不能小于18岁&apos;]&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h3><blockquote>
<h4 id="把全局的Pormise挂载到-mongoose-Promise上"><a href="#把全局的Pormise挂载到-mongoose-Promise上" class="headerlink" title="把全局的Pormise挂载到 mongoose.Promise上"></a>把全局的Pormise挂载到 mongoose.Promise上</h4></blockquote>
<blockquote>
<h4 id="使用-async、await解决异步问题"><a href="#使用-async、await解决异步问题" class="headerlink" title="使用 async、await解决异步问题"></a>使用 async、await解决异步问题</h4></blockquote>
<h4 id="增"><a href="#增" class="headerlink" title="增"></a>增</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">const mongoose = require(&apos;mongoose&apos;);</span><br><span class="line">const uri = &apos;mongodb://localhost/test&apos;;</span><br><span class="line">mongoose.connect(uri);</span><br><span class="line">const db = mongoose.connection;</span><br><span class="line">const Schema = mongoose.Schema;</span><br><span class="line"></span><br><span class="line">mongoose.Promise = global.Promise;</span><br><span class="line"></span><br><span class="line">// 表单对象</span><br><span class="line">const UserSchema =new Schema(&#123;</span><br><span class="line">    name:String,</span><br><span class="line">    age:Number</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">const UserModel = mongoose.model(&apos;user&apos;,UserSchema);</span><br><span class="line"></span><br><span class="line">(async()=&gt;&#123;</span><br><span class="line">    let created = await UserModel.create(&#123;</span><br><span class="line">        name:&apos;hjx&apos;,</span><br><span class="line">        age:18</span><br><span class="line">    &#125;).then()</span><br><span class="line">    return created;</span><br><span class="line">&#125;)().then(r=&gt;&#123;</span><br><span class="line">    console.log(r)</span><br><span class="line">&#125;).catch(e=&gt;&#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">db.on(&apos;open&apos;,()=&gt;&#123;console.log(&apos;db open &apos;)&#125;) </span><br><span class="line">db.on(&apos;error&apos;,(err,res)=&gt;&#123;console.log(&apos;db error&apos;)&#125;) </span><br><span class="line">db.on(&apos;close&apos;,(err,res)=&gt;&#123;console.log(&apos;db close&apos;)&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="实例方法"><a href="#实例方法" class="headerlink" title="实例方法"></a>实例方法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">const UserSchema = new Schema(&#123;</span><br><span class="line">    name:String,</span><br><span class="line">    age:Number</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">const UserModel = mongoose.model(&apos;user&apos;,UserSchema);</span><br><span class="line">// 实例方法</span><br><span class="line">UserSchema.methods.sayYourName = function()&#123;</span><br><span class="line">    return this.name;</span><br><span class="line">&#125;</span><br><span class="line">// 静态方法</span><br><span class="line">UserSchema.statics.findByName = async function(name)&#123;</span><br><span class="line">    return await this.findOne(&#123;name:name&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 具体的表   命令行里使用要加s  如   db.users.find()</span><br><span class="line">const UserModel = mongoose.model(&apos;user&apos;,UserSchema);</span><br><span class="line"></span><br><span class="line">// 实例方法</span><br><span class="line">(async()=&gt;&#123;</span><br><span class="line">    let found = await UserModel.findOne(&#123;&#125;);</span><br><span class="line">    console.log(found.sayYourName())</span><br><span class="line">&#125;)().then(r=&gt;&#123;</span><br><span class="line">    console.log(2)</span><br><span class="line">&#125;).catch(e=&gt;&#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// 静态方法</span><br><span class="line">(async()=&gt;&#123;</span><br><span class="line">    let found = await UserModel.findByName(&apos;hjx&apos;);</span><br><span class="line">    return found;</span><br><span class="line">&#125;)().then(r=&gt;&#123;</span><br><span class="line">    console.log(r)</span><br><span class="line">&#125;).catch(e=&gt;&#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//保存</span><br><span class="line">(async()=&gt;&#123;</span><br><span class="line">   let user = new UserModel(&#123;name:&apos;lisi&apos;,age:19&#125;)</span><br><span class="line">   return await user.save()</span><br><span class="line">&#125;)().then(r=&gt;&#123;</span><br><span class="line">&#125;).catch(e=&gt;&#123;</span><br><span class="line">    console.log(e)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>工厂模式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// 工厂模式</span><br><span class="line">(async(params)=&gt;&#123;</span><br><span class="line">   let flow = UserModel.find(&#123;&#125;);</span><br><span class="line">   flow.where(&apos;age&apos;).lt(21);</span><br><span class="line">   flow.select(&#123;name:1&#125;)</span><br><span class="line">   flow.skip(0);</span><br><span class="line">   if(params.sort) flow.sort(params.sort);</span><br><span class="line">   let res = await flow.then()</span><br><span class="line">   return res;</span><br><span class="line">&#125;)(&#123;</span><br><span class="line">    sort:&apos;-age&apos;</span><br><span class="line">&#125;)</span><br><span class="line">.then(r=&gt;&#123;</span><br><span class="line">    console.log(r)</span><br><span class="line">&#125;)</span><br><span class="line">.catch(e=&gt;&#123;</span><br><span class="line">    console.log(e)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/05/10/MONGODB_007_Schema和Model/" data-id="cklhgt2o0004yq1fy9p3pcbz9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mongodb/">mongodb</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/46/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/45/">45</a><a class="page-number" href="/page/46/">46</a><span class="page-number current">47</span><a class="page-number" href="/page/48/">48</a><a class="page-number" href="/page/49/">49</a><span class="space">&hellip;</span><a class="page-number" href="/page/55/">55</a><a class="extend next" rel="next" href="/page/48/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6速学/">ES6速学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JS不知深浅/">JS不知深浅</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M01/">M01</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M02/">M02</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M03/">M03</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M04/">M04</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M06/">M06</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M07/">M07</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M08/">M08</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M09/">M09</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NodeWeb/">NodeWeb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node后端/">Node后端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ReactWheels/">ReactWheels</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React入门/">React入门</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TS入门/">TS入门</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fullstack/">fullstack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/">jQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mobile/">mobile</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/">node</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node每日精进/">node每日精进</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oak/">oak</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tools/">tools</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/">vim</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vultr/">vultr</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web性能优化/">web性能优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web面经/">web面经</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端知识点/">前端知识点</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/CSS/" style="font-size: 13.75px;">CSS</a> <a href="/tags/ES6速学/" style="font-size: 14.17px;">ES6速学</a> <a href="/tags/JS不知深浅/" style="font-size: 11.25px;">JS不知深浅</a> <a href="/tags/M01/" style="font-size: 13.33px;">M01</a> <a href="/tags/M02/" style="font-size: 15px;">M02</a> <a href="/tags/M03/" style="font-size: 15.83px;">M03</a> <a href="/tags/M04/" style="font-size: 16.25px;">M04</a> <a href="/tags/M06/" style="font-size: 18.33px;">M06</a> <a href="/tags/M07/" style="font-size: 17.92px;">M07</a> <a href="/tags/M08/" style="font-size: 17.08px;">M08</a> <a href="/tags/M09/" style="font-size: 11.67px;">M09</a> <a href="/tags/NodeWeb/" style="font-size: 15.42px;">NodeWeb</a> <a href="/tags/Node后端/" style="font-size: 18.75px;">Node后端</a> <a href="/tags/ReactWheels/" style="font-size: 16.67px;">ReactWheels</a> <a href="/tags/React入门/" style="font-size: 15px;">React入门</a> <a href="/tags/TS入门/" style="font-size: 14.58px;">TS入门</a> <a href="/tags/express/" style="font-size: 10.42px;">express</a> <a href="/tags/fullstack/" style="font-size: 17.92px;">fullstack</a> <a href="/tags/http/" style="font-size: 12.08px;">http</a> <a href="/tags/jQuery/" style="font-size: 10px;">jQuery</a> <a href="/tags/java/" style="font-size: 19.17px;">java</a> <a href="/tags/linux/" style="font-size: 10.83px;">linux</a> <a href="/tags/mobile/" style="font-size: 11.25px;">mobile</a> <a href="/tags/mongodb/" style="font-size: 12.5px;">mongodb</a> <a href="/tags/mysql/" style="font-size: 12.5px;">mysql</a> <a href="/tags/node/" style="font-size: 10.42px;">node</a> <a href="/tags/node每日精进/" style="font-size: 10px;">node每日精进</a> <a href="/tags/oak/" style="font-size: 20px;">oak</a> <a href="/tags/python/" style="font-size: 17.5px;">python</a> <a href="/tags/tools/" style="font-size: 10px;">tools</a> <a href="/tags/vim/" style="font-size: 10px;">vim</a> <a href="/tags/vue/" style="font-size: 12.92px;">vue</a> <a href="/tags/vultr/" style="font-size: 10px;">vultr</a> <a href="/tags/web性能优化/" style="font-size: 10px;">web性能优化</a> <a href="/tags/web面经/" style="font-size: 10px;">web面经</a> <a href="/tags/前端知识点/" style="font-size: 19.58px;">前端知识点</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/02/22/Node-web05-09-02博客系统部署最新版流程/">Node-web05-09-02博客系统部署最新版流程</a>
          </li>
        
          <li>
            <a href="/2021/02/20/Node-web05-09-01博客统部署2/">Node-web05-09-01博客统部署优化解释</a>
          </li>
        
          <li>
            <a href="/2021/02/20/Node-web05-08博客统页面完善/">Node-web05-08博客统页面完善</a>
          </li>
        
          <li>
            <a href="/2021/02/19/Node-web05-07-03服务器端构建/">Node-web05-07-03服务器端构建</a>
          </li>
        
          <li>
            <a href="/2021/02/19/Node-web05-07-02服务器相关配置及使用/">Node-web05-07-02服务器相关配置及使用</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 Stevin<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>