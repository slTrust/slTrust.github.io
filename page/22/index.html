<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>Almost</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Almost">
<meta property="og:url" content="http://yoursite.com/page/22/index.html">
<meta property="og:site_name" content="Almost">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Almost">
  
    <link rel="alternate" href="/atom.xml" title="Almost" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Almost</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Java-006-计算机知识体系结构" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/09/Java-006-计算机知识体系结构/" class="article-date">
  <time datetime="2019-05-09T15:14:36.000Z" itemprop="datePublished">2019-05-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/05/09/Java-006-计算机知识体系结构/">Java_006_计算机知识体系结构</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="计算机体系结构"><a href="#计算机体系结构" class="headerlink" title="计算机体系结构"></a>计算机体系结构</h2><h3 id="计算的目的"><a href="#计算的目的" class="headerlink" title="计算的目的"></a>计算的目的</h3><ul>
<li>解决数学问题<ul>
<li>表达式 a + b</li>
<li>逻辑判断 if else</li>
</ul>
</li>
<li><p>现实问题</p>
<ul>
<li>现实问题-&gt; 数学问题 -&gt; 计算问题</li>
</ul>
</li>
<li><p>完成计算</p>
</li>
<li>计算的基本结构<ul>
<li>表达式</li>
<li>逻辑判断</li>
<li>流程控制</li>
<li>读取和存储</li>
</ul>
</li>
<li>基本构造<ul>
<li>计算</li>
<li>存储</li>
</ul>
</li>
</ul>
<h3 id="编程的本质"><a href="#编程的本质" class="headerlink" title="编程的本质"></a>编程的本质</h3><ul>
<li>把现实问题抽象成编程语言中的数据类型(存储)</li>
<li>通过组合编程语言基本元素来表达数据的结构和对数据的转换和操作(计算)</li>
<li>编程就是使用编程语言对现实进行理解和表达</li>
</ul>
<h3 id="编程语言基本结构"><a href="#编程语言基本结构" class="headerlink" title="编程语言基本结构"></a>编程语言基本结构</h3><ul>
<li>基本数据类型<ul>
<li>int</li>
<li>String</li>
<li>boolean</li>
<li>float</li>
</ul>
</li>
<li>语句和语法<ul>
<li>const </li>
<li>a = 1+2</li>
<li>if</li>
<li>for while</li>
<li>函数和方法</li>
</ul>
</li>
<li>执行环境<ul>
<li>编译器/jvm</li>
</ul>
</li>
<li>类型模型和类型系统</li>
<li>编程范式<ul>
<li>过测式</li>
<li>面向对象</li>
<li>函数式</li>
<li>泛型</li>
</ul>
</li>
</ul>
<h3 id="程序的执行环境"><a href="#程序的执行环境" class="headerlink" title="程序的执行环境"></a>程序的执行环境</h3><ul>
<li>编译器：将某种语言的源代码转换成目标代码<ul>
<li>计算机和人类理解程序代码不同 它只认0和1</li>
</ul>
</li>
<li>解释器：解释执行代码的程序，产生我们要的结果<ul>
<li>jvm</li>
<li>js解释器(浏览器,v8)</li>
</ul>
</li>
<li>编译时和运行时</li>
</ul>
<blockquote>
<h4 id="面试题：静态类型-vs-动态类型-和-强类型-vs-弱类型"><a href="#面试题：静态类型-vs-动态类型-和-强类型-vs-弱类型" class="headerlink" title="面试题：静态类型 vs 动态类型 和 强类型 vs 弱类型"></a>面试题：静态类型 vs 动态类型 和 强类型 vs 弱类型</h4></blockquote>
<ul>
<li>静态类型 vs 动态类型<ul>
<li>静态：编译时能确定一个变量的类型</li>
<li>动态：运行时才能确定一个变量的类型</li>
</ul>
</li>
<li>强类型 vs 弱类型<ul>
<li>强类型：一个对象只有一种解释方式</li>
<li>弱类型：一个对象可以被解释成不同的类型</li>
</ul>
</li>
<li>java是静态类型和强类型语言</li>
<li>类型系统是程序语言的一种限制机制，动态类型和弱类型语言更加灵活，但是更容易出错，静态类型和强类型更加容易理解，减少出错的肯能性。</li>
</ul>
<h3 id="分布式系统"><a href="#分布式系统" class="headerlink" title="分布式系统"></a>分布式系统</h3><blockquote>
<p>随着互联网的发展，越来越多人有个人设备。一台电脑无法承受数以亿计的访问量</p>
</blockquote>
<ul>
<li>计算 -&gt; 分布式</li>
<li>存储 -&gt; 分布式</li>
<li>把原来在单机上的计算“分布”到多台机器上，单台计算机上的存储“分布”到多台机子上</li>
<li>带来什么问题？<ul>
<li>沟通</li>
<li>协作</li>
<li>误差</li>
<li>同步</li>
<li>效率损失</li>
</ul>
</li>
<li>分布的机器数据一致</li>
<li>分布的机器计算协调</li>
<li>分布的机器交流和协作</li>
</ul>
<blockquote>
<p>横向的分布式(计算分到不同机器上)</p>
</blockquote>
<ul>
<li>把计算分到不同机器去执行</li>
<li>把存储数据分布到不同机器</li>
<li>例子：MapReduce  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">100T数据 一台机子存不了</span><br><span class="line">只能分两台 一台50T</span><br><span class="line"></span><br><span class="line">100T数据 里面都存了很多 单词</span><br><span class="line">如果在一台机子上查很慢</span><br><span class="line">把文件拆成两半放在两台机子上 同时查</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>竖向分布式(按功能分)</p>
</blockquote>
<ul>
<li>一组机器负责计算</li>
<li>一组机器负责存储<ul>
<li>例子：Lamada ,Casandra 和 Kafka(非常值得学习)</li>
</ul>
</li>
</ul>
<h3 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h3><ul>
<li><a href="http://www.yinwang.org/blog-cn/2018/04/13/computer-science" target="_blank" rel="noopener">解谜计算机科学</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/05/09/Java-006-计算机知识体系结构/" data-id="cknvgptuv00280xjpi93upwzb" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Java-005-版本控制" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/09/Java-005-版本控制/" class="article-date">
  <time datetime="2019-05-09T15:12:57.000Z" itemprop="datePublished">2019-05-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/05/09/Java-005-版本控制/">Java_005_版本控制</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="版本控制"><a href="#版本控制" class="headerlink" title="版本控制"></a>版本控制</h3><blockquote>
<p>跟踪和管理代码的变更</p>
</blockquote>
<ul>
<li>反悔的补救</li>
<li>代码的备份</li>
<li>不同版本变更的跟踪和合并管理</li>
</ul>
<blockquote>
<p>开发协作</p>
</blockquote>
<ul>
<li>不同版本、不同开发任务的并行开发</li>
<li>发布版本的跟踪和移动</li>
<li>代码 diff 和 review</li>
</ul>
<h3 id="git基本原理"><a href="#git基本原理" class="headerlink" title="git基本原理"></a>git基本原理</h3><blockquote>
<p>基本概念：文件三种状态</p>
</blockquote>
<ul>
<li>变更、未跟踪</li>
<li>跟踪</li>
<li>已提交</li>
</ul>
<blockquote>
<p>变更的基本单位——提交 commit</p>
</blockquote>
<ul>
<li>变更的 hash 值作为 id</li>
</ul>
<blockquote>
<p>分支</p>
</blockquote>
<ul>
<li>不同变更链条的集合</li>
</ul>
<blockquote>
<p>仓库</p>
</blockquote>
<ul>
<li>常说的代码库</li>
<li>所有变更和分支的集合</li>
</ul>
<h3 id="git基本操作"><a href="#git基本操作" class="headerlink" title="git基本操作"></a>git基本操作</h3><ul>
<li>合并 和 rebase  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">合并会生成新的提交</span><br><span class="line">但是rebase 从不同的提交里再次从新提交一遍到当前分支同时针对每一个提交的冲突进行冲突处理，处理一个冲突</span><br><span class="line"></span><br><span class="line">rebase之后的提交是 流线性的没有merge交叉的情况</span><br><span class="line">用 rebase最好</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">假设开发流程如下,</span><br><span class="line">master: 0 -&gt; 1 -&gt; 2 -&gt; 6</span><br><span class="line">branch: 3 -&gt; 4 -&gt; 5</span><br><span class="line">其中序号代表开发顺序</span><br><span class="line">那么执行rebase之后就变成了</span><br><span class="line">0 -&gt; 1 -&gt; 2 -&gt; 6 -&gt; 3 -&gt; 4 -&gt; 5</span><br><span class="line">而merge的话则是会对2、5、6三个状态节点进行一个合并，然后生成7这么一个新的节点</span><br></pre></td></tr></table></figure>
<ul>
<li>撤销更改</li>
</ul>
<p>Git 安装</p>
<blockquote>
<h4 id="Windows安装git"><a href="#Windows安装git" class="headerlink" title="Windows安装git"></a>Windows安装git</h4></blockquote>
<ol>
<li>从官方网站下载Git: <a href="https://git-scm.com/download/win" target="_blank" rel="noopener">https://git-scm.com/download/win</a></li>
<li>按照默认选项点击下一步进行安装</li>
<li>在开始菜单选择 Git Bash, 双击打开命令行窗口,即可执行git命令</li>
</ol>
<blockquote>
<p>推荐可选客户端</p>
</blockquote>
<ul>
<li>Cmder: Windows下的命令行模拟器</li>
<li>sourcetree: Windows和Mac下的git图形客户端</li>
<li>IntelliJ 自带git支持</li>
</ul>
<blockquote>
<h4 id="Mac安装Git"><a href="#Mac安装Git" class="headerlink" title="Mac安装Git"></a>Mac安装Git</h4></blockquote>
<blockquote>
<p>方法一: Homebrew</p>
</blockquote>
<p>安装Homebrew, 具体参见<a href="https://brew.sh/index_zh-cn" target="_blank" rel="noopener">Homebrew官方安装文档</a><br>运行命令: brew install git 安装git<br>运行命令: git version 确认安装成功</p>
<blockquote>
<p>方法二: Xcode Command Line Tools<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">运行命令: xcode-select --install, 然后在弹出窗口中选择安装. 根据网络速度等待大约30分钟, git和xcode相关的开发工具会被成功安装</span><br><span class="line">运行命令: git version 确认安装成功</span><br></pre></td></tr></table></figure></p>
</blockquote>
<blockquote>
<h4 id="Ubuntu安装Git"><a href="#Ubuntu安装Git" class="headerlink" title="Ubuntu安装Git"></a>Ubuntu安装Git</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">运行命令: sudo apt-get install git 安装git</span><br><span class="line">运行命令: git version 确认安装成功</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="其他可选客户端"><a href="#其他可选客户端" class="headerlink" title="其他可选客户端"></a>其他可选客户端</h4></blockquote>
<ul>
<li><a href="https://cmder.net/" target="_blank" rel="noopener">Cmder</a>: Windows下的命令行模拟器</li>
<li><a href="https://www.sourcetreeapp.com/" target="_blank" rel="noopener">sourcetree</a>: Windows和Mac下的git图形客户端</li>
<li>IntelliJ自带的git支持</li>
</ul>
<blockquote>
<h4 id="Git-配置"><a href="#Git-配置" class="headerlink" title="Git 配置"></a>Git 配置</h4></blockquote>
<blockquote>
<p>配置用户名</p>
</blockquote>
<p>运行以下命令配置用户名和邮箱, 把名字Alex和<a href="mailto:alex@example.com" target="_blank" rel="noopener">alex@example.com</a>换成你的名字和邮箱</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name &quot;Alex Shi&quot;</span><br><span class="line">$ git config --global user.email alex@example.com</span><br><span class="line">运行命令 git config --list 查看修改之后的配置信息</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h4></blockquote>
<p>配置用户名之后git会在用户目录下面创建一个配置文件 .gitconfig. 例如我们运行上面的命令更改了用户名和邮箱, 则配置文件类似如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[user]</span><br><span class="line">  name = Yang Shi</span><br><span class="line">  email = kid7st@gmail.com</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h4></blockquote>
<p>一般在目录 $HOME 目录下, 注意, HOME是系统变量, 保存的是用户的目录. 运行以下命令则可以找到用户目录:</p>
<p>echo $HOME</p>
<blockquote>
<p>####Mac和Linux</p>
</blockquote>
<p>配置在用户目录: ~/.gitconfig</p>
<blockquote>
<h4 id="推荐配置"><a href="#推荐配置" class="headerlink" title="推荐配置"></a>推荐配置</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[user]</span><br><span class="line">    name = &#123;Name&#125;</span><br><span class="line">    email = &#123;Email&#125;</span><br><span class="line">[alias]</span><br><span class="line">    st = status</span><br><span class="line">    cm = commit</span><br><span class="line">    br = branch</span><br><span class="line">    co = checkout</span><br><span class="line">    df = diff</span><br><span class="line">    rt = remote</span><br><span class="line">    lg = log --color --graph --pretty=format:&apos;%C(yellow)%h%Creset -%Cred%d%Creset %s  %C(bold blue)(%cn %cr)%Creset&apos;</span><br><span class="line">    ll = log --color  --graph --pretty=format:&apos;%C(yellow)%h%Creset -%Cred%d%Creset %s %C(bold blue)(%cn %cr)%Creset&apos; --no-merges --stat</span><br><span class="line">    up = push origin master</span><br><span class="line">    pr = pull --rebase</span><br><span class="line">[core]</span><br><span class="line">    excludesfile = /Users/Kid7st/.gitignore_global</span><br></pre></td></tr></table></figure>
<h3 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h3><ul>
<li><a href="https://github.github.com/training-kit/" target="_blank" rel="noopener">Git Cheatsheet</a></li>
</ul>
<h3 id="Git-官方文档"><a href="#Git-官方文档" class="headerlink" title="Git 官方文档"></a>Git 官方文档</h3><blockquote>
<p>Git基础</p>
<ul>
<li><a href="https://git-scm.com/book/zh/v1/%E8%B5%B7%E6%AD%A5-%E5%85%B3%E4%BA%8E%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6" target="_blank" rel="noopener">关于版本控制 *</a></li>
<li><a href="https://git-scm.com/book/zh/v1/%E8%B5%B7%E6%AD%A5-Git-%E5%9F%BA%E7%A1%80" target="_blank" rel="noopener">Git基础 *</a></li>
<li><a href="https://git-scm.com/book/zh/v1/Git-%E5%9F%BA%E7%A1%80-%E5%8F%96%E5%BE%97%E9%A1%B9%E7%9B%AE%E7%9A%84-Git-%E4%BB%93%E5%BA%93" target="_blank" rel="noopener">Git基础 - 初始化仓库 *</a></li>
<li><a href="https://git-scm.com/book/zh/v1/Git-%E5%9F%BA%E7%A1%80-%E8%AE%B0%E5%BD%95%E6%AF%8F%E6%AC%A1%E6%9B%B4%E6%96%B0%E5%88%B0%E4%BB%93%E5%BA%93" target="_blank" rel="noopener">Git基础 - 提交更新 *</a></li>
<li><a href="https://git-scm.com/book/zh/v1/Git-%E5%9F%BA%E7%A1%80-%E6%9F%A5%E7%9C%8B%E6%8F%90%E4%BA%A4%E5%8E%86%E5%8F%B2" target="_blank" rel="noopener">Git基础 - 查看提交历史 *</a></li>
<li><a href="https://git-scm.com/book/zh/v1/Git-%E5%9F%BA%E7%A1%80-%E6%92%A4%E6%B6%88%E6%93%8D%E4%BD%9C" target="_blank" rel="noopener">Git基础 - 撤销操作</a></li>
<li><a href="https://git-scm.com/book/zh/v1/Git-%E5%9F%BA%E7%A1%80-%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8" target="_blank" rel="noopener">Git基础 - 远程操作</a></li>
<li><a href="https://git-scm.com/book/zh/v1/Git-%E5%B7%A5%E5%85%B7-%E9%87%8D%E5%86%99%E5%8E%86%E5%8F%B2" target="_blank" rel="noopener">Git基础 - 重写历史</a></li>
</ul>
</blockquote>
<blockquote>
<p>Git分支(branch)</p>
</blockquote>
<ul>
<li><a href="https://git-scm.com/book/zh/v1/Git-%E5%88%86%E6%94%AF-%E4%BD%95%E8%B0%93%E5%88%86%E6%94%AF" target="_blank" rel="noopener">Git分支 - 何为分支 *</a></li>
<li><a href="https://git-scm.com/book/zh/v1/Git-%E5%88%86%E6%94%AF-%E5%88%86%E6%94%AF%E7%9A%84%E6%96%B0%E5%BB%BA%E4%B8%8E%E5%90%88%E5%B9%B6" target="_blank" rel="noopener">Git分支 - 新建与合并分支 *</a></li>
<li><a href="https://git-scm.com/book/zh/v1/Git-%E5%88%86%E6%94%AF-%E5%88%86%E6%94%AF%E7%9A%84%E7%AE%A1%E7%90%86" target="_blank" rel="noopener">Git分支 - 分支管理</a></li>
<li><a href="https://git-scm.com/book/zh/v1/Git-%E5%88%86%E6%94%AF-%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF" target="_blank" rel="noopener">Git分支 - 远程分支</a></li>
<li><a href="https://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%8F%98%E5%9F%BA" target="_blank" rel="noopener">Git分支 - rebase</a></li>
</ul>
<blockquote>
<p>Git工作流</p>
</blockquote>
<ul>
<li><p><a href="https://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%88%86%E6%94%AF%E5%BC%80%E5%8F%91%E5%B7%A5%E4%BD%9C%E6%B5%81" target="_blank" rel="noopener">基于Git分支工作流</a></p>
</li>
<li><p><a href="http://www.ruanyifeng.com/blog/2015/12/git-workflow.html" target="_blank" rel="noopener">Git工作流程 *</a></p>
</li>
</ul>
<h3 id="完成如下经典问题"><a href="#完成如下经典问题" class="headerlink" title="完成如下经典问题"></a>完成如下经典问题</h3><blockquote>
<ol>
<li>Git常用命令及其功能: git init, git add, git status, git commit, git branch, git rebase, git merge, git push, git pull</li>
</ol>
</blockquote>
<blockquote>
<ol start="2">
<li>简述”基于Git分支的工作流程”, 其中步骤和使用到的命令是什么?</li>
</ol>
</blockquote>
<blockquote>
<ol start="3">
<li>请使用Git分支的工作流程</li>
</ol>
</blockquote>
<blockquote>
<ol start="4">
<li>git merge 和 git rebase的差别</li>
</ol>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">假设开发流程如下,</span><br><span class="line">master: 0 -&gt; 1 -&gt; 2 -&gt; 6</span><br><span class="line">branch: 3 -&gt; 4 -&gt; 5</span><br><span class="line">其中序号代表开发顺序</span><br><span class="line">那么执行rebase之后就变成了</span><br><span class="line">0 -&gt; 1 -&gt; 2 -&gt; 6 -&gt; 3 -&gt; 4 -&gt; 5</span><br><span class="line">而merge的话则是会对2、5、6三个状态节点进行一个合并，然后生成7这么一个新的节点</span><br></pre></td></tr></table></figure>
<blockquote>
<ol start="5">
<li>用Hexo在github上搭建自己的博客系统</li>
</ol>
</blockquote>
<ul>
<li><a href="https://sltrust.github.io/" target="_blank" rel="noopener">https://sltrust.github.io/</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/05/09/Java-005-版本控制/" data-id="cknvgptv2002m0xjprseakhfo" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Java-004-前置知识" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/09/Java-004-前置知识/" class="article-date">
  <time datetime="2019-05-09T15:11:20.000Z" itemprop="datePublished">2019-05-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/05/09/Java-004-前置知识/">Java_004_前置知识</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="linux基本概念"><a href="#linux基本概念" class="headerlink" title="linux基本概念"></a>linux基本概念</h3><blockquote>
<p>linux架构</p>
</blockquote>
<p>本质只有 计算资源 和 存储资源 通过内核进行管理</p>
<ul>
<li>唯一的接口——系统调用<br>  敲键盘从物理信号 到 电子信号</li>
<li>内核(抽象化硬件资源，来管理硬件)</li>
<li>硬件</li>
</ul>
<h4 id="文件系统"><a href="#文件系统" class="headerlink" title="文件系统"></a>文件系统</h4><ul>
<li>接口</li>
<li>抽象——对不同分区分层，解耦</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">/ 根目录</span><br><span class="line"></span><br><span class="line">/home 用户目录</span><br><span class="line"></span><br><span class="line">/var 经常变化的文件，如日志</span><br><span class="line"></span><br><span class="line">/usr 用户程序/库</span><br><span class="line"></span><br><span class="line">/bin 可执行文件</span><br><span class="line"></span><br><span class="line">/boot 引导系统启动</span><br><span class="line"></span><br><span class="line">/tmp 临时文件</span><br><span class="line"></span><br><span class="line">/lib /lib64 系统库文件</span><br><span class="line"></span><br><span class="line">/etc 配置文件信息</span><br></pre></td></tr></table></figure>
<h3 id="终端-shell-管道"><a href="#终端-shell-管道" class="headerlink" title="终端 shell 管道"></a>终端 shell 管道</h3><ul>
<li>终端(终端模拟器)</li>
<li>shell-linux系统内核和用户交互的接口</li>
<li>管道-程序和程序通信的方式，对接输入和输出</li>
<li>linux一切皆文件<ul>
<li>标准输入</li>
<li>标准输出</li>
<li>标准错误</li>
</ul>
</li>
</ul>
<h3 id="命令行"><a href="#命令行" class="headerlink" title="命令行"></a>命令行</h3><ul>
<li><p>ls 查看目录文件</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br><span class="line">ls -l  查看文件</span><br><span class="line">ls -al 查看所有文件</span><br><span class="line"></span><br><span class="line">&lt; ls -al </span><br><span class="line">&gt; -rw-r--r--  1 admin  staff     513  1 10 10:33 a001.ts</span><br><span class="line">&gt; -rw-r--r--  1 admin  staff     169  1 10 10:34 a002.js</span><br><span class="line">&gt; -rw-r--r--  1 admin  staff     263  1 10 10:34 a002.ts</span><br><span class="line"></span><br><span class="line">第一字段的后面9个字母表示文件的权限. </span><br><span class="line">r表是读 (Read) </span><br><span class="line">w表示写 (Write) </span><br><span class="line">x表示执行 (eXecute)</span><br><span class="line"></span><br><span class="line">其中前三个表示文件属主的权限,中间三个表示组用户权限,最后三个表示其他用户权限.</span><br></pre></td></tr></table></figure>
</li>
<li><p>cd 切换目录</p>
</li>
<li>mkdir 新建目录</li>
<li>pwd 当前目录</li>
<li>mv,cp,rm 移动，复制，删除</li>
<li>cat 查看文件内容</li>
<li>chmod 修改文件权限</li>
<li>chown 修改文件所属</li>
<li>apt-get 包管理软件</li>
<li>vim 文本编辑器</li>
<li>sudo 临时获得超级管理员权限执行一些命令</li>
<li><p>man 命令 查看这个命令的帮助文档</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">man ls</span><br><span class="line">man mv</span><br></pre></td></tr></table></figure>
</li>
<li><p>| 管道</p>
<ul>
<li>原理就是把一个命令的输出 当作另一个命令的输入</li>
<li>可以把很多命令结合起来</li>
<li>pipeline</li>
</ul>
</li>
<li>grep 搜索一些字符串  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 在 a.txt里查找 a出现的地方</span><br><span class="line">cat a.txt | grep a</span><br><span class="line"></span><br><span class="line"># 结合管道命令 统计日志里  error 出现的次数</span><br><span class="line">cat a.log | grep error | wc -l</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>linux 下目录的构成</p>
</blockquote>
<ul>
<li>绝对路径 以 “/“ 开头的 从根路径开始</li>
<li>相对路径 以”.” 开头 “.”代表当前路径 “..” 代表上一级路径 </li>
</ul>
<blockquote>
<p>如何把内容整到文件中呢？</p>
</blockquote>
<ul>
<li><p>linux命令总结</p>
</li>
<li><p><a href="https://sltrust.github.io/2018/06/13/Linux001%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/" target="_blank" rel="noopener">linux基本命令</a></p>
</li>
<li><a href="https://sltrust.github.io/2018/06/13/Linux002%E9%9A%BE%E7%82%B9%E5%91%BD%E4%BB%A4/" target="_blank" rel="noopener">linux难点命令</a></li>
<li><a href="https://sltrust.github.io/2018/06/14/Linux003%E5%A4%9A%E7%94%A8%E6%88%B7%E5%A4%9A%E4%BB%BB%E5%8A%A1%E6%93%8D%E4%BD%9C/" target="_blank" rel="noopener">linux用户操作</a></li>
<li><a href="https://sltrust.github.io/2018/06/14/Vim001%E7%BC%96%E8%BE%91%E5%99%A8%E4%BD%BF%E7%94%A8/" target="_blank" rel="noopener">vim基本使用</a></li>
</ul>
<h3 id="任务"><a href="#任务" class="headerlink" title="任务"></a>任务</h3><blockquote>
<p>1.Linux操作系统内核的作用和解决的问题</p>
</blockquote>
<ul>
<li><a href="https://blog.csdn.net/weixin_39330853/article/details/81531613" target="_blank" rel="noopener">详情参考</a></li>
</ul>
<p>操作系统的主要功能就是操作设备平台的各个硬件，将用户和具体的硬件操作隔离开来，只留下操作接口供使用，这样使用者就不必直接操作硬件，解耦，只需要通过api接口来间接操作硬件。</p>
<ol>
<li>内存管理</li>
<li>进程调度</li>
<li>硬件设备管理</li>
<li>用文件系统来管理块存储设备</li>
</ol>
<p>linux解决的问题</p>
<ul>
<li>解耦，功能拆分</li>
<li>Linux主机允许同时多人上线工作，相比于Windows的单人多任务系统要稳定许多。</li>
<li>它是开源的操作系统，软件成本低</li>
</ul>
<blockquote>
<p>2.Linux 管道的定义和它解决的问题</p>
</blockquote>
<p>是一种最基本的IPC机制，作用于进程之间，完成数据传递。</p>
<ol>
<li>其本质是一个伪文件(实为内核缓冲区)</li>
<li>由两个文件描述符引用，一个表示读端，一个表示写端。</li>
<li>规定数据从管道的写端流入管道，从读端流出。</li>
</ol>
<ul>
<li>一个命令的输出做为另一个命令的输入。</li>
</ul>
<p>解决的问题：</p>
<ul>
<li>链接多个命令</li>
</ul>
<p><a href="https://blog.csdn.net/u010761000/article/details/12905715" target="_blank" rel="noopener">管道到底是什么</a></p>
<blockquote>
<p>3.了解命令 find, 请搜索相应文档, 并链接到答案里.</p>
</blockquote>
<p>find顾名思义就是查找，Linux下find命令提供相当多的查找条件，因此功能比较强大，可以在众多文件或目录下查找你想要的任何文件或目录。</p>
<ul>
<li><a href="https://www.cnblogs.com/tongyan2/p/5517085.html" target="_blank" rel="noopener">参考链接</a></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">find ./ -name test.sh 查找当前目录下所有名为 test.sh的文件</span><br><span class="line">find ./ -name .sh 查找当前目录下所有后缀为 .sh的文件</span><br><span class="line">find ./ -name &quot;[A-Z]&quot; 查找当前目录下所有以[A-Z]大写字母开头的文件</span><br><span class="line">find  /tmp -size 2M  查找/tmp目录下所有等于2M的文件</span><br><span class="line">find  /tmp -size +2M  查找/tmp目录下所有大于2M的文件</span><br><span class="line">find  /tmp -size -2M  查找/tmp目录下所有小于2M的文件</span><br><span class="line">find  ./ -size +4k -size -5M  查找当前目录下所有大于4k小于5m的文件</span><br><span class="line">find  ./  -perm 0777  查找当前目录下权限为777文件或目录</span><br></pre></td></tr></table></figure>
<blockquote>
<p>4.了解命令 grep, 请搜索相应文档, 并链接到答案里. 请用命令cat, grep和wc, 管道来统计一个文件中出现关键字 “error” 的行数</p>
</blockquote>
<ul>
<li><a href="https://www.cnblogs.com/flyor/p/6411140.html" target="_blank" rel="noopener">linux中grep命令的用法</a></li>
<li><a href="https://www.cnblogs.com/wangcp-2014/p/5146335.html" target="_blank" rel="noopener">linux grep命令详解</a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat a.log | grep error | wc</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>5.列出一个自己课程中感兴趣的概念或者知识点, 搜索相关的资料, 并分享到答案.</p>
</blockquote>
<ul>
<li><a href="https://sltrust.github.io/2018/06/13/Linux001%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4/" target="_blank" rel="noopener">linux基本命令</a></li>
<li><a href="https://sltrust.github.io/2018/06/13/Linux002%E9%9A%BE%E7%82%B9%E5%91%BD%E4%BB%A4/" target="_blank" rel="noopener">linux难点命令</a></li>
<li><a href="https://sltrust.github.io/2018/06/14/Linux003%E5%A4%9A%E7%94%A8%E6%88%B7%E5%A4%9A%E4%BB%BB%E5%8A%A1%E6%93%8D%E4%BD%9C/" target="_blank" rel="noopener">linux用户操作</a></li>
<li><a href="https://sltrust.github.io/2018/06/14/Vim001%E7%BC%96%E8%BE%91%E5%99%A8%E4%BD%BF%E7%94%A8/" target="_blank" rel="noopener">vim基本使用</a></li>
</ul>
<h3 id="扩展阅读"><a href="#扩展阅读" class="headerlink" title="扩展阅读"></a>扩展阅读</h3><h4 id="UNIX传奇"><a href="#UNIX传奇" class="headerlink" title="UNIX传奇"></a>UNIX传奇</h4><ul>
<li><a href="https://coolshell.cn/articles/2322.html" target="_blank" rel="noopener">Unix传奇 (上)</a></li>
<li><a href="https://coolshell.cn/articles/2324.html" target="_blank" rel="noopener">Unix传奇 (下)</a></li>
<li><a href="https://zh.wikipedia.org/wiki/Unix%E5%93%B2%E5%AD%A6" target="_blank" rel="noopener">Unix哲学</a></li>
</ul>
<h4 id="引导"><a href="#引导" class="headerlink" title="引导"></a>引导</h4><ul>
<li>了解Unix的历史和开源软件的历史</li>
<li>了解UNIX设计原则</li>
</ul>
<h4 id="书籍"><a href="#书籍" class="headerlink" title="书籍"></a>书籍</h4><blockquote>
<p>必读</p>
</blockquote>
<ul>
<li>&lt;鸟哥的Linux私房菜 – 基础篇&gt;<br><a href="http://cn.linux.vbird.org/linux_basic/linux_basic.php" target="_blank" rel="noopener">http://cn.linux.vbird.org/linux_basic/linux_basic.php</a></li>
</ul>
<blockquote>
<p>推荐阅读章节</p>
</blockquote>
<ol start="0">
<li><a href="http://cn.linux.vbird.org/linux_basic/0105computers.php" target="_blank" rel="noopener">计算机概论</a></li>
<li><a href="http://cn.linux.vbird.org/linux_basic/0110whatislinux.php" target="_blank" rel="noopener">Linux是什么</a></li>
<li><a href="http://cn.linux.vbird.org/linux_basic/0120howtolinux.php" target="_blank" rel="noopener">Linux如何学习</a></li>
<li><a href="http://cn.linux.vbird.org/linux_basic/0210filepermission.php" target="_blank" rel="noopener">Linux文件权限与目录配置</a></li>
<li><a href="http://cn.linux.vbird.org/linux_basic/0220filemanager.php" target="_blank" rel="noopener">Linux文件与目录管理</a></li>
<li><a href="http://cn.linux.vbird.org/linux_basic/0310vi.php" target="_blank" rel="noopener">vim程序编辑器</a></li>
<li><a href="http://cn.linux.vbird.org/linux_basic/0320bash.php" target="_blank" rel="noopener">认识与学习Bash</a></li>
</ol>
<blockquote>
<p>扩展阅读 (长期)</p>
</blockquote>
<ul>
<li><a href="https://book.douban.com/subject/1467587/" target="_blank" rel="noopener">UNIX编程艺术</a></li>
<li><a href="https://book.douban.com/subject/1395123/" target="_blank" rel="noopener">Just For Fun (自由软件Linux之父李纳斯·托沃兹自述)</a></li>
</ul>
<h3 id="任务-1"><a href="#任务-1" class="headerlink" title="任务"></a>任务</h3><ul>
<li>Linux 入门</li>
<li>命令行 入门</li>
<li>Java 开发环境</li>
<li>IDE: Intellij IDEA 安装配置</li>
<li>对于 Windows 的同学，可下载安装<a href="https://cmder.net/" target="_blank" rel="noopener">Cmder</a>，模拟 Linux 命令行环境。</li>
</ul>
<blockquote>
<p>PPT: <a href="https://static.xiedaimala.com/xdml/file/11621da1-d0da-451b-aad4-07530e96963c/2018-8-5-3-21-26.pdf" target="_blank" rel="noopener">前置知识.pdf</a></p>
</blockquote>
<ul>
<li><p><a href="https://static.xiedaimala.com/xdml/file/11621da1-d0da-451b-aad4-07530e96963c/2018-8-5-3-22-13.pdf" target="_blank" rel="noopener">IntelliJ IDEA 安装配置.pdf</a></p>
</li>
<li><p><a href="https://www.runoob.com/linux/Linux-intro.html" target="_blank" rel="noopener">Linux 入门教程</a></p>
</li>
<li><p><a href="http://man.linuxde.net/" target="_blank" rel="noopener">Linux 命令使用查询</a></p>
</li>
<li><p><a href="https://static.xiedaimala.com/xdml/file/11621da1-d0da-451b-aad4-07530e96963c/2018-8-5-3-25-0.pdf" target="_blank" rel="noopener">Java开发环境配置.pdf</a></p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/05/09/Java-004-前置知识/" data-id="cknvgptuu00260xjpfdgqx9y9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Java-003-学习注意事项" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/09/Java-003-学习注意事项/" class="article-date">
  <time datetime="2019-05-09T15:09:46.000Z" itemprop="datePublished">2019-05-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/05/09/Java-003-学习注意事项/">Java_003_学习注意事项</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="什么时候提问题？"><a href="#什么时候提问题？" class="headerlink" title="什么时候提问题？"></a>什么时候提问题？</h3><ul>
<li>一定要会提问，如何问问题，解决问题的能力</li>
</ul>
<h3 id="技术"><a href="#技术" class="headerlink" title="技术"></a>技术</h3><ul>
<li>核心 java开发基础<ul>
<li>算法</li>
<li>设计模式</li>
<li>面向对象</li>
<li>数据结构</li>
</ul>
</li>
<li>web开发基础<ul>
<li>spring/spring boot</li>
<li>http / restful api</li>
<li>sql / orm</li>
<li>缓存</li>
<li>mvc架构</li>
<li>cookie和认证<br>如何分解知识点/应用/综合</li>
</ul>
</li>
<li>微信小程序<ul>
<li>和其他服务的互通</li>
</ul>
</li>
<li>java高级特性<ul>
<li>异步</li>
<li>java8</li>
<li>jvm和对象模型</li>
</ul>
</li>
</ul>
<h3 id="反省机制"><a href="#反省机制" class="headerlink" title="反省机制"></a>反省机制</h3><ul>
<li>60/80/90</li>
<li>怎么是好的，而不是一带而过</li>
</ul>
<h3 id="半年的达到一个目标"><a href="#半年的达到一个目标" class="headerlink" title="半年的达到一个目标"></a>半年的达到一个目标</h3><ul>
<li>每周至少10小时充电 4小时听 2小时文章 4小时完成练习</li>
<li>持续半年</li>
</ul>
<blockquote>
<p>“停止主观思考” 直接开始行动</p>
</blockquote>
<ul>
<li>方法(语言)并不重要</li>
<li>重复(量变会引起质变的)</li>
<li>寻找高效方法可能会花费很多时间</li>
<li>保持节奏，不要别人在进步你在原地踏步</li>
<li>多问问题。互动</li>
<li>每周日下午2点学习</li>
</ul>
<blockquote>
<p>策略+坚持</p>
</blockquote>
<ul>
<li>任务分解成简单任务</li>
<li>无脑执行任务</li>
<li>回顾反思简单任务提炼知识和技能</li>
<li>应用知识和技能，验证和确认</li>
<li>循环反复</li>
</ul>
<blockquote>
<p>学英语</p>
</blockquote>
<ul>
<li>每天半小时抄单词一个10遍</li>
</ul>
<blockquote>
<p>学算法</p>
</blockquote>
<ul>
<li>找一个算法书，抄</li>
<li>许三多：我是死记硬背</li>
</ul>
<blockquote>
<p>记录+反馈(锚点：而不是一坨文字)</p>
</blockquote>
<ul>
<li>笔记<ul>
<li>人会自动忘记痛苦的。这点很可怕。不知道自己失去了什么</li>
</ul>
<ol>
<li>知识点，名词概念</li>
<li>途中遇到的问题，记录下来(知识的边界，然后回过头来解决)</li>
</ol>
</li>
<li>进程和时间笔记</li>
<li>反馈和改进</li>
</ul>
<blockquote>
<p>解决问题思考模型</p>
</blockquote>
<ul>
<li>需求</li>
<li>关键问题和指标</li>
<li>问题拆解分析</li>
<li>解决方案1，2，3</li>
<li>优缺点限制</li>
<li>最后选型</li>
<li>限制和进化</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/05/09/Java-003-学习注意事项/" data-id="cknvgptut00210xjp965rtrln" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Java-002-输入url过程" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/09/Java-002-输入url过程/" class="article-date">
  <time datetime="2019-05-09T06:30:43.000Z" itemprop="datePublished">2019-05-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/05/09/Java-002-输入url过程/">Java_002_输入url过程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="待完善"><a href="#待完善" class="headerlink" title="待完善"></a>待完善</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/05/09/Java-002-输入url过程/" data-id="cknvgptuu00240xjp0pb4q0bx" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Java-001-java成长之路" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/08/Java-001-java成长之路/" class="article-date">
  <time datetime="2019-05-08T06:05:20.000Z" itemprop="datePublished">2019-05-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/05/08/Java-001-java成长之路/">Java_001_java成长之路</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="java技术栈"><a href="#java技术栈" class="headerlink" title="java技术栈"></a>java技术栈</h3><h4 id="知识体系是固定的"><a href="#知识体系是固定的" class="headerlink" title="知识体系是固定的"></a>知识体系是固定的</h4><ul>
<li>我不是前端</li>
<li>我不是后端</li>
<li>我是程序员</li>
</ul>
<h4 id="计算机行业"><a href="#计算机行业" class="headerlink" title="计算机行业"></a>计算机行业</h4><ul>
<li>很菜 2000/月</li>
<li>入门后8000/月</li>
<li>大牛后百万/月</li>
</ul>
<p>不要给自己设限</p>
<ul>
<li>前端容易达到瓶颈</li>
<li>后端的路更长</li>
</ul>
<h4 id="为什么学java"><a href="#为什么学java" class="headerlink" title="为什么学java"></a>为什么学java</h4><ul>
<li>生态有了 各种轮子/爬虫/web/大数据</li>
<li>市场被占领了</li>
<li>我被python接口恶心到了  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    status:&quot;0&quot;</span><br><span class="line">&#125;</span><br><span class="line">// 不同 python 后台很有可能是这个结果</span><br><span class="line">&#123;</span><br><span class="line">    status:0</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>前端是切入点</p>
</blockquote>
<p>不要把自己局限在前端。</p>
<h3 id="核心竞争力"><a href="#核心竞争力" class="headerlink" title="核心竞争力"></a>核心竞争力</h3><ul>
<li>不是写代码(这是基础)</li>
<li>设计文档<ol>
<li>会出现什么问题(不要加上任何主观判断，和任何假设，用直觉)</li>
<li>如何解决用什么技术</li>
<li>每个方案优缺点，不会这个技术怎么办(学)</li>
<li>回馈变化——不断检验——改善(不停学习，重造)</li>
</ol>
</li>
<li>入手新公司项目(主动)<ol>
<li>不管会不会都接下来，在做的过程中解决。</li>
<li>中国病态教育，什么东西必须都学会了才敢去做。外国人有魄力直接敢接，做新人没什么责任，尽力去搞，没人让你承担责任，大不了加班，再不济辞职。</li>
<li>不要把任何事觉得很难，畏首畏尾，你做不了淘宝，可以做一个首页啊！</li>
<li>项目驱动</li>
</ol>
</li>
<li>不要成为一个搬砖的工人，砖砌的再好，你不知道这个楼以后是什么样的，但是建筑师知道。有后劲，码农——工程师</li>
<li>学习的过程要有反馈。<ol>
<li>你有什么问题， 没有？那我考考你</li>
<li>固强补弱</li>
</ol>
</li>
</ul>
<h4 id="经验分享"><a href="#经验分享" class="headerlink" title="经验分享"></a>经验分享</h4><blockquote>
<p>职业生涯，学什么好</p>
</blockquote>
<ul>
<li>生命有限，不可能所有语言都学会的</li>
<li>起点学什么语言不重要<ol>
<li>每天看书做题，跟做数学题一样</li>
<li>领扣刷题</li>
</ol>
</li>
<li>技术是不断革新的<ol>
<li>10年前各种框架，10年后还是各种框架，容易迷茫</li>
<li>需求驱动开发，用自己掌握的技术去实现一个项目。</li>
<li>回去看你以前写的代码，重构。</li>
</ol>
</li>
<li>跟着需求走一定要有个度<ol>
<li>不要总是重复，没有提升</li>
<li>战线不要拉的太长，学一个东西，不要想太多，定一个期限不要超过半年，用最笨的方法踏实的去做，对自己宽容一点。然后挑战一下，此时就算失败了就再去做。前半年是让你从新手变成老手。</li>
<li>如果你在国外一定要去刷领扣 300题两次</li>
</ol>
</li>
</ul>
<blockquote>
<p>提升</p>
</blockquote>
<ul>
<li>不要上来就写代码，先构思</li>
<li>想想会遇到什么问题，如何解决。</li>
<li>深入需求/业务</li>
<li>2个月学vue够吗？先学就好了，不够了2个月之后再去学react,2个月会对你人生造成很大影响吗？不会</li>
<li>明确目标，不要总干体力活。</li>
<li>刻意练习，实践的时候就无脑去做，心无旁骛</li>
<li>有目标，有反馈</li>
<li>给自己一个节点，半年时间去做。</li>
<li>跟着有经验的人去做，多听大牛的建议，不要多想。照做。</li>
<li>不要自我设限，比如学历，没意义</li>
<li>驱动写代码的动力——经济/解决问题有趣</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/05/08/Java-001-java成长之路/" data-id="cknvgptus001z0xjp9rv3b8nt" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Vue_002状态管理" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/20/Vue_002状态管理/" class="article-date">
  <time datetime="2019-03-20T14:01:01.000Z" itemprop="datePublished">2019-03-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/20/Vue_002状态管理/">Vue_002状态管理</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="状态管理是啥"><a href="#状态管理是啥" class="headerlink" title="状态管理是啥"></a>状态管理是啥</h3><blockquote>
<p>状态是什么</p>
</blockquote>
<ul>
<li>UI状态 (不存在数据库里的)</li>
<li>用户状态 (存到数据库里的)</li>
</ul>
<blockquote>
<p>状态管理是什么</p>
</blockquote>
<ul>
<li><p>父子组件通信</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">父组件 有个 n</span><br><span class="line">子组件 有个按钮 点击之后触发回调函数 ==&gt; n+1</span><br><span class="line"></span><br><span class="line">这样就导致——耦合(有上有下) 如果自组件里的按钮换成里 element的 btn </span><br><span class="line">那么还必须要求 element有一个回调函数</span><br><span class="line"></span><br><span class="line"># 解耦</span><br><span class="line">vue优化的地方提供了一个统一的方法</span><br><span class="line">this.$on(&apos;xxx&apos;)</span><br><span class="line">this.$emit(&apos;xxx&apos;)</span><br><span class="line"># 但是这仅仅适合父子通信  如果是爷孙就要 爷父 父子 层层传递，非常麻烦</span><br><span class="line"></span><br><span class="line"># vue 是如何实现让每层的组件 都有 emit/on 方法呢(如何构建整个事件体系的)</span><br><span class="line">原理是 让所有的 VueComponent extends EventEmit</span><br><span class="line">原型链    Object---&gt;Vue----&gt;EventEmiter----&gt; VueComponent</span><br><span class="line"></span><br><span class="line"># 不讨论 vuex 之前 跨层级通信 我们可以这样</span><br><span class="line">var eventBus = new Vue()</span><br><span class="line">eventBus.$on(xxx)</span><br><span class="line">eventBus.$emit(xxx)</span><br></pre></td></tr></table></figure>
</li>
<li><p>数据的传递过程</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">a1的 n 传递给 a4 单向数据流</span><br><span class="line">要经过 a1 ==&gt; a2 ==&gt; a3 ==&gt; a4</span><br><span class="line">&lt;root&gt;</span><br><span class="line">    &lt;a1&gt;</span><br><span class="line">        &lt;a2&gt;</span><br><span class="line">            &lt;a3&gt;</span><br><span class="line">                &lt;a4&gt;&#123;&#123;n&#125;&#125;&lt;/a4&gt;</span><br><span class="line">            &lt;/a3&gt;</span><br><span class="line">        &lt;/a2&gt;</span><br><span class="line">    &lt;/a1&gt;</span><br><span class="line">&lt;/root&gt;</span><br><span class="line"></span><br><span class="line">但如果用 父子通信就要 </span><br><span class="line">同时 层层 props 传递 n</span><br><span class="line">a4.$emit(x) ==&gt; a3.$emit(x) ==&gt; a2.$emit(x) ==&gt; a1.$emit(x) ==&gt; root.$emit(x) 非常麻烦</span><br><span class="line"></span><br><span class="line">优化的一个方法是 window.eventHub = new Vue()</span><br><span class="line">root 那里 eventHub.$on(x)</span><br><span class="line">a4 那里 eventHub.$emit(x)</span><br></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/03/20/Vue_002状态管理/" data-id="cknvgpu5z00r10xjpyidsa44e" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/">vue</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-ReactWheels03-02环境搭建2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/18/ReactWheels03-02环境搭建2/" class="article-date">
  <time datetime="2019-03-18T13:24:48.000Z" itemprop="datePublished">2019-03-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/18/ReactWheels03-02环境搭建2/">ReactWheels03-02环境搭建2</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="环境搭建2"><a href="#环境搭建2" class="headerlink" title="环境搭建2"></a>环境搭建2</h3><blockquote>
<h4 id="git小技巧-如何将代码-分别push-到不同仓库"><a href="#git小技巧-如何将代码-分别push-到不同仓库" class="headerlink" title="git小技巧 如何将代码 分别push 到不同仓库"></a>git小技巧 如何将代码 分别push 到不同仓库</h4></blockquote>
<ul>
<li><p>打开你的 <a href="https://github.com" target="_blank" rel="noopener">github</a> 新建一个空仓库 react-gulu-test-2</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 初始化后得到从本地上传仓库的命令</span><br><span class="line">git remote add origin git@github.com:slTrust/react-gulu-test-2.git</span><br><span class="line"></span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>
</li>
<li><p>我上次的代码仓库是 <a href="https://github.com/slTrust/react-gulu-test-1" target="_blank" rel="noopener">react-gulu-test-1</a></p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">跑到你上次的代码仓库目录 打开命令行</span><br><span class="line"># git remote add [随便一个名字] git@github.com:slTrust/react-gulu-test-2.git</span><br><span class="line">git remote add fui-2 git@github.com:slTrust/react-gulu-test-2.git</span><br><span class="line"></span><br><span class="line">git push -u fui-2 master</span><br></pre></td></tr></table></figure>
</li>
<li><p>此时 <a href="https://github.com/slTrust/react-gulu-test-2" target="_blank" rel="noopener">https://github.com/slTrust/react-gulu-test-2</a> 就有你另一个仓库的所有代码了</p>
</li>
</ul>
<blockquote>
<p>修改 package.json 文件</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;start&quot;:&quot;webpack-dev-server&quot;,</span><br><span class="line">    &quot;build&quot;:&quot;webpack&quot;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">这样我们以后就可以</span><br><span class="line"></span><br><span class="line">yarn start</span><br><span class="line">yarn build</span><br></pre></td></tr></table></figure>
<h3 id="添加-button-tsx"><a href="#添加-button-tsx" class="headerlink" title="添加 button.tsx"></a>添加 button.tsx</h3><p>lib/button.tsx</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function Button()&#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            按钮</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Button</span><br></pre></td></tr></table></figure>
<p>index.tsx</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import React from &apos;react&apos;;</span><br><span class="line">import ReactDom from &apos;react-dom&apos;;</span><br><span class="line"></span><br><span class="line">console.log(React)</span><br><span class="line">console.log(ReactDom)</span><br></pre></td></tr></table></figure>
<p>安装依赖</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">yarn add react react-dom </span><br><span class="line"># 为保持一直最好跟我一个版本</span><br><span class="line">yarn add react@16.8.4 react-dom@16.8.4</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 运行我们的项目</span><br><span class="line">yarn start</span><br><span class="line"></span><br><span class="line">报错</span><br><span class="line">ERROR in [at-loader] ./lib/index.tsx:1:19 </span><br><span class="line">    TS7016: Could not find a declaration file for module &apos;react&apos;. &apos;/Users/huangjiaxi/Desktop/hjx-test-1/node_modules/react/index.js&apos; implicitly has an &apos;any&apos; type.</span><br><span class="line">  Try `npm install @types/react` if it exists or add a new declaration (.d.ts) file containing `declare module &apos;react&apos;;`</span><br><span class="line"></span><br><span class="line">ERROR in [at-loader] ./lib/index.tsx:2:22 </span><br><span class="line">    TS7016: Could not find a declaration file for module &apos;react-dom&apos;. &apos;/Users/huangjiaxi/Desktop/hjx-test-1/node_modules/react-dom/index.js&apos; implicitly has an &apos;any&apos; type.</span><br><span class="line">  Try `npm install @types/react-dom` if it exists or add a new declaration (.d.ts) file containing `declare module &apos;react-dom&apos;;`</span><br><span class="line"></span><br><span class="line">google 搜索 Could not find a declaration file for module &apos;react&apos;</span><br><span class="line"></span><br><span class="line">点进入第一个url https://stackoverflow.com/questions/41292559/could-not-find-a-declaration-file-for-module-module-name-path-to-module-nam</span><br><span class="line"></span><br><span class="line">里面有个赞多的 说这个</span><br><span class="line">npm install -D @types/module-name</span><br><span class="line"></span><br><span class="line">由于我们用的 yarn 所以</span><br><span class="line">yarn add @types/react --dev</span><br><span class="line"># 最好加版本</span><br><span class="line">yarn add @types/react@16.8.7 --dev</span><br><span class="line"></span><br><span class="line">继续运行 </span><br><span class="line">yarn start </span><br><span class="line">还是报错</span><br><span class="line">Could not find a declaration file for module &apos;react-dom&apos;</span><br><span class="line"></span><br><span class="line">根据上次的问题</span><br><span class="line">yarn add @types/react-dom --dev</span><br><span class="line">yarn add @types/react-dom@16.8.2 --dev</span><br><span class="line"></span><br><span class="line">再次运行 yarn start 成功</span><br></pre></td></tr></table></figure>
<blockquote>
<p>此时看看我的package.json</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;react-wheels-test-1&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;1.0.0&quot;,</span><br><span class="line">  &quot;description&quot;: &quot;react wheels&quot;,</span><br><span class="line">  &quot;main&quot;: &quot;index.js&quot;,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;start&quot;: &quot;webpack-dev-server&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;webpack&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;repository&quot;: &#123;</span><br><span class="line">    &quot;type&quot;: &quot;git&quot;,</span><br><span class="line">    &quot;url&quot;: &quot;git+https://github.com/slTrust/react-gulu-test-1.git&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;keywords&quot;: [],</span><br><span class="line">  &quot;author&quot;: &quot;&quot;,</span><br><span class="line">  &quot;license&quot;: &quot;ISC&quot;,</span><br><span class="line">  &quot;bugs&quot;: &#123;</span><br><span class="line">    &quot;url&quot;: &quot;https://github.com/slTrust/react-gulu-test-1/issues&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;homepage&quot;: &quot;https://github.com/slTrust/react-gulu-test-1#readme&quot;,</span><br><span class="line">  &quot;devDependencies&quot;: &#123;</span><br><span class="line">    &quot;@types/react&quot;: &quot;^16.8.7&quot;,</span><br><span class="line">    &quot;@types/react-dom&quot;: &quot;16.8.2&quot;,</span><br><span class="line">    &quot;awesome-typescript-loader&quot;: &quot;5.2.1&quot;,</span><br><span class="line">    &quot;html-webpack-plugin&quot;: &quot;3.2.0&quot;,</span><br><span class="line">    &quot;typescript&quot;: &quot;3.3&quot;,</span><br><span class="line">    &quot;webpack&quot;: &quot;^4.29.6&quot;,</span><br><span class="line">    &quot;webpack-cli&quot;: &quot;^3.2.3&quot;,</span><br><span class="line">    &quot;webpack-dev-server&quot;: &quot;^3.7.2&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;react&quot;: &quot;16.8.4&quot;,</span><br><span class="line">    &quot;react-dom&quot;: &quot;16.8.4&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 很明显 react的版本不太一致 ，如果以后出了问题最好统一react的版本号，这是前端架构师需要知道的依赖管理。</span><br></pre></td></tr></table></figure>
<blockquote>
<p>在看一下 yarn.lock</p>
</blockquote>
<p><strong>如果面试问你 yarn.lock是什么？</strong></p>
<ul>
<li>yarn.lock就是yarn的lock文件</li>
<li>lock就是把所有依赖锁定的一个文件</li>
</ul>
<blockquote>
<h4 id="在TS项目里-除了安装源代码之外还要安装它的类型声明文件"><a href="#在TS项目里-除了安装源代码之外还要安装它的类型声明文件" class="headerlink" title="在TS项目里 除了安装源代码之外还要安装它的类型声明文件"></a>在TS项目里 除了安装源代码之外还要安装它的类型声明文件</h4></blockquote>
<ul>
<li>一般默认帮你安装</li>
<li>如果没安装，你需要手动安装  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 如果你安装它们</span><br><span class="line">yarn add react react-dom --dev</span><br><span class="line"># 就要安装 类型声明文件</span><br><span class="line">yarn add @types/react @types/react-dom --dev</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<h4 id="修改-index-tsx"><a href="#修改-index-tsx" class="headerlink" title="修改 index.tsx"></a>修改 index.tsx</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import React from &apos;react&apos;;</span><br><span class="line">import ReactDom from &apos;react-dom&apos;;</span><br><span class="line">import Button from &apos;./button&apos;</span><br><span class="line"></span><br><span class="line">ReactDom.render(&lt;Button&gt;&lt;/Button&gt;,document.body);</span><br></pre></td></tr></table></figure>
<p>运行 yarn start 结果报错<br>Can’t resolve ‘./button’ in ‘/Users/huangjiaxi/Desktop/hjx-test-1/lib’</p>
<ul>
<li>因为tsx的后缀不支持</li>
<li>修改webpack.config.js</li>
<li>添加 resolve</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">entry: &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;,</span><br><span class="line">resolve:&#123;</span><br><span class="line">    extensions:[&apos;.ts&apos;,&apos;.tsx&apos;,&apos;.js&apos;,&apos;.jsx&apos;]</span><br><span class="line">&#125;,</span><br><span class="line">output:&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># 继续运行</span><br><span class="line">yarn start</span><br><span class="line"></span><br><span class="line"># 又报错了 说 React 是一个 全局变量</span><br><span class="line">ERROR in [at-loader] ./lib/button.tsx:3:10 </span><br><span class="line">    TS2686: &apos;React&apos; refers to a UMD global, but the current file is a module. Consider adding an import instead.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 原因是 你写的 button.tsx</span><br><span class="line">function Button()&#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            按钮</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">return 的内容  里的 div 会被翻译成 </span><br><span class="line">React.createElement(&apos;div&apos;,null,&apos;按钮&apos;)</span><br><span class="line">而 button.tsx 里 没有 React</span><br></pre></td></tr></table></figure>
<p>修改button.tsx<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 引入 react</span><br><span class="line">import React from &apos;react&apos;;</span><br><span class="line">function Button()&#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            按钮2</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Button</span><br></pre></td></tr></table></figure></p>
<p>你也可以这样写,效果是一样的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import React from &apos;react&apos;;</span><br><span class="line">function Button()&#123;</span><br><span class="line">    return (</span><br><span class="line">         React.createElement(&apos;div&apos;,null,&apos;button&apos;)</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Button</span><br></pre></td></tr></table></figure>
<p>再次运行 yarn start 成功</p>
<blockquote>
<h4 id="但是给了一个警告-意思是推荐一个文件244K但是你的文件-259K"><a href="#但是给了一个警告-意思是推荐一个文件244K但是你的文件-259K" class="headerlink" title="但是给了一个警告(意思是推荐一个文件244K但是你的文件 259K)"></a>但是给了一个警告(意思是推荐一个文件244K但是你的文件 259K)</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">WARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).</span><br><span class="line">This can impact web performance.</span><br><span class="line">Assets: </span><br><span class="line">  index.js (259 KiB)</span><br><span class="line"></span><br><span class="line">WARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.</span><br><span class="line">Entrypoints:</span><br><span class="line">  index (259 KiB)</span><br><span class="line">      index.js</span><br><span class="line"></span><br><span class="line">WARNING in webpack performance recommendations: </span><br><span class="line">You can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.</span><br><span class="line">For more info visit https://webpack.js.org/guides/code-splitting/</span><br></pre></td></tr></table></figure>
<ul>
<li>但是我们的index.tsx 里就写了那么几行怎么会那么多呢?</li>
<li>还记得我们 webpack.config.js 里的 mode 吗  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 修改 webpack.config.js 里的 mode</span><br><span class="line">mode:&apos;development&apos;</span><br><span class="line"></span><br><span class="line"># 再次运行</span><br><span class="line">yarn start </span><br><span class="line">警告消失了</span><br><span class="line"></span><br><span class="line"># 为什么？ 因为在 development 时 认为你是在开发模式，所以不会警告文件大的问题</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<h4 id="理解-mode的区别"><a href="#理解-mode的区别" class="headerlink" title="理解 mode的区别"></a>理解 mode的区别</h4></blockquote>
<ul>
<li>影响 webpack 的提示，如果是 production 就提示文件过大，如果是 development 就不提示</li>
<li>development  不压缩代码</li>
<li>production 压缩所有代码变成一行</li>
</ul>
<blockquote>
<h4 id="如何解决打包文件过大呢？"><a href="#如何解决打包文件过大呢？" class="headerlink" title="如何解决打包文件过大呢？"></a>如何解决打包文件过大呢？</h4></blockquote>
<ul>
<li>不打包React   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 修改 mode</span><br><span class="line">mode:&apos;production&apos;,</span><br><span class="line"># 添加 externals（不打包的内容）</span><br><span class="line"># 四个格式是分别对应js历史上各种不同的打包工具的</span><br><span class="line">        &#123;</span><br><span class="line">        commonjs:&apos;react&apos;, // nodejs标准</span><br><span class="line">        commonjs2:&apos;react&apos;, // nodejs标准</span><br><span class="line">        amd:&apos;react&apos;, // 浏览器以前标准</span><br><span class="line">        //&lt;script src=&quot;react.min.js&quot;&gt; 等价于 window.React = ...</span><br><span class="line">        root:&apos;React&apos; // 应对既不是nodejs和浏览器 他用的是 script标签引入  </span><br><span class="line">        &#125;</span><br><span class="line">    代表针对不同的打包模式</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">const path = require(&apos;path&apos;)</span><br><span class="line">const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)</span><br><span class="line">module.exports = &#123;</span><br><span class="line">    mode:&apos;production&apos;,</span><br><span class="line">    entry: &#123;</span><br><span class="line">        index: &apos;./lib/index.tsx&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    resolve:&#123;</span><br><span class="line">        extensions:[&apos;.ts&apos;,&apos;.tsx&apos;,&apos;.js&apos;,&apos;.jsx&apos;]</span><br><span class="line">    &#125;,</span><br><span class="line">    output:&#123;</span><br><span class="line">        path:path.resolve(__dirname,&apos;dist/lib&apos;),</span><br><span class="line">        library:&apos;FUI&apos;,</span><br><span class="line">        libraryTarget:&apos;umd&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    module:&#123;</span><br><span class="line">        rules:[</span><br><span class="line">            &#123;</span><br><span class="line">                test:/\.tsx?$/,</span><br><span class="line">                loader: &apos;awesome-typescript-loader&apos;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins:[</span><br><span class="line">        new HtmlWebpackPlugin(&#123;</span><br><span class="line">            template:&apos;index.html&apos;</span><br><span class="line">        &#125;)</span><br><span class="line">    ],</span><br><span class="line">    externals:&#123;</span><br><span class="line">        // 四个格式是分别对应js历史上各种不同的打包工具的</span><br><span class="line">        react:&#123;</span><br><span class="line">            commonjs:&apos;react&apos;,</span><br><span class="line">            commonjs2:&apos;react&apos;,</span><br><span class="line">            amd:&apos;react&apos;,</span><br><span class="line">            root:&apos;React&apos;</span><br><span class="line">        &#125;,</span><br><span class="line">        &apos;react-dom&apos;:&#123;</span><br><span class="line">            commonjs:&apos;react-dom&apos;,</span><br><span class="line">            commonjs2:&apos;react-dom&apos;,</span><br><span class="line">            amd:&apos;react-dom&apos;,</span><br><span class="line">            root:&apos;ReactDom&apos;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>先把代码提交</p>
<h3 id="如何来动态切换-各种模式呢"><a href="#如何来动态切换-各种模式呢" class="headerlink" title="如何来动态切换 各种模式呢?"></a>如何来动态切换 各种模式呢?</h3><ul>
<li><p>webpack.config.js</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">const path = require(&apos;path&apos;)</span><br><span class="line">const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)</span><br><span class="line">module.exports = &#123;</span><br><span class="line">    entry: &#123;</span><br><span class="line">        index: &apos;./lib/index.tsx&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    resolve:&#123;</span><br><span class="line">        extensions:[&apos;.ts&apos;,&apos;.tsx&apos;,&apos;.js&apos;,&apos;.jsx&apos;]</span><br><span class="line">    &#125;,</span><br><span class="line">    output:&#123;</span><br><span class="line">        path:path.resolve(__dirname,&apos;dist/lib&apos;),</span><br><span class="line">        library:&apos;FUI&apos;,</span><br><span class="line">        libraryTarget:&apos;umd&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    module:&#123;</span><br><span class="line">        rules:[</span><br><span class="line">            &#123;</span><br><span class="line">                test:/\.tsx?$/,</span><br><span class="line">                loader: &apos;awesome-typescript-loader&apos;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>新建 webpack.config.dev.js </p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const base = require(&apos;./webpack.config&apos;)</span><br><span class="line">const path = require(&apos;path&apos;)</span><br><span class="line">const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)</span><br><span class="line">module.exports = Object.assign(&#123;&#125;,base,&#123;</span><br><span class="line">    mode:&apos;development&apos;,</span><br><span class="line">    plugins:[</span><br><span class="line">        new HtmlWebpackPlugin(&#123;</span><br><span class="line">            template:&apos;index.html&apos;</span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>新建 webpack.config.prod.js</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">const base = require(&apos;./webpack.config&apos;)</span><br><span class="line">module.exports = Object.assign(&#123;&#125;,base,&#123;</span><br><span class="line">    mode:&apos;production&apos;,</span><br><span class="line">    externals:&#123;</span><br><span class="line">        react:&#123;</span><br><span class="line">            commonjs:&apos;react&apos;,</span><br><span class="line">            commonjs2:&apos;react&apos;,</span><br><span class="line">            amd:&apos;react&apos;,</span><br><span class="line">            root:&apos;React&apos;</span><br><span class="line">        &#125;,</span><br><span class="line">        &apos;react-dom&apos;:&#123;</span><br><span class="line">            commonjs:&apos;react-dom&apos;,</span><br><span class="line">            commonjs2:&apos;react-dom&apos;,</span><br><span class="line">            amd:&apos;react-dom&apos;,</span><br><span class="line">            root:&apos;ReactDom&apos;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>package.js</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;start&quot;: &quot;webpack-dev-server --config webpack.config.dev.js&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;webpack --config webpack.config.prod.js&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<ul>
<li>此时 运行 yarn serve 打开浏览器 index.js 是 1.2MB (注意如果不是 请把chrome 的 diable cache 钩上)</li>
<li>运行 yarn build 发现 idnex.js  2K</li>
</ul>
</li>
<li><p>高级处理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">你可能看到别人的package.json里是这样的</span><br><span class="line">cross-env NODE_ENV=development webpack-dev-server --config webpack.config.dev.js</span><br><span class="line">cross-env NODE_ENV=production webpack --config webpack.config.prod.js</span><br><span class="line"></span><br><span class="line"># 它是跨平台用的(兼容windows)，能保证你加的环境变量在各个平台都可以被理解</span><br><span class="line"></span><br><span class="line"># 需要安装依赖</span><br><span class="line">yarn add cross-env --dev</span><br><span class="line"></span><br><span class="line"># 修改package.json</span><br><span class="line"></span><br><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;start&quot;: &quot;cross-env NODE_ENV=development webpack-dev-server --config webpack.config.dev.js&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;cross-env NODE_ENV=production webpack --config webpack.config.prod.js&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<h4 id="lib-index-d-ts-是干嘛的"><a href="#lib-index-d-ts-是干嘛的" class="headerlink" title="lib/index.d.ts 是干嘛的"></a>lib/index.d.ts 是干嘛的</h4></blockquote>
<p>给使用我们库的人，我们生成了那些类型，但是它应该在 dist目录里</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"># 添加 </span><br><span class="line">&quot;outDir&quot;:&quot;dist&quot;</span><br><span class="line"></span><br><span class="line">修改 tsconfig.json</span><br><span class="line">&#123;</span><br><span class="line">    &quot;compilerOptions&quot;: &#123;</span><br><span class="line">      &quot;outDir&quot;:&quot;dist&quot;,</span><br><span class="line">      &quot;declaration&quot;: true,</span><br><span class="line">      &quot;baseUrl&quot;: &quot;.&quot;,</span><br><span class="line">      &quot;module&quot;: &quot;esnext&quot;,</span><br><span class="line">      &quot;target&quot;: &quot;es5&quot;,</span><br><span class="line">      &quot;lib&quot;: [&quot;es6&quot;, &quot;dom&quot;],</span><br><span class="line">      &quot;sourceMap&quot;: true,</span><br><span class="line">      &quot;jsx&quot;: &quot;react&quot;,</span><br><span class="line">      &quot;moduleResolution&quot;: &quot;node&quot;,</span><br><span class="line">      &quot;rootDir&quot;: &quot;.&quot;,</span><br><span class="line">      &quot;forceConsistentCasingInFileNames&quot;: true,</span><br><span class="line">      &quot;noImplicitReturns&quot;: true,</span><br><span class="line">      &quot;noImplicitThis&quot;: true,</span><br><span class="line">      &quot;noImplicitAny&quot;: true,</span><br><span class="line">      &quot;importHelpers&quot;: true,</span><br><span class="line">      &quot;strictNullChecks&quot;: true,</span><br><span class="line">      // &quot;suppressImplicitAnyIndexErrors&quot;: true,</span><br><span class="line">      // https://github.com/Microsoft/TypeScript/issues/28762#issuecomment-443406607</span><br><span class="line">      &quot;allowSyntheticDefaultImports&quot;: true,</span><br><span class="line">      &quot;noUnusedLocals&quot;: true</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;include&quot;: [</span><br><span class="line">    ],</span><br><span class="line">    &quot;exclude&quot;: [</span><br><span class="line">      &quot;node_modules&quot;,</span><br><span class="line">      &quot;build&quot;,</span><br><span class="line">      &quot;dist&quot;,</span><br><span class="line">      &quot;scripts&quot;,</span><br><span class="line">      &quot;acceptance-tests&quot;,</span><br><span class="line">      &quot;webpack&quot;,</span><br><span class="line">      &quot;jest&quot;,</span><br><span class="line">      &quot;src/setupTests.ts&quot;,</span><br><span class="line">      &quot;*.js&quot;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"># 运行</span><br><span class="line">yarn build </span><br><span class="line">发现 之前的文件都生成在 dist里了</span><br><span class="line">index.d.ts</span><br><span class="line">button.d.ts</span><br><span class="line"></span><br><span class="line">button.d.ts是多余的如何去掉呢？</span><br><span class="line"></span><br><span class="line">修改package.json</span><br><span class="line"></span><br><span class="line">&quot;main&quot;: &quot;dist/lib/index.js&quot;,</span><br><span class="line">&quot;types&quot;:&quot;dist/lib/index&quot;,</span><br></pre></td></tr></table></figure>
<h3 id="配置react-测试框架-jest"><a href="#配置react-测试框架-jest" class="headerlink" title="配置react 测试框架 jest"></a>配置react 测试框架 jest</h3><p>google 搜索 <a href="https://jestjs.io/docs/en/tutorial-react" target="_blank" rel="noopener">react jest</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line">yarn add --dev jest babel-jest @babel/preset-env @babel/preset-react react-test-renderer</span><br><span class="line"></span><br><span class="line"># 新建 .babelrc</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    &quot;presets&quot;:[&quot;react-app&quot;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 在 package.json scripts里新增测试命令</span><br><span class="line">&quot;test&quot;:&quot;cross-env NODE_ENV=test jest --config=jest.config.js --runInBand&quot;</span><br><span class="line"></span><br><span class="line"># 新建 jest.config.js 文件</span><br><span class="line"></span><br><span class="line">// https://jestjs.io/docs/en/configuration.html</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">    verbose: true,</span><br><span class="line">    clearMocks: false,</span><br><span class="line">    collectCoverage: false,</span><br><span class="line">    reporters: [&quot;default&quot;],</span><br><span class="line">    moduleFileExtensions: [&apos;js&apos;, &apos;jsx&apos;, &apos;ts&apos;, &apos;tsx&apos;],</span><br><span class="line">    moduleDirectories: [&apos;node_modules&apos;],</span><br><span class="line">    moduleNameMapper: &#123;</span><br><span class="line">      &quot;\\.(jpg|jpeg|png|gif|eot|otf|webp|svg|ttf|woff|woff2|mp4|webm|wav|mp3|m4a|aac|oga)$&quot;: &quot;&lt;rootDir&gt;/test/__mocks__/file-mock.js&quot;,</span><br><span class="line">    &#125;,</span><br><span class="line">    testMatch: [&apos;&lt;rootDir&gt;/**/__tests__/**/*.unit.(js|jsx|ts|tsx)&apos;],</span><br><span class="line">    transform: &#123;</span><br><span class="line">      &quot;^.+unit\\.(js|jsx)$&quot;: &quot;babel-jest&quot;,</span><br><span class="line">      &apos;^.+\\.(ts|tsx)$&apos;: &apos;ts-jest&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    setupFilesAfterEnv: [&quot;&lt;rootDir&gt;test/setupTests.js&quot;]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"># 运行 yarn test</span><br><span class="line"></span><br><span class="line">报错</span><br><span class="line">    yarn run v1.10.0</span><br><span class="line">    $ cross-env NODE_ENV=test jest --config=jest.config.js --runInBand</span><br><span class="line">    ● Validation Error:</span><br><span class="line"></span><br><span class="line">    Module ts-jest in the transform option was not found.</span><br><span class="line">            &lt;rootDir&gt; is: /Users/huangjiaxi/Desktop/react-gulu-test-2</span><br><span class="line"></span><br><span class="line">    Configuration Documentation:</span><br><span class="line">    https://jestjs.io/docs/configuration.html</span><br><span class="line"></span><br><span class="line">    error Command failed with exit code 1.</span><br><span class="line">    info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.</span><br><span class="line"></span><br><span class="line"># 安装 ts-jest</span><br><span class="line">yarn add --dev ts-jest</span><br><span class="line"></span><br><span class="line"># 继续运行 yarn test</span><br><span class="line"> </span><br><span class="line"> 又报错了</span><br><span class="line">    $ cross-env NODE_ENV=test jest --config=jest.config.js --runInBand</span><br><span class="line">    ● Validation Error:</span><br><span class="line"></span><br><span class="line">    Module &lt;rootDir&gt;test/setupTests.js in the setupFilesAfterEnv option was not found.</span><br><span class="line">            &lt;rootDir&gt; is: /Users/huangjiaxi/Desktop/react-gulu-test-2</span><br><span class="line"></span><br><span class="line">    Configuration Documentation:</span><br><span class="line">    https://jestjs.io/docs/configuration.html</span><br><span class="line"></span><br><span class="line">    error Command failed with exit code 1.</span><br><span class="line">    info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.</span><br><span class="line"></span><br><span class="line"># 新建 test/setupTests.js</span><br><span class="line"></span><br><span class="line"># 再次运行 yarn test</span><br><span class="line">不报错了 提示没找到任何 test文件 走了</span><br><span class="line">No tests found, exiting with code 1</span><br><span class="line"></span><br><span class="line"># 新建文件 ./lib/__tests__/hello.unit.tsx</span><br><span class="line"></span><br><span class="line">test(&apos;hello&apos;,()=&gt;&#123; &#125;)</span><br><span class="line"></span><br><span class="line"># 此时 test 标红 意思是不知道是啥 你要安装依赖</span><br><span class="line">yarn add @types/jest --dev</span><br><span class="line"></span><br><span class="line"># test()不标红了</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 修改 hello.unit.tsx</span><br><span class="line"></span><br><span class="line">test(&apos;hello&apos;,()=&gt;&#123;</span><br><span class="line">    expect(1).toEqual(2)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"># 运行 yarn test 还是爆错</span><br><span class="line"></span><br><span class="line"># 用 describe</span><br><span class="line"></span><br><span class="line">describe(&apos;我的第一个测试用例&apos;,()=&gt;&#123;</span><br><span class="line">    it(&apos;1 等于 1&apos;,()=&gt;&#123;</span><br><span class="line">        expect(1).toEqual(2)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"># 运行 yarn test 测试生效了</span><br><span class="line"> FAIL  lib/__tests__/hello.unit.tsx</span><br><span class="line">  我的第一个测试用例</span><br><span class="line">    ✕ 1 等于 1 (6ms)</span><br><span class="line"></span><br><span class="line">  ● 我的第一个测试用例 › 1 等于 1</span><br><span class="line"></span><br><span class="line">    expect(received).toEqual(expected)</span><br><span class="line"></span><br><span class="line">    Expected: 2</span><br><span class="line">    Received: 1</span><br><span class="line"></span><br><span class="line">      1 | describe(&apos;我的第一个测试用例&apos;,()=&gt;&#123;</span><br><span class="line">      2 |     it(&apos;1 等于 1&apos;,()=&gt;&#123;</span><br><span class="line">    &gt; 3 |         expect(1).toEqual(2)</span><br><span class="line">        |                   ^</span><br><span class="line">      4 |     &#125;)</span><br><span class="line">      5 | &#125;)</span><br><span class="line"></span><br><span class="line">      at Object.&lt;anonymous&gt; (lib/__tests__/hello.unit.tsx:3:19)</span><br><span class="line"></span><br><span class="line">Test Suites: 1 failed, 1 total</span><br><span class="line">Tests:       1 failed, 1 total</span><br><span class="line">Snapshots:   0 total</span><br><span class="line">Time:        2.444s</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 修改 测试内容 并运行 yarn test</span><br><span class="line"></span><br><span class="line">describe(&apos;我的第一个测试用例&apos;,()=&gt;&#123;</span><br><span class="line">    it(&apos;1 等于 1&apos;,()=&gt;&#123;</span><br><span class="line">        expect(1).toEqual(1)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// 测试通过</span><br><span class="line"> PASS  lib/__tests__/hello.unit.tsx</span><br><span class="line">  我的第一个测试用例</span><br><span class="line">    ✓ 1 等于 1 (3ms)</span><br><span class="line"></span><br><span class="line">Test Suites: 1 passed, 1 total</span><br><span class="line">Tests:       1 passed, 1 total</span><br><span class="line">Snapshots:   0 total</span><br><span class="line">Time:        2.552s</span><br><span class="line">Ran all test suites.</span><br><span class="line">✨  Done in 3.32s.</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="测试-我们的button-能渲染"><a href="#测试-我们的button-能渲染" class="headerlink" title="测试 我们的button 能渲染"></a>测试 我们的button 能渲染</h4></blockquote>
<p>button.unit.tsx</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import renderer from &apos;react-test-renderer&apos;</span><br><span class="line">import React from &apos;react&apos;</span><br><span class="line">import Button from &apos;../button&apos;</span><br><span class="line"></span><br><span class="line">describe(&apos;button&apos;,()=&gt;&#123;</span><br><span class="line">    it(&apos;是个 div&apos;,()=&gt;&#123;</span><br><span class="line">        const json = renderer.create(&lt;Button/&gt;)</span><br><span class="line">            .toJSON()</span><br><span class="line"></span><br><span class="line">        expect(json).toMatchSnapshot()</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// 运行 yarn test</span><br><span class="line">报错 提示</span><br><span class="line">Try `npm install @types/react-test-renderer` if it exists or add a new declaration (.d.ts) file containing `declare module &apos;react-test-renderer&apos;;`</span><br><span class="line"></span><br><span class="line">// 安装 类型依赖</span><br><span class="line">yarn add --dev @types/react-test-renderer</span><br><span class="line"></span><br><span class="line"># 继续运行 yarn test</span><br><span class="line">又报错</span><br><span class="line">Cannot read property &apos;create&apos; of undefined</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="神奇的-import"><a href="#神奇的-import" class="headerlink" title="神奇的 import"></a>神奇的 import</h4></blockquote>
<p>上面之所以失败是因为 jest 写 import 必须这样</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import * as xxx from &apos;xxxx&apos;</span><br></pre></td></tr></table></figure>
<p>button.unit.tsx</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import * as renderer from &apos;react-test-renderer&apos;</span><br><span class="line">import * as React from &apos;react&apos;</span><br><span class="line">import Button from &apos;../button&apos;</span><br><span class="line"></span><br><span class="line">describe(&apos;button&apos;,()=&gt;&#123;</span><br><span class="line">    it(&apos;是个 div&apos;,()=&gt;&#123;</span><br><span class="line">        const json = renderer.create(&lt;Button/&gt;)</span><br><span class="line">            .toJSON()</span><br><span class="line"></span><br><span class="line">        expect(json).toMatchSnapshot()</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>button.tsx</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import * as React from &apos;react&apos;;</span><br><span class="line">function Button()&#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            按钮</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line">export default Button</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="不想要这个-import-as-怎么办"><a href="#不想要这个-import-as-怎么办" class="headerlink" title="不想要这个 import * as 怎么办"></a>不想要这个 import * as 怎么办</h4></blockquote>
<p>tsconfig.test.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;extends&quot;:&quot;./tsconfig.json&quot;,</span><br><span class="line">    // &quot;compilerOptions&quot;:&#123;</span><br><span class="line">        // &quot;module&quot;:&quot;commonjs&quot;</span><br><span class="line">    // &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>jest.config.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">// https://jestjs.io/docs/en/configuration.html</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">    verbose: true,</span><br><span class="line">    clearMocks: false,</span><br><span class="line">    collectCoverage: false,</span><br><span class="line">    reporters: [&quot;default&quot;],</span><br><span class="line">    moduleFileExtensions: [&apos;js&apos;, &apos;jsx&apos;, &apos;ts&apos;, &apos;tsx&apos;],</span><br><span class="line">    moduleDirectories: [&apos;node_modules&apos;],</span><br><span class="line">    globals: &#123;</span><br><span class="line">        &apos;ts-jest&apos;: &#123;</span><br><span class="line">          tsConfig: &apos;tsconfig.test.json&apos;,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    moduleNameMapper: &#123;</span><br><span class="line">      &quot;\\.(jpg|jpeg|png|gif|eot|otf|webp|svg|ttf|woff|woff2|mp4|webm|wav|mp3|m4a|aac|oga)$&quot;: &quot;&lt;rootDir&gt;/test/__mocks__/file-mock.js&quot;,</span><br><span class="line">    &#125;,</span><br><span class="line">    testMatch: [&apos;&lt;rootDir&gt;/**/__tests__/**/*.unit.(js|jsx|ts|tsx)&apos;],</span><br><span class="line">    transform: &#123;</span><br><span class="line">      &quot;^.+unit\\.(js|jsx)$&quot;: &quot;babel-jest&quot;,</span><br><span class="line">      &apos;^.+\\.(ts|tsx)$&apos;: &apos;ts-jest&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    setupFilesAfterEnv: [&quot;&lt;rootDir&gt;test/setupTests.js&quot;]</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>tsconfig.test.json</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;extends&quot;: &quot;./tsconfig.json&quot;,</span><br><span class="line">  //   &quot;compilerOptions&quot;: &#123;</span><br><span class="line">  //     &quot;module&quot;: &quot;commonjs&quot;</span><br><span class="line">  //   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>tsconfig.json</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;compilerOptions&quot;: &#123;</span><br><span class="line">      &quot;outDir&quot;: &quot;dist&quot;,</span><br><span class="line">      &quot;declaration&quot;: true,</span><br><span class="line">      &quot;baseUrl&quot;: &quot;.&quot;,</span><br><span class="line">      &quot;module&quot;: &quot;esnext&quot;,</span><br><span class="line">      &quot;target&quot;: &quot;es5&quot;,</span><br><span class="line">      &quot;lib&quot;: [&quot;es6&quot;, &quot;dom&quot;],</span><br><span class="line">      &quot;sourceMap&quot;: true,</span><br><span class="line">      &quot;jsx&quot;: &quot;react&quot;,</span><br><span class="line">      &quot;moduleResolution&quot;: &quot;node&quot;,</span><br><span class="line">      &quot;rootDir&quot;: &quot;.&quot;,</span><br><span class="line">      &quot;forceConsistentCasingInFileNames&quot;: true,</span><br><span class="line">      &quot;noImplicitReturns&quot;: true,</span><br><span class="line">      &quot;noImplicitThis&quot;: true,</span><br><span class="line">      &quot;noImplicitAny&quot;: true,</span><br><span class="line">      &quot;importHelpers&quot;: true,</span><br><span class="line">      &quot;strictNullChecks&quot;: true,</span><br><span class="line">      // &quot;suppressImplicitAnyIndexErrors&quot;: true,</span><br><span class="line">      // https://github.com/Microsoft/TypeScript/issues/28762#issuecomment-443406607</span><br><span class="line">      // &quot;allowSyntheticDefaultImports&quot;: true,</span><br><span class="line">      &quot;esModuleInterop&quot;: true,</span><br><span class="line">      &quot;noUnusedLocals&quot;: true</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;include&quot;: [</span><br><span class="line">    ],</span><br><span class="line">    &quot;exclude&quot;: [</span><br><span class="line">      &quot;node_modules&quot;,</span><br><span class="line">      &quot;build&quot;,</span><br><span class="line">      &quot;dist&quot;,</span><br><span class="line">      &quot;scripts&quot;,</span><br><span class="line">      &quot;acceptance-tests&quot;,</span><br><span class="line">      &quot;webpack&quot;,</span><br><span class="line">      &quot;jest&quot;,</span><br><span class="line">      &quot;src/setupTests.ts&quot;,</span><br><span class="line">      &quot;*.js&quot;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>tslint.json</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;extends&quot;: [&quot;tslint:recommended&quot;, &quot;tslint-react&quot;],</span><br><span class="line">    &quot;rules&quot;: &#123;</span><br><span class="line">      &quot;no-console&quot;: [false, &quot;log&quot;, &quot;error&quot;],</span><br><span class="line">      &quot;jsx-no-multiline-js&quot;: false,</span><br><span class="line">      &quot;whitespace&quot;: false,</span><br><span class="line">      &quot;no-empty-interface&quot;: false,</span><br><span class="line">      &quot;space-before-function-paren&quot;: false,</span><br><span class="line">      &quot;no-namespace&quot;: false,</span><br><span class="line">      &quot;label-position&quot;: false,</span><br><span class="line">      &quot;quotemark&quot;: [true, &quot;single&quot;, &quot;jsx-double&quot;],</span><br><span class="line">      &quot;member-access&quot;: false,</span><br><span class="line">      &quot;semicolon&quot;: [true, &quot;always&quot;, &quot;ignore-bound-class-methods&quot;],</span><br><span class="line">      &quot;no-unused-expression&quot;: [true, &quot;allow-fast-null-checks&quot;],</span><br><span class="line">      &quot;member-ordering&quot;: false,</span><br><span class="line">      &quot;trailing-comma&quot;: false,</span><br><span class="line">      &quot;arrow-parens&quot;: false,</span><br><span class="line">      &quot;jsx-self-close&quot;: false,</span><br><span class="line">      &quot;max-line-length&quot;: false,</span><br><span class="line">      &quot;interface-name&quot;: false,</span><br><span class="line">      &quot;no-empty&quot;: false,</span><br><span class="line">      &quot;comment-format&quot;: false,</span><br><span class="line">      &quot;ordered-imports&quot;: false,</span><br><span class="line">      &quot;object-literal-sort-keys&quot;: false,</span><br><span class="line">      &quot;eofline&quot;: false,</span><br><span class="line">      &quot;jsx-no-lambda&quot;: false,</span><br><span class="line">      &quot;no-trailing-whitespace&quot;: false,</span><br><span class="line">      &quot;jsx-alignment&quot;: false,</span><br><span class="line">      &quot;jsx-wrap-multilines&quot;: false,</span><br><span class="line">      &quot;no-shadowed-variable&quot;: [</span><br><span class="line">        false,</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;class&quot;: true,</span><br><span class="line">          &quot;enum&quot;: true,</span><br><span class="line">          &quot;function&quot;: false,</span><br><span class="line">          &quot;interface&quot;: false,</span><br><span class="line">          &quot;namespace&quot;: true,</span><br><span class="line">          &quot;typeAlias&quot;: false,</span><br><span class="line">          &quot;typeParameter&quot;: false</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;linterOptions&quot;: &#123;</span><br><span class="line">      &quot;exclude&quot;: [</span><br><span class="line">        &quot;config/**/*.js&quot;,</span><br><span class="line">        &quot;node_modules/**/*.ts&quot;,</span><br><span class="line">        &quot;coverage/lcov-report/*.js&quot;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>button.unit.tsx</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import * as renderer from &apos;react-test-renderer&apos;</span><br><span class="line">import React from &apos;react&apos;</span><br><span class="line">import Button from &apos;../button&apos;</span><br><span class="line"></span><br><span class="line">describe(&apos;button&apos;,()=&gt;&#123;</span><br><span class="line">    it(&apos;是个 div&apos;,()=&gt;&#123;</span><br><span class="line">        const json = renderer.create(&lt;Button/&gt;)</span><br><span class="line">            .toJSON()</span><br><span class="line"></span><br><span class="line">        expect(json).toMatchSnapshot()</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>button.tsx</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import React from &apos;react&apos;;</span><br><span class="line">function Button()&#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            按钮2</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Button</span><br></pre></td></tr></table></figure>
<p>运行 yarn test 成功！！！</p>
<h4 id="代码链接"><a href="#代码链接" class="headerlink" title="代码链接"></a>代码链接</h4><ul>
<li><a href="https://github.com/slTrust/react-gulu-test-1" target="_blank" rel="noopener">https://github.com/slTrust/react-gulu-test-1</a> 第一步</li>
<li><a href="https://github.com/slTrust/react-gulu-test-2" target="_blank" rel="noopener">https://github.com/slTrust/react-gulu-test-2</a> 第二步</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/03/18/ReactWheels03-02环境搭建2/" data-id="cknvgpu4p00o10xjpyosn7cvf" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ReactWheels/">ReactWheels</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-ReactWheels03-01环境搭建" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/16/ReactWheels03-01环境搭建/" class="article-date">
  <time datetime="2019-03-16T14:10:59.000Z" itemprop="datePublished">2019-03-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/16/ReactWheels03-01环境搭建/">ReactWheels03-01环境搭建</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="如何快速学会项目搭建"><a href="#如何快速学会项目搭建" class="headerlink" title="如何快速学会项目搭建"></a>如何快速学会项目搭建</h3><ul>
<li><p>不可能</p>
<p>只能随机应变，遇到问题就去搜相关 issues 文档和讨论(英文)</p>
</li>
</ul>
<blockquote>
<p>步骤</p>
</blockquote>
<ol>
<li>创建目录和远程仓库</li>
<li>npm初始化</li>
<li>新建 lib/index.tsx</li>
<li>新建 webpack.config.js<ol>
<li>配置 entry</li>
<li>配置 output</li>
<li>配置 module.rules<ul>
<li>jsx</li>
<li>tsx</li>
<li>scss</li>
</ul>
</li>
<li>配置 plugins</li>
</ol>
</li>
<li>配置 webpack-dev-server 和 webpack.config.dev.js</li>
<li>创建 index.html</li>
<li>配置 webpack.config.prod.js</li>
<li>创建 examples 预览 与 webpack.config.docs.js</li>
<li>引入测试</li>
<li>引入 CI</li>
<li>配置 tsconfig.json 和 tslint.json</li>
<li>配置 scripts<ol>
<li>yarn start</li>
<li>yarn build</li>
</ol>
</li>
<li>自定义任务<ol>
<li>yarn task create component xxx 快捷入口</li>
</ol>
</li>
</ol>
<h4 id="实现步骤"><a href="#实现步骤" class="headerlink" title="实现步骤"></a>实现步骤</h4><ol>
<li><p>创建远程仓库 如 hjx-test-1 之后 复制 仓库地址</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">把仓库拉到你本地 </span><br><span class="line">cd ~/Desktop  </span><br><span class="line">git clone git@github.com:slTrust/hjx-test-1.git</span><br><span class="line">进入你的仓库目录</span><br><span class="line">cd hjx-test-1</span><br></pre></td></tr></table></figure>
</li>
<li><p>初始化 package.json</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">npm init -y 回车</span><br><span class="line"></span><br><span class="line">安装 webpack   https://webpack.js.org/  找到 get started 点进去</span><br><span class="line">    npm install webpack webpack-cli --save-dev</span><br><span class="line">    但是最好不要用 npm 用 yarn   </span><br><span class="line">    // --dev 就是开发者依赖</span><br><span class="line">    // yarn add webpack webpack-cli --dev</span><br><span class="line">    // 为保持一直 跟我一个版本</span><br><span class="line">    yarn add webpack@4.29.6  webpack-cli@3.2.3 --dev</span><br></pre></td></tr></table></figure>
</li>
<li><p>新建 lib/index.tsx</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">csonole.log(&apos;hi&apos;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>新建 webpack.config.js</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">    entry: &#123;</span><br><span class="line">        index: &apos;./lib/index.tsx&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    module:&#123;</span><br><span class="line">        rules:[</span><br><span class="line">            &#123;</span><br><span class="line">                test:/\.tsx?$/,</span><br><span class="line">                loader: &apos;awesome-typescript-loader&apos;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 正则  /\.tsx?$/  代表匹配 .tsx 结尾或者 .ts 结尾的</span><br><span class="line"></span><br><span class="line">// 配置输出路径  </span><br><span class="line">本来想这样  ./dist </span><br><span class="line">但是不知道为什么 都会引入一个path</span><br><span class="line">    const path = require(&apos;path&apos;)</span><br><span class="line">    ...</span><br><span class="line">    output:&#123;</span><br><span class="line">        path:__dirname + &apos;/dist&apos;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">// 此时有一个问题  不能这样 因为不同操作系统是目录的分隔符不同的   </span><br><span class="line">    - mac /  </span><br><span class="line">    - windows \</span><br><span class="line">// 所以应该这样</span><br><span class="line">path:path.resolve(__dirname,&apos;dist/lib&apos;)</span><br><span class="line"></span><br><span class="line">// 我们输出的 文件应该有个文件名 实际就是 entry 里的 key</span><br><span class="line"></span><br><span class="line">output:&#123;</span><br><span class="line">    path:path.resolve(__dirname,&apos;dist/lib&apos;),</span><br><span class="line">    library:&apos;FUI&apos;,</span><br><span class="line">    libraryTarget:&apos;umd&apos;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">// umd 是什么</span><br><span class="line">以前 前端 很分裂的</span><br><span class="line">出现过 require.js  来加载模块 它是 amd 的</span><br><span class="line">后来 nodejs 出了自己的模块化  它是 commonjs 规范</span><br><span class="line"></span><br><span class="line">require.js 只在浏览器使用</span><br><span class="line">nodejs 只在 node 里用</span><br><span class="line"></span><br><span class="line">于是你用的时候 就很烦 如何区分你是浏览器还是 node呢？ </span><br><span class="line">- umd 出现了 统一模块定义</span><br><span class="line">- 所谓 umd 就是根据一些特征选择 不同的定义方式 都没有就是window</span><br><span class="line">    if(define)</span><br><span class="line">        // require.js</span><br><span class="line">    else if (module)</span><br><span class="line">        // commonJS</span><br></pre></td></tr></table></figure>
</li>
</ol>
<pre><code>webpack.config.js

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">const path = require(&apos;path&apos;)</span><br><span class="line">module.exports = &#123;</span><br><span class="line">    entry: &#123;</span><br><span class="line">        index: &apos;./lib/index.tsx&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    output:&#123;</span><br><span class="line">        path:path.resolve(__dirname,&apos;dist/lib&apos;),</span><br><span class="line">        library:&apos;FUI&apos;,</span><br><span class="line">        libraryTarget:&apos;umd&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    module:&#123;</span><br><span class="line">        rules:[</span><br><span class="line">            &#123;</span><br><span class="line">                test:/\.tsx?$/,</span><br><span class="line">                loader: &apos;awesome-typescript-loader&apos;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

运行 npx webpack 
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">报错 awesome-typescript-loader 不存在</span><br><span class="line">yarn add awesome-typescript-loader@5.2.1  --dev</span><br><span class="line"># 为什么 --dev因为 只有开发者才用到</span><br><span class="line">报错，说你没安装 ts</span><br><span class="line">yarn add typescript@3.3 --dev</span><br></pre></td></tr></table></figure>

新建 tslint.json

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;extends&quot;: [&quot;tslint:recommended&quot;, &quot;tslint-react&quot;],</span><br><span class="line">    &quot;rules&quot;: &#123;</span><br><span class="line">    &quot;no-console&quot;: [false, &quot;log&quot;, &quot;error&quot;],</span><br><span class="line">    &quot;jsx-no-multiline-js&quot;: false,</span><br><span class="line">    &quot;whitespace&quot;: false,</span><br><span class="line">    &quot;no-empty-interface&quot;: false,</span><br><span class="line">    &quot;space-before-function-paren&quot;: false,</span><br><span class="line">    &quot;no-namespace&quot;: false,</span><br><span class="line">    &quot;label-position&quot;: false,</span><br><span class="line">    &quot;quotemark&quot;: [true, &quot;single&quot;, &quot;jsx-double&quot;],</span><br><span class="line">    &quot;member-access&quot;: false,</span><br><span class="line">    &quot;semicolon&quot;: [true, &quot;always&quot;, &quot;ignore-bound-class-methods&quot;],</span><br><span class="line">    &quot;no-unused-expression&quot;: [true, &quot;allow-fast-null-checks&quot;],</span><br><span class="line">    &quot;member-ordering&quot;: false,</span><br><span class="line">    &quot;trailing-comma&quot;: false,</span><br><span class="line">    &quot;arrow-parens&quot;: false,</span><br><span class="line">    &quot;jsx-self-close&quot;: false,</span><br><span class="line">    &quot;max-line-length&quot;: false,</span><br><span class="line">    &quot;interface-name&quot;: false,</span><br><span class="line">    &quot;no-empty&quot;: false,</span><br><span class="line">    &quot;comment-format&quot;: false,</span><br><span class="line">    &quot;ordered-imports&quot;: false,</span><br><span class="line">    &quot;object-literal-sort-keys&quot;: false,</span><br><span class="line">    &quot;eofline&quot;: false,</span><br><span class="line">    &quot;jsx-no-lambda&quot;: false,</span><br><span class="line">    &quot;no-trailing-whitespace&quot;: false,</span><br><span class="line">    &quot;jsx-alignment&quot;: false,</span><br><span class="line">    &quot;jsx-wrap-multilines&quot;: false,</span><br><span class="line">    &quot;no-shadowed-variable&quot;: [</span><br><span class="line">        false,</span><br><span class="line">        &#123;</span><br><span class="line">        &quot;class&quot;: true,</span><br><span class="line">        &quot;enum&quot;: true,</span><br><span class="line">        &quot;function&quot;: false,</span><br><span class="line">        &quot;interface&quot;: false,</span><br><span class="line">        &quot;namespace&quot;: true,</span><br><span class="line">        &quot;typeAlias&quot;: false,</span><br><span class="line">        &quot;typeParameter&quot;: false</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;linterOptions&quot;: &#123;</span><br><span class="line">    &quot;exclude&quot;: [</span><br><span class="line">        &quot;config/**/*.js&quot;,</span><br><span class="line">        &quot;node_modules/**/*.ts&quot;,</span><br><span class="line">        &quot;coverage/lcov-report/*.js&quot;</span><br><span class="line">    ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

新建 tsconfig.json

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;compilerOptions&quot;: &#123;</span><br><span class="line">        &quot;declaration&quot;: true,</span><br><span class="line">        &quot;baseUrl&quot;: &quot;.&quot;,</span><br><span class="line">        &quot;module&quot;: &quot;esnext&quot;,</span><br><span class="line">        &quot;target&quot;: &quot;es5&quot;,</span><br><span class="line">        &quot;lib&quot;: [&quot;es6&quot;, &quot;dom&quot;],</span><br><span class="line">        &quot;sourceMap&quot;: true,</span><br><span class="line">        &quot;jsx&quot;: &quot;react&quot;,</span><br><span class="line">        &quot;moduleResolution&quot;: &quot;node&quot;,</span><br><span class="line">        &quot;rootDir&quot;: &quot;.&quot;,</span><br><span class="line">        &quot;forceConsistentCasingInFileNames&quot;: true,</span><br><span class="line">        &quot;noImplicitReturns&quot;: true,</span><br><span class="line">        &quot;noImplicitThis&quot;: true,</span><br><span class="line">        &quot;noImplicitAny&quot;: true,</span><br><span class="line">        &quot;importHelpers&quot;: true,</span><br><span class="line">        &quot;strictNullChecks&quot;: true,</span><br><span class="line">        // &quot;suppressImplicitAnyIndexErrors&quot;: true,</span><br><span class="line">        // https://github.com/Microsoft/TypeScript/issues/28762#issuecomment-443406607</span><br><span class="line">        &quot;allowSyntheticDefaultImports&quot;: true,</span><br><span class="line">        &quot;noUnusedLocals&quot;: true</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;include&quot;: [</span><br><span class="line">    ],</span><br><span class="line">    &quot;exclude&quot;: [</span><br><span class="line">    &quot;node_modules&quot;,</span><br><span class="line">    &quot;build&quot;,</span><br><span class="line">    &quot;dist&quot;,</span><br><span class="line">    &quot;scripts&quot;,</span><br><span class="line">    &quot;acceptance-tests&quot;,</span><br><span class="line">    &quot;webpack&quot;,</span><br><span class="line">    &quot;jest&quot;,</span><br><span class="line">    &quot;src/setupTests.ts&quot;,</span><br><span class="line">    &quot;*.js&quot;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

npx webpack 

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">报错 mode 模式没定义</span><br><span class="line">// 先定义为 生产环境 在webpack.config.js里</span><br><span class="line">mode:&apos;production&apos;,</span><br><span class="line"></span><br><span class="line">继续 运行</span><br><span class="line">npx webpack 成功</span><br></pre></td></tr></table></figure>
</code></pre><h4 id="npm-install-参数的区别"><a href="#npm-install-参数的区别" class="headerlink" title="npm install 参数的区别"></a>npm install 参数的区别</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">npm install --save  给用户用</span><br><span class="line"></span><br><span class="line">npm install --save-dev  只给程序员用</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">React  --save</span><br><span class="line">Jquery  --save   用户那边也要运行</span><br><span class="line"></span><br><span class="line">Webpack  --dev   只有程序员需要打包</span><br><span class="line">ts --dev   用户那边只用js啊 所以不会有ts</span><br><span class="line"></span><br><span class="line">如果你不加 默认 是 --save 的</span><br></pre></td></tr></table></figure>
<blockquote>
<p>缩写</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">--save  简写 -S</span><br><span class="line">--dev 简写 -D</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="如果你用yarn"><a href="#如果你用yarn" class="headerlink" title="如果你用yarn"></a>如果你用yarn</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yarn add  &lt;===&gt; npm install --save</span><br><span class="line">yarn add --dev  &lt;===&gt; npm install --save-dev</span><br></pre></td></tr></table></figure>
<h4 id="umd是干啥的？"><a href="#umd是干啥的？" class="headerlink" title="umd是干啥的？"></a>umd是干啥的？</h4><p>告诉代码封装成什么样的代码定义</p>
<ul>
<li>commonjs</li>
<li>amd</li>
<li>umd 兼容前两种</li>
</ul>
<h3 id="如何做到自动打包呢？"><a href="#如何做到自动打包呢？" class="headerlink" title="如何做到自动打包呢？"></a>如何做到自动打包呢？</h3><p>webpack-dev-server</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 安装  webpack-dev-server</span><br><span class="line">yarn add webpack-dev-server --dev</span><br><span class="line"></span><br><span class="line"># 为保持一直我的版本是这个</span><br><span class="line">yarn add webpack-dev-server@3.2.1 --dev</span><br><span class="line"># 建议用这个版本 上面的会出现版本不匹配</span><br><span class="line">yarn add webpack-dev-server@3.7.2 --dev</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">安装完成后运行</span><br><span class="line">npx webpack-dev-server</span><br><span class="line"></span><br><span class="line">默认给你一个网址 http://localhost:8080/</span><br><span class="line"></span><br><span class="line">http://localhost:8080/index.js </span><br><span class="line">改动一下index.js发现代码就改变了(注意要自己刷新浏览器)</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="webpack-dev-server-是干嘛的？"><a href="#webpack-dev-server-是干嘛的？" class="headerlink" title="webpack-dev-server 是干嘛的？"></a>webpack-dev-server 是干嘛的？</h4></blockquote>
<ul>
<li>webpack 是 把一个1.tsx 打包为 1.js</li>
<li>webpack-dev-server  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">会开一个server 默认是 http://localhost:8080/</span><br><span class="line">然后</span><br><span class="line">    你访问 http://localhost:8080/index.js  时</span><br><span class="line">    去找 index.js发现没有 但是发现有个 index.tsx</span><br><span class="line">    于是把 index.tsx 翻译成 index.js的字符串 放在内存里</span><br><span class="line">    注意此时的 index.js 并不是 dist里的文件</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>此时我们还是无法继续写代码，因为只有js 没有 html</p>
</blockquote>
<h3 id="如何引入html文件呢"><a href="#如何引入html文件呢" class="headerlink" title="如何引入html文件呢"></a>如何引入html文件呢</h3><ul>
<li>如果我们自己创建一个 index.html 里面引入 ./dist/lib/index.js </li>
<li>index.js 的文件名你想改咋办，它是跟 webpack.config.js 里的 entry里 写的 </li>
<li>改要改两个地方</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;script src=&quot;./dist/lib/index.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="自动写入index-js"><a href="#自动写入index-js" class="headerlink" title="自动写入index.js"></a>自动写入index.js</h4></blockquote>
<ul>
<li><h4 id="html-webpack-plugin-改写-html的插件"><a href="#html-webpack-plugin-改写-html的插件" class="headerlink" title="html-webpack-plugin 改写 html的插件"></a>html-webpack-plugin 改写 html的插件</h4></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 由插件写入 --&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>过程</p>
</blockquote>
<p>根目录新建 index.html</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    你好</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">yarn add html-webpack-plugin@3.2.0 --dev</span><br><span class="line"></span><br><span class="line">改写 webpack.config.js</span><br><span class="line"></span><br><span class="line">const path = require(&apos;path&apos;)</span><br><span class="line">const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)</span><br><span class="line">module.exports = &#123;</span><br><span class="line">    mode:&apos;production&apos;,</span><br><span class="line">    entry: &#123;</span><br><span class="line">        index: &apos;./lib/index.tsx&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    output:&#123;</span><br><span class="line">        path:path.resolve(__dirname,&apos;dist/lib&apos;),</span><br><span class="line">        library:&apos;FUI&apos;,</span><br><span class="line">        libraryTarget:&apos;umd&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    module:&#123;</span><br><span class="line">        rules:[</span><br><span class="line">            &#123;</span><br><span class="line">                test:/\.tsx?$/,</span><br><span class="line">                loader: &apos;awesome-typescript-loader&apos;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins:[</span><br><span class="line">        new HtmlWebpackPlugin(&#123;</span><br><span class="line">            template:&apos;index.html&apos;</span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">修改 index.tsx</span><br><span class="line"></span><br><span class="line">console.log(&apos;hi4&apos;);</span><br><span class="line">const div = document.createElement(&apos;div&apos;)</span><br><span class="line">div.innerText = &apos;div&apos;</span><br><span class="line">document.body.appendChild(div);</span><br><span class="line"></span><br><span class="line">重新运行 </span><br><span class="line">npx webpack-dev-server 刷新浏览器 里面就有了 div</span><br></pre></td></tr></table></figure>
<p><strong>html-webpack-plugin</strong>的功能就是在index.html里插入一个script标签引入我们打包编译后的index.js</p>
<blockquote>
<h4 id="代码地址"><a href="#代码地址" class="headerlink" title="代码地址"></a>代码地址</h4></blockquote>
<ul>
<li><a href="https://github.com/slTrust/react-gulu-test-1" target="_blank" rel="noopener">https://github.com/slTrust/react-gulu-test-1</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/03/16/ReactWheels03-01环境搭建/" data-id="cknvgpu4l00nt0xjpi04xxit0" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ReactWheels/">ReactWheels</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Vue_001路由" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/16/Vue_001路由/" class="article-date">
  <time datetime="2019-03-16T05:37:37.000Z" itemprop="datePublished">2019-03-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/16/Vue_001路由/">Vue_001路由</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="前端路由实现思路"><a href="#前端路由实现思路" class="headerlink" title="前端路由实现思路"></a>前端路由实现思路</h3><ul>
<li>路由是什么</li>
<li>hash模式？history模式？memory模式</li>
<li>Vue-Router源码</li>
<li>正则表达式的使用</li>
<li>VueRouter的一些API</li>
</ul>
<h4 id="什么是路由"><a href="#什么是路由" class="headerlink" title="什么是路由"></a>什么是路由</h4><blockquote>
<p>先看什么是上网路由</p>
</blockquote>
<ul>
<li><h4 id="分发请求的对象"><a href="#分发请求的对象" class="headerlink" title="分发请求的对象"></a>分发请求的对象</h4></li>
</ul>
<p>你在家里如何访问百度/腾讯/淘宝的呢？</p>
<ul>
<li>你先得有一个路由器</li>
<li>输入一个地址 如 <a href="http://www.baidu.com" target="_blank" rel="noopener">www.baidu.com</a></li>
<li>假设你家里是电信的宽带，路由访问电信</li>
<li>电信找到 百度的首页给你返回</li>
</ul>
<blockquote>
<h4 id="停止学习框架，为什么"><a href="#停止学习框架，为什么" class="headerlink" title="停止学习框架，为什么"></a>停止学习框架，为什么</h4></blockquote>
<ul>
<li>angular</li>
<li>vue</li>
<li>react </li>
</ul>
<p>都有各自的路由，你学框架要学三遍</p>
<ul>
<li>我们应该学好基础</li>
</ul>
<h4 id="前端路由"><a href="#前端路由" class="headerlink" title="前端路由"></a>前端路由</h4><blockquote>
<h4 id="需求：实现如下图所示的路由功能-hash路由"><a href="#需求：实现如下图所示的路由功能-hash路由" class="headerlink" title="需求：实现如下图所示的路由功能(hash路由)"></a>需求：实现如下图所示的路由功能(hash路由)</h4></blockquote>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/gulu/g33_01.png" alt></p>
<ul>
<li>打开 <a href="https://codesandbox.io/" target="_blank" rel="noopener">https://codesandbox.io/</a> 新建一个原生js应用</li>
</ul>
<p>index.html </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;Parcel Sandbox&lt;/title&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line"></span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;a href=&quot;#1&quot;&gt;go to 1&lt;/a&gt; </span><br><span class="line">    &lt;a href=&quot;#2&quot;&gt;go to 2&lt;/a&gt; </span><br><span class="line">    &lt;a href=&quot;#3&quot;&gt;go to 3&lt;/a&gt;</span><br><span class="line">    &lt;a href=&quot;#4&quot;&gt;go to 4&lt;/a&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div id=&quot;div404&quot; style=&quot;display: none;&quot;&gt;你要找的内容被狗吃了&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script src=&quot;src/index.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>index.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">const app = document.querySelector(&quot;#app&quot;);</span><br><span class="line">const div1 = document.createElement(&quot;div&quot;);</span><br><span class="line">div1.innerHTML = &quot;1&quot;;</span><br><span class="line">const div2 = document.createElement(&quot;div&quot;);</span><br><span class="line">div2.innerHTML = &quot;2&quot;;</span><br><span class="line">const div3 = document.createElement(&quot;div&quot;);</span><br><span class="line">div3.innerHTML = &quot;3&quot;;</span><br><span class="line">const div4 = document.createElement(&quot;div&quot;);</span><br><span class="line">div4.innerHTML = &quot;4&quot;;</span><br><span class="line">const routeTable = &#123;</span><br><span class="line">  &quot;1&quot;: div1,</span><br><span class="line">  &quot;2&quot;: div2,</span><br><span class="line">  &quot;3&quot;: div3,</span><br><span class="line">  &quot;4&quot;: div4</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function route(container) &#123;</span><br><span class="line">  let number = window.location.hash.substr(1);</span><br><span class="line">  // 默认路由</span><br><span class="line">  number = number || 1;</span><br><span class="line"></span><br><span class="line">  // 获取界面</span><br><span class="line">  let div = routeTable[number.toString()];</span><br><span class="line">  // 兜底路由，当你访问的路由不存在时候</span><br><span class="line">  if (!div) &#123;</span><br><span class="line">    div = document.querySelector(&quot;#div404&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  // 展示界面</span><br><span class="line">  container.innerHTML = &quot;&quot;;</span><br><span class="line">  container.appendChild(div);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">route(app);</span><br><span class="line"></span><br><span class="line">window.addEventListener(&quot;hashchange&quot;, () =&gt; &#123;</span><br><span class="line">  console.log(&quot;hash 变了&quot;);</span><br><span class="line">  route(app);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>重点是 监听 hash 改变的事件 hashchange</li>
<li><a href="https://codesandbox.io/s/zrj90w7pjl" target="_blank" rel="noopener">在线代码</a></li>
</ul>
<blockquote>
<h4 id="嵌套路由实现-只说原理不写代码"><a href="#嵌套路由实现-只说原理不写代码" class="headerlink" title="嵌套路由实现(只说原理不写代码)"></a>嵌套路由实现(只说原理不写代码)</h4></blockquote>
<p>继续以 hash 模式来说</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#1</span><br><span class="line">#2</span><br><span class="line">#3</span><br><span class="line">#4</span><br><span class="line"></span><br><span class="line">如何嵌套呢？</span><br><span class="line">只能这样</span><br><span class="line">#1/1.1</span><br><span class="line">#1/1.2</span><br><span class="line">#1/1.3</span><br><span class="line"></span><br><span class="line">// 思路</span><br><span class="line">// 假如 当前路由是 #1/1.1</span><br><span class="line">let routerPath = window.location.hash.substr(1);  // 1/1.1</span><br><span class="line">let arr = routerPath.split(&apos;/&apos;) // [&apos;1&apos;,&apos;1.1&apos;]</span><br><span class="line"></span><br><span class="line">再去进一步的匹配路由</span><br></pre></td></tr></table></figure>
<h3 id="hash-history-memory-路由的区别"><a href="#hash-history-memory-路由的区别" class="headerlink" title="hash / history / memory 路由的区别"></a>hash / history / memory 路由的区别</h3><ul>
<li><p>hash 任何情况下都可以使用的前端路由</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">缺点 SEO 不友好(根源是因为服务器收不到 hash)</span><br><span class="line"></span><br><span class="line">打开 chrome  访问 https://www.baidu.com#1</span><br><span class="line">点击 network</span><br><span class="line">点击 network</span><br><span class="line">点击 network</span><br><span class="line">发现，url 为  https://www.baidu.com  hash被吃了</span><br><span class="line"></span><br><span class="line">结论：浏览器不会把 # 号之后的内容发给浏览器的</span><br><span class="line">这就导致： </span><br><span class="line">        https://www.baidu.com#1  </span><br><span class="line">        https://www.baidu.com#abc</span><br><span class="line">        https://www.baidu.com#hjx</span><br><span class="line">        </span><br><span class="line">        三个页面有自己的内容</span><br><span class="line"></span><br><span class="line">        最后实际请求的都是 https://www.baidu.com</span><br><span class="line"></span><br><span class="line">        这样 google收录后永远都会展示默认页面https://www.baidu.com 的内容(默认路由)</span><br></pre></td></tr></table></figure>
</li>
<li><p>history 后端把所有前端路由都渲染同一页面</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">唯一缺点 IE8以下不支持</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="history-模式"><a href="#history-模式" class="headerlink" title="history 模式"></a>history 模式</h3><p>index.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">const app = document.querySelector(&quot;#app&quot;);</span><br><span class="line">const div1 = document.createElement(&quot;div&quot;);</span><br><span class="line">div1.innerHTML = &quot;1&quot;;</span><br><span class="line">const div2 = document.createElement(&quot;div&quot;);</span><br><span class="line">div2.innerHTML = &quot;2&quot;;</span><br><span class="line">const div3 = document.createElement(&quot;div&quot;);</span><br><span class="line">div3.innerHTML = &quot;3&quot;;</span><br><span class="line">const div4 = document.createElement(&quot;div&quot;);</span><br><span class="line">div4.innerHTML = &quot;4&quot;;</span><br><span class="line">const routeTable = &#123;</span><br><span class="line">  &quot;/1&quot;: div1,</span><br><span class="line">  &quot;/2&quot;: div2,</span><br><span class="line">  &quot;/3&quot;: div3,</span><br><span class="line">  &quot;/4&quot;: div4</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function route(container) &#123;</span><br><span class="line">  let number = window.location.pathname;</span><br><span class="line">  console.log(&quot;number: &quot; + number);</span><br><span class="line"></span><br><span class="line">  if (number === &quot;/&quot;) &#123;</span><br><span class="line">    number = &quot;/1&quot;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // 获取界面</span><br><span class="line">  let div = routeTable[number.toString()];</span><br><span class="line">  if (!div) &#123;</span><br><span class="line">    div = document.querySelector(&quot;#div404&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  div.style.display = &quot;block&quot;;</span><br><span class="line"></span><br><span class="line">  // 展示界面</span><br><span class="line">  container.innerHTML = &quot;&quot;;</span><br><span class="line">  container.appendChild(div);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const allA = document.querySelectorAll(&quot;a.link&quot;);</span><br><span class="line"></span><br><span class="line">for (let a of allA) &#123;</span><br><span class="line">  a.addEventListener(&quot;click&quot;, e =&gt; &#123;</span><br><span class="line">    e.preventDefault();</span><br><span class="line">    const href = a.getAttribute(&quot;href&quot;);</span><br><span class="line">    window.history.pushState(null, `page $&#123;href&#125;`, href);</span><br><span class="line">    // 通知</span><br><span class="line">    onStateChange(href);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">route(app);</span><br><span class="line"></span><br><span class="line">function onStateChange() &#123;</span><br><span class="line">  console.log(&quot;state 变了&quot;);</span><br><span class="line">  route(app);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>index.html</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;Parcel Sandbox&lt;/title&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line"></span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;a class=&quot;link&quot; href=&quot;/1&quot;&gt;go to 1&lt;/a&gt; </span><br><span class="line">    &lt;a class=&quot;link&quot; href=&quot;/2&quot;&gt;go to 2&lt;/a&gt;</span><br><span class="line">    &lt;a class=&quot;link&quot; href=&quot;/3&quot;&gt;go to 3&lt;/a&gt; </span><br><span class="line">    &lt;a class=&quot;link&quot; href=&quot;/4&quot;&gt;go to 4&lt;/a&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div id=&quot;div404&quot; style=&quot;display: none;&quot;&gt;你要找的内容被狗吃了&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script src=&quot;src/index.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><a href="https://codesandbox.io/s/j777j3xl5v" target="_blank" rel="noopener">在线代码</a></li>
</ul>
<blockquote>
<h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4></blockquote>
<ul>
<li><p>如果单纯改变 pathname 每次改变路由到会造成页面刷新</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.location.pathname // 默认会带一个 &quot;/&quot; 开头</span><br></pre></td></tr></table></figure>
</li>
<li><p>必须结合 history API</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">如果你用a标签触发路由改变，要阻止a它的默认事件(不阻止就刷新页面)</span><br><span class="line">// 劫持点击事件</span><br><span class="line">aLink.addEventListener(&apos;click&apos;,(e)=&gt;&#123;</span><br><span class="line">    // 阻止默认事件</span><br><span class="line">    e.preventDefault();</span><br><span class="line">    // 触发 history API</span><br><span class="line">    const path = aLink.getAttribute(&apos;href&apos;);</span><br><span class="line">    window.history.pushState(null,null,path);</span><br><span class="line">    // 通知 路由事件</span><br><span class="line">    onStateChange();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="memory-模式-前端一般不用-因为没有任何url-单机版路由"><a href="#memory-模式-前端一般不用-因为没有任何url-单机版路由" class="headerlink" title="memory 模式(前端一般不用,因为没有任何url) 单机版路由"></a>memory 模式(前端一般不用,因为没有任何url) 单机版路由</h3><blockquote>
<p>原理就是把 路由存在 localStorage /或者本地里<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">此模式适合非浏览器 </span><br><span class="line">    - app</span><br><span class="line">    - react native</span><br><span class="line">    - weex</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>index.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">const app = document.querySelector(&quot;#app&quot;);</span><br><span class="line">const div1 = document.createElement(&quot;div&quot;);</span><br><span class="line">div1.innerHTML = &quot;1&quot;;</span><br><span class="line">const div2 = document.createElement(&quot;div&quot;);</span><br><span class="line">div2.innerHTML = &quot;2&quot;;</span><br><span class="line">const div3 = document.createElement(&quot;div&quot;);</span><br><span class="line">div3.innerHTML = &quot;3&quot;;</span><br><span class="line">const div4 = document.createElement(&quot;div&quot;);</span><br><span class="line">div4.innerHTML = &quot;4&quot;;</span><br><span class="line">const routeTable = &#123;</span><br><span class="line">  &quot;/1&quot;: div1,</span><br><span class="line">  &quot;/2&quot;: div2,</span><br><span class="line">  &quot;/3&quot;: div3,</span><br><span class="line">  &quot;/4&quot;: div4</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function route(container) &#123;</span><br><span class="line">  let number = window.localStorage.getItem(&quot;xxx&quot;);</span><br><span class="line"></span><br><span class="line">  if (!number) &#123;</span><br><span class="line">    number = &quot;/1&quot;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // 获取界面</span><br><span class="line">  let div = routeTable[number.toString()];</span><br><span class="line">  if (!div) &#123;</span><br><span class="line">    div = document.querySelector(&quot;#div404&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  div.style.display = &quot;block&quot;;</span><br><span class="line"></span><br><span class="line">  // 展示界面</span><br><span class="line">  container.innerHTML = &quot;&quot;;</span><br><span class="line">  container.appendChild(div);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const allA = document.querySelectorAll(&quot;a.link&quot;);</span><br><span class="line"></span><br><span class="line">for (let a of allA) &#123;</span><br><span class="line">  a.addEventListener(&quot;click&quot;, e =&gt; &#123;</span><br><span class="line">    e.preventDefault();</span><br><span class="line">    const href = a.getAttribute(&quot;href&quot;);</span><br><span class="line">    window.localStorage.setItem(&quot;xxx&quot;, href);</span><br><span class="line">    // 通知</span><br><span class="line">    onStateChange(href);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">route(app);</span><br><span class="line"></span><br><span class="line">function onStateChange() &#123;</span><br><span class="line">  console.log(&quot;state 变了&quot;);</span><br><span class="line">  route(app);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><a href="https://codesandbox.io/s/w0ym7vn33w" target="_blank" rel="noopener">在线代码</a></li>
</ul>
<h3 id="Vue-Router"><a href="#Vue-Router" class="headerlink" title="Vue-Router"></a>Vue-Router</h3><ul>
<li><a href="https://router.vuejs.org/" target="_blank" rel="noopener">vue-router文档英文</a></li>
<li><a href="https://router.vuejs.org/zh/" target="_blank" rel="noopener">vue-router中文文档</a></li>
<li><a href="https://github.com/vuejs/vue-router/blob/dev/dist/vue-router.js" target="_blank" rel="noopener">vue-router源码</a></li>
</ul>
<blockquote>
<h4 id="如何看源码"><a href="#如何看源码" class="headerlink" title="如何看源码"></a>如何看源码</h4></blockquote>
<ul>
<li>从你最常用的地方看 router-link  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line">1.打开代码链接 </span><br><span class="line">2.搜 link  发现有个 Link 对象(vue的组件) 往下看 return 返回信息 里面有个</span><br><span class="line">    return h(this.tag, data, this.$slots.default)</span><br><span class="line">1. 这个 h 是啥？</span><br><span class="line">2. vue 除了提供模版渲染的方式，还提供了 一个 render函数 </span><br><span class="line">    可以让你用 js 的方式创建任意元素</span><br><span class="line">3. 理解完 h函数 我们继续看 </span><br><span class="line">    return h(this.tag, data, this.$slots.default)</span><br><span class="line">    - this.tag 代表你要渲染的标签</span><br><span class="line">    - data ? 又不知道了</span><br><span class="line">    - this.$slots.default 插槽 标签里的内容 不重要</span><br><span class="line">4. 看data是啥</span><br><span class="line">    var data = &#123;</span><br><span class="line">        class: classes</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    if (this.tag === &apos;a&apos;) &#123;</span><br><span class="line">        data.on = on;</span><br><span class="line">        data.attrs = &#123; href: href &#125;;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        var a = findAnchor(this.$slots.default);</span><br><span class="line">        if (a) &#123;</span><br><span class="line">            a.isStatic = false;</span><br><span class="line">            var aData = a.data = extend(&#123;&#125;, a.data);</span><br><span class="line">            aData.on = on;</span><br><span class="line">            var aAttrs = a.data.attrs = extend(&#123;&#125;, a.data.attrs);</span><br><span class="line">            aAttrs.href = href;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            data.on = on;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">5. data.on ? 应该是个事件继续检索信息</span><br><span class="line">    var on = &#123; click: guardEvent &#125;;</span><br><span class="line">    if (Array.isArray(this.event)) &#123;</span><br><span class="line">        this.event.forEach(function (e) &#123; on[e] = handler; &#125;);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        on[this.event] = handler;</span><br><span class="line">    &#125;</span><br><span class="line">6. handler 是啥？</span><br><span class="line">    var handler = function (e) &#123;</span><br><span class="line">    if (guardEvent(e)) &#123;</span><br><span class="line">        if (this$1.replace) &#123;</span><br><span class="line">            router.replace(location);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">            router.push(location);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">7. 看 router.push(location); 熟悉吗？</span><br><span class="line">    router 是那里定义的？  </span><br><span class="line">    继续看</span><br><span class="line">    var router = this.$router;</span><br><span class="line"></span><br><span class="line">    $router是啥！这时就要脑补了</span><br><span class="line"></span><br><span class="line">    // 参考vue-router文档里 </span><br><span class="line">    const routes = [</span><br><span class="line">        &#123; path: &apos;/foo&apos;, component: Foo &#125;,</span><br><span class="line">        &#123; path: &apos;/bar&apos;, component: Bar &#125;</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    // 3. 创建 router 实例，然后传 `routes` 配置</span><br><span class="line">    // 你还可以传别的配置参数, 不过先这么简单着吧。</span><br><span class="line">    const router = new VueRouter(&#123;</span><br><span class="line">        routes // (缩写) 相当于 routes: routes</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    // 4. 创建和挂载根实例。</span><br><span class="line">    // 记得要通过 router 配置参数注入路由，</span><br><span class="line">    // 从而让整个应用都有路由功能</span><br><span class="line">    const app = new Vue(&#123;</span><br><span class="line">        router</span><br><span class="line">    &#125;).$mount(&apos;#app&apos;)</span><br><span class="line"></span><br><span class="line">    这里的router 就是 VueRouter 继续找</span><br><span class="line"></span><br><span class="line">10 找到了 push 定义的地方</span><br><span class="line">VueRouter.prototype.push = function push (location, onComplete, onAbort) &#123;</span><br><span class="line">    this.history.push(location, onComplete, onAbort);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">11 发现了 里面路由的各种模式定义</span><br><span class="line">    switch (mode) &#123;</span><br><span class="line">        case &apos;history&apos;:</span><br><span class="line">            this.history = new HTML5History(this, options.base);</span><br><span class="line">            break</span><br><span class="line">        case &apos;hash&apos;:</span><br><span class="line">            this.history = new HashHistory(this, options.base, this.fallback);</span><br><span class="line">            break</span><br><span class="line">        case &apos;abstract&apos;:</span><br><span class="line">            this.history = new AbstractHistory(this, options.base);</span><br><span class="line">            break</span><br><span class="line">        default:</span><br><span class="line">            &#123;</span><br><span class="line">                assert(false, (&quot;invalid mode: &quot; + mode));</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">1.  就看 HTML5History 模式</span><br><span class="line">HTML5History.prototype.push = function push (location, onComplete, onAbort) &#123;</span><br><span class="line">    var this$1 = this;</span><br><span class="line">    var ref = this;</span><br><span class="line">    var fromRoute = ref.current;</span><br><span class="line">    this.transitionTo(location, function (route) &#123;</span><br><span class="line">        pushState(cleanPath(this$1.base + route.fullPath));</span><br><span class="line">        handleScroll(this$1.router, route, fromRoute, false);</span><br><span class="line">        onComplete &amp;&amp; onComplete(route);</span><br><span class="line">    &#125;, onAbort);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">1.  继续看 transitionTo 是啥</span><br><span class="line"></span><br><span class="line">    History.prototype.transitionTo = function transitionTo (location, onComplete, onAbort) &#123;</span><br><span class="line">        var this$1 = this;</span><br><span class="line">        var route = this.router.match(location, this.current);</span><br><span class="line">        this.confirmTransition(route, function () &#123;</span><br><span class="line">            this$1.updateRoute(route);</span><br><span class="line">            onComplete &amp;&amp; onComplete(route);</span><br><span class="line">            this$1.ensureURL();</span><br><span class="line"></span><br><span class="line">            // fire ready cbs once</span><br><span class="line">            if (!this$1.ready) &#123;</span><br><span class="line">                this$1.ready = true;</span><br><span class="line">                this$1.readyCbs.forEach(function (cb) &#123; cb(route); &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, function (err) &#123;</span><br><span class="line">            if (onAbort) &#123;</span><br><span class="line">                onAbort(err);</span><br><span class="line">            &#125;</span><br><span class="line">            if (err &amp;&amp; !this$1.ready) &#123;</span><br><span class="line">                this$1.ready = true;</span><br><span class="line">                this$1.readyErrorCbs.forEach(function (cb) &#123; cb(err); &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">1.  看出 onComplete 是成功的逻辑处理</span><br><span class="line">        this.transitionTo(location, function (route) &#123;</span><br><span class="line">            pushState(cleanPath(this$1.base + route.fullPath));</span><br><span class="line">            handleScroll(this$1.router, route, fromRoute, false);</span><br><span class="line">            onComplete &amp;&amp; onComplete(route);</span><br><span class="line">        &#125;, onAbort);</span><br><span class="line"></span><br><span class="line">15 看 pushState 又熟悉了</span><br><span class="line">    function pushState (url, replace) &#123;</span><br><span class="line">        saveScrollPosition();</span><br><span class="line">        var history = window.history;</span><br><span class="line">        try &#123;</span><br><span class="line">            if (replace) &#123;</span><br><span class="line">            history.replaceState(&#123; key: _key &#125;, &apos;&apos;, url);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">            _key = genKey();</span><br><span class="line">            history.pushState(&#123; key: _key &#125;, &apos;&apos;, url);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (e) &#123;</span><br><span class="line">            window.location[replace ? &apos;replace&apos; : &apos;assign&apos;](url);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="h函数是啥"><a href="#h函数是啥" class="headerlink" title="h函数是啥?"></a>h函数是啥?</h3><p>我们想实现一个 传递 level参数 就渲染 h1~h6的 自定义组件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;ah :level=&quot;1&quot;&gt;Hello world!&lt;/ah&gt;</span><br><span class="line">当我们开始写一个只能通过 level prop 动态生成 heading 标签的组件时，你可能很快想到这样实现：</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/x-template&quot; id=&quot;anchored-heading-template&quot;&gt;</span><br><span class="line">  &lt;h1 v-if=&quot;level === 1&quot;&gt;</span><br><span class="line">    &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">  &lt;/h1&gt;</span><br><span class="line">  &lt;h2 v-else-if=&quot;level === 2&quot;&gt;</span><br><span class="line">    &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">  &lt;/h2&gt;</span><br><span class="line">  &lt;h3 v-else-if=&quot;level === 3&quot;&gt;</span><br><span class="line">    &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">  &lt;/h3&gt;</span><br><span class="line">  &lt;h4 v-else-if=&quot;level === 4&quot;&gt;</span><br><span class="line">    &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">  &lt;/h4&gt;</span><br><span class="line">  &lt;h5 v-else-if=&quot;level === 5&quot;&gt;</span><br><span class="line">    &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">  &lt;/h5&gt;</span><br><span class="line">  &lt;h6 v-else-if=&quot;level === 6&quot;&gt;</span><br><span class="line">    &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">  &lt;/h6&gt;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>是不是很傻</p>
</blockquote>
<ul>
<li>用 render 函数 重写</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(&apos;anchored-heading&apos;, &#123;</span><br><span class="line">  render: function (createElement) &#123;</span><br><span class="line">    return createElement(</span><br><span class="line">      &apos;h&apos; + this.level,   // 标签名称</span><br><span class="line">      this.$slots.default // 子元素数组</span><br><span class="line">    )</span><br><span class="line">  &#125;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    level: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      required: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="h-就是-createElement"><a href="#h-就是-createElement" class="headerlink" title="h 就是 createElement"></a>h 就是 createElement</h4></blockquote>
<blockquote>
<h4 id="h-就是-createElement-1"><a href="#h-就是-createElement-1" class="headerlink" title="h 就是 createElement"></a>h 就是 createElement</h4></blockquote>
<blockquote>
<h4 id="h-就是-createElement-2"><a href="#h-就是-createElement-2" class="headerlink" title="h 就是 createElement"></a>h 就是 createElement</h4></blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/03/16/Vue_001路由/" data-id="cknvgpu5y00qz0xjp3fin6bl7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/">vue</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/21/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/20/">20</a><a class="page-number" href="/page/21/">21</a><span class="page-number current">22</span><a class="page-number" href="/page/23/">23</a><a class="page-number" href="/page/24/">24</a><span class="space">&hellip;</span><a class="page-number" href="/page/55/">55</a><a class="extend next" rel="next" href="/page/23/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6速学/">ES6速学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JS不知深浅/">JS不知深浅</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M01/">M01</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M02/">M02</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M03/">M03</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M04/">M04</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M06/">M06</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M07/">M07</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M08/">M08</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M09/">M09</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NodeWeb/">NodeWeb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node后端/">Node后端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ReactWheels/">ReactWheels</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React入门/">React入门</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TS入门/">TS入门</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webpack/">Webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express/">express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fullstack/">fullstack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/">jQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mobile/">mobile</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/">node</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node每日精进/">node每日精进</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oak/">oak</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tools/">tools</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/">vim</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vultr/">vultr</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web性能优化/">web性能优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web面经/">web面经</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端知识点/">前端知识点</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/CSS/" style="font-size: 13.91px;">CSS</a> <a href="/tags/ES6速学/" style="font-size: 14.35px;">ES6速学</a> <a href="/tags/JS不知深浅/" style="font-size: 11.3px;">JS不知深浅</a> <a href="/tags/M01/" style="font-size: 13.48px;">M01</a> <a href="/tags/M02/" style="font-size: 15.22px;">M02</a> <a href="/tags/M03/" style="font-size: 15.65px;">M03</a> <a href="/tags/M04/" style="font-size: 16.09px;">M04</a> <a href="/tags/M06/" style="font-size: 18.26px;">M06</a> <a href="/tags/M07/" style="font-size: 17.83px;">M07</a> <a href="/tags/M08/" style="font-size: 16.96px;">M08</a> <a href="/tags/M09/" style="font-size: 11.74px;">M09</a> <a href="/tags/NodeWeb/" style="font-size: 15.65px;">NodeWeb</a> <a href="/tags/Node后端/" style="font-size: 18.7px;">Node后端</a> <a href="/tags/ReactWheels/" style="font-size: 16.52px;">ReactWheels</a> <a href="/tags/React入门/" style="font-size: 15.22px;">React入门</a> <a href="/tags/TS入门/" style="font-size: 14.78px;">TS入门</a> <a href="/tags/Webpack/" style="font-size: 11.3px;">Webpack</a> <a href="/tags/express/" style="font-size: 10.43px;">express</a> <a href="/tags/fullstack/" style="font-size: 17.83px;">fullstack</a> <a href="/tags/http/" style="font-size: 12.17px;">http</a> <a href="/tags/jQuery/" style="font-size: 10px;">jQuery</a> <a href="/tags/java/" style="font-size: 19.13px;">java</a> <a href="/tags/linux/" style="font-size: 10.87px;">linux</a> <a href="/tags/mobile/" style="font-size: 11.3px;">mobile</a> <a href="/tags/mongodb/" style="font-size: 12.61px;">mongodb</a> <a href="/tags/mysql/" style="font-size: 12.61px;">mysql</a> <a href="/tags/node/" style="font-size: 10.43px;">node</a> <a href="/tags/node每日精进/" style="font-size: 10px;">node每日精进</a> <a href="/tags/oak/" style="font-size: 20px;">oak</a> <a href="/tags/python/" style="font-size: 17.39px;">python</a> <a href="/tags/tools/" style="font-size: 10px;">tools</a> <a href="/tags/vim/" style="font-size: 10px;">vim</a> <a href="/tags/vue/" style="font-size: 13.04px;">vue</a> <a href="/tags/vultr/" style="font-size: 10px;">vultr</a> <a href="/tags/web性能优化/" style="font-size: 10px;">web性能优化</a> <a href="/tags/web面经/" style="font-size: 10px;">web面经</a> <a href="/tags/前端知识点/" style="font-size: 19.57px;">前端知识点</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/02/28/Webpack-03loader/">Webpack-03loader</a>
          </li>
        
          <li>
            <a href="/2021/02/27/Webpack-02打包器/">Webpack-02打包器</a>
          </li>
        
          <li>
            <a href="/2021/02/27/Webpack-01AST-Babel-依赖/">Webpack-01AST_Babel_依赖</a>
          </li>
        
          <li>
            <a href="/2021/02/26/Webpack-00前置内容理解webpack/">Webpack-00前置内容理解webpack</a>
          </li>
        
          <li>
            <a href="/2021/02/23/Node-web05-09-03博客系统使用nginx/">Node-web05-09-03博客系统使用nginx</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 Stevin<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>