
 <!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
  
    <title>Almost</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Stevin">
    

    
    <meta property="og:type" content="website">
<meta property="og:title" content="Almost">
<meta property="og:url" content="http://yoursite.com/page/22/index.html">
<meta property="og:site_name" content="Almost">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Almost">

    
    <link rel="alternative" href="/atom.xml" title="Almost" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>
</html>
  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="Almost" title="Almost"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Almost">Almost</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:yoursite.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2019/02/06/TS入门007范型/" title="TS入门007范型" itemprop="url">TS入门007范型</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stevin" target="_blank" itemprop="author">Stevin</a>
		
  <p class="article-time">
    <time datetime="2019-02-06T07:28:45.000Z" itemprop="datePublished"> Published 2019-02-06</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="范型"><a href="#范型" class="headerlink" title="范型"></a>范型</h3><p>用一个东西表示广泛的类型</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">//用js 你给我什么就返回什么 </span><br><span class="line">function fn1(something)&#123; </span><br><span class="line">    return something</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 用 ts, 你给我任意类型的东西，我给你任意类型的东西</span><br><span class="line">/*</span><br><span class="line">有问题了</span><br><span class="line">给你 number =&gt; string  满足条件 any =&gt; any</span><br><span class="line">*/</span><br><span class="line">function fn2(something:any):any&#123; </span><br><span class="line">    return something</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 用一个占位符</span><br><span class="line">function fn3&lt;T&gt;(something:T):T&#123; </span><br><span class="line">    return something</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let s: string = fn3(&apos;hi&apos;);</span><br><span class="line">let s2 = fn3(&apos;hi&apos;) // 因为 &apos;hi&apos;的类型是 string 所以返回值的类型是 string</span><br><span class="line">let s3 = fn3&lt;string&gt;(&apos;hi&apos;);</span><br><span class="line">let s4 = fn3&lt;number&gt;(1);</span><br><span class="line">let s5 = fn3&lt;boolean&gt;(true);</span><br><span class="line"></span><br><span class="line">interface Human&#123;</span><br><span class="line">    name:string;</span><br><span class="line">    age:number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let s6 = fn3&lt;Human&gt;(&#123;name:&apos;hjx&apos;,age:18&#125;);</span><br><span class="line">let s7 = fn3(&#123;name:&apos;hjx&apos;,age:18&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>范型数组</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">function returnArray&lt;T&gt;(array:T[]):T[]&#123;</span><br><span class="line">    return array;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let a = returnArray([1,2,3]);</span><br><span class="line"></span><br><span class="line">interface Human&#123;</span><br><span class="line">    name:string;</span><br><span class="line">    age:number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let a2 = returnArray&lt;Human&gt;([&#123;name:&apos;aa&apos;,age:11&#125;,&#123;name:&apos;bb&apos;,age:12&#125;])</span><br><span class="line">let a3 = returnArray([&#123;name:&apos;aa&apos;,age:11&#125;,&#123;name:&apos;bb&apos;,age:12&#125;])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">function returnArray&lt;T&gt;(array:T[]):T[]&#123;</span><br><span class="line">    return array;</span><br><span class="line">&#125;</span><br><span class="line">还可以写成</span><br><span class="line">function returnArray&lt;T&gt;(array:Array&lt;T&gt;):Array&lt;T&gt;&#123;</span><br><span class="line">    return array;</span><br><span class="line">&#125;</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
<p>范型还可以这样声明</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 用一个占位符</span><br><span class="line">function xxx&lt;T&gt;(something:T):T&#123; </span><br><span class="line">    return something</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let fn: &lt;T&gt;(something:T)=&gt;T = xxx;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>接口和范型</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">interface add&#123;</span><br><span class="line">    (a:number,b:number):number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let numAdd:add = (a:number,b:number):number=&gt;&#123;</span><br><span class="line">    return a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 接口和范型</span><br><span class="line"></span><br><span class="line">interface anyAdd&lt;T&gt;&#123;</span><br><span class="line">    (a:T,b:T):T;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let stringAdd:anyAdd&lt;string&gt; = (a:string,b:string):string =&gt;&#123;</span><br><span class="line">    return a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let numberAdd:anyAdd&lt;number&gt; = (a:number,b:number):number =&gt;&#123;</span><br><span class="line">    return a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="范型约束"><a href="#范型约束" class="headerlink" title="范型约束"></a>范型约束</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function fn&lt;T&gt;(something:T):T&#123; </span><br><span class="line">    console.log(something.length)</span><br><span class="line">    return something</span><br><span class="line">&#125;</span><br><span class="line">// 如果参数是 数字 1 就报错了</span><br></pre></td></tr></table></figure>
<p>添加一个约束条件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">interface hasLength&#123;</span><br><span class="line">    length:number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function fn&lt;T extends hasLength&gt;(something:T):T&#123; </span><br><span class="line">    console.log(something.length);</span><br><span class="line">    return something</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>使用类类型的约束</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">function createT( c )&#123;</span><br><span class="line">    // c 必须是 类 才可以 ，而且在js里不报错</span><br><span class="line">    return new c();</span><br><span class="line">&#125;</span><br><span class="line">// createT(&apos;hi&apos;) 报错</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Student&#123;&#125;</span><br><span class="line"></span><br><span class="line">class Human&#123;&#125;</span><br><span class="line"></span><br><span class="line">// ts里 约束参数是个类</span><br><span class="line">function createT2&lt;T&gt;( c:&#123;new ():T&#125; ):T&#123;</span><br><span class="line">    // c 必须是 类 才可以 ，而且在js里不报错</span><br><span class="line">    return new c();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// createT2&lt;Human&gt;(Student) 报错 因为明确约束了 类</span><br><span class="line">createT2&lt;Human&gt;(Human)</span><br></pre></td></tr></table></figure>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/TS入门/">TS入门</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2019/02/06/TS入门006函数上/" title="TS入门006函数上" itemprop="url">TS入门006函数上</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stevin" target="_blank" itemprop="author">Stevin</a>
		
  <p class="article-time">
    <time datetime="2019-02-06T05:53:02.000Z" itemprop="datePublished"> Published 2019-02-06</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function hi()&#123; // hi == address 100</span><br><span class="line">    console.log(&apos;hi&apos;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let hi2 = function ()&#123; // hi == address 390</span><br><span class="line">    console.log(&apos;hi&apos;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let hi3 = ()=&gt;&#123;    // hi3 == address 401</span><br><span class="line">    console.log(&apos;hi&apos;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// 带参数</span><br><span class="line">function hi(name: string,age: number)&#123;</span><br><span class="line">    console.log(`hi,$&#123;name&#125;,$&#123;age&#125;`)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 可选参数</span><br><span class="line">function hi2(name: string,age?: number)&#123;</span><br><span class="line">    console.log(`hi,$&#123;name&#125;,$&#123;age&#125;`)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 默认值</span><br><span class="line">// 为什么不声明 age的类型 因为这个类型可以推断</span><br><span class="line">// age = 18 等价于 age: number = 18</span><br><span class="line">function hi3(name: string,age = 18)&#123;</span><br><span class="line">    console.log(`hi,$&#123;name&#125;,$&#123;age&#125;`)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">hi(&apos;hjx&apos;,18) // hi,hjx,18</span><br><span class="line">hi2(&apos;hjx&apos;) // hi,hjx,undefined</span><br><span class="line">hi3(&apos;hjx&apos;) // hi,hjx,18</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="函数返回值"><a href="#函数返回值" class="headerlink" title="函数返回值"></a>函数返回值</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">// 什么都不返回</span><br><span class="line">function hi4(name: string,age?: number):void &#123;</span><br><span class="line">    console.log(`hi,$&#123;name&#125;,$&#123;age&#125;`)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 返回string</span><br><span class="line">function hi4(name: string,age?: number):string &#123;</span><br><span class="line">    if (age&gt;18)&#123;</span><br><span class="line">        return &apos;hi&apos;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        // return 404 //报错 因为你指定了返回 string</span><br><span class="line">        return &apos;404&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 或者这样写</span><br><span class="line">// 返回string 或 number</span><br><span class="line">function hi5(name: string,age?: number):string | number&#123;</span><br><span class="line">    if (age&gt;18)&#123;</span><br><span class="line">        return &apos;hi&apos;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        return 404</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="函数内置的-this-和-argument"><a href="#函数内置的-this-和-argument" class="headerlink" title="函数内置的 this 和 argument"></a>函数内置的 this 和 argument</h4><ul>
<li>arguments</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">function add(a: number,b: number): number&#123;</span><br><span class="line">    //let a = arguments[0]</span><br><span class="line">    //let b = arguments[1]</span><br><span class="line">    // a,b是形式参数</span><br><span class="line">    return a + b;</span><br><span class="line">    // 可以这样</span><br><span class="line">    // return arguments[0] + arguments[1]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">add(100,200) //实际参数</span><br><span class="line">/*</span><br><span class="line">调用add(100,200)时 会构建这样一个对象</span><br><span class="line">arguments = &#123;</span><br><span class="line">    0:100,</span><br><span class="line">    1:200,</span><br><span class="line">    length:2</span><br><span class="line">&#125;</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
<ul>
<li>this</li>
</ul>
<p>很难的一个东西,根源就是你不用call</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">function add(a: number,b: number): number&#123;</span><br><span class="line">    return arguments[0] + arguments[1]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">add(100,200) //小白调用法</span><br><span class="line">/*</span><br><span class="line">调用add(100,200)时 会构建这样一个对象</span><br><span class="line">this = ?</span><br><span class="line">arguments = &#123;</span><br><span class="line">    0:100,</span><br><span class="line">    1:200,</span><br><span class="line">    length:2</span><br><span class="line">&#125;</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">add.call(&apos;fuck&apos;,100,200) //大师调用法</span><br><span class="line">/*</span><br><span class="line">调用add(100,200)时 会构建这样一个对象</span><br><span class="line">this = &apos;fuck&apos; //call的第一个参数</span><br><span class="line">arguments = &#123;</span><br><span class="line">    0:100,</span><br><span class="line">    1:200,</span><br><span class="line">    length:2</span><br><span class="line">&#125;</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
<blockquote>
<p>this 问题</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">function printThis()&#123;</span><br><span class="line">    &apos;use strict&apos;</span><br><span class="line">    console.log(this);</span><br><span class="line">    console.log(arguments);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">printThis.call(&apos;fuck&apos;,100,200)</span><br><span class="line">/*</span><br><span class="line">this = &apos;fuck&apos;</span><br><span class="line">arguments = &#123;</span><br><span class="line">    0:100,</span><br><span class="line">    1:200,</span><br><span class="line">    length:2</span><br><span class="line">&#125;</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">printThis(1,2); </span><br><span class="line">/*</span><br><span class="line">this = ?</span><br><span class="line">如果是浏览器 this =&gt; window</span><br><span class="line">如果是浏览器,并开启严格模式 this =&gt; undefined</span><br><span class="line">如果是node是 global</span><br><span class="line"></span><br><span class="line">arguments = &#123;</span><br><span class="line">    0:100,</span><br><span class="line">    1:200,</span><br><span class="line">    length:2</span><br><span class="line">&#125;</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
<blockquote>
<p>为啥this这么难？ 因为 js设计错误</p>
</blockquote>
<blockquote>
<h4 id="第二个情况"><a href="#第二个情况" class="headerlink" title="第二个情况"></a>第二个情况</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">let obj = &#123;</span><br><span class="line">    fn()&#123;</span><br><span class="line">        &apos;use strict&apos;</span><br><span class="line">        console.log(this);</span><br><span class="line">    &#125;,</span><br><span class="line">    obj2:&#123;</span><br><span class="line">        fn2()&#123;</span><br><span class="line">            console.log(this);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.fn(); </span><br><span class="line">// this是  .fn前面的东西 obj</span><br><span class="line">obj.obj2.fn2();</span><br><span class="line">// this是  .fn2 前面的东西 obj.obj2</span><br><span class="line">obj.fn.call(&apos;fuck&apos;)</span><br><span class="line">// this =&gt; &apos;fuck&apos;</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="第三个情况"><a href="#第三个情况" class="headerlink" title="第三个情况"></a>第三个情况</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">let obj = &#123;</span><br><span class="line">    fn()&#123;</span><br><span class="line">        &apos;use strict&apos;</span><br><span class="line">        console.log(this);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">// 第三个情况</span><br><span class="line">let fn3 = obj.fn;</span><br><span class="line">console.log(&apos;---&apos;);</span><br><span class="line">fn3(); // this =&gt; ? undefined</span><br></pre></td></tr></table></figure>
<h3 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h3><ul>
<li>干掉了 this,arguments 因为认为这是js的错误不该在 es6里出现</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let fn = (a: number,b :number): number=&gt;&#123;</span><br><span class="line">    console.log(this) //外面的this</span><br><span class="line">    // 箭头函数内外 this 一致</span><br><span class="line">    return a + b; // 没有 this,arguments</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/TS入门/">TS入门</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2019/02/06/TS入门005类/" title="TS入门005类" itemprop="url">TS入门005类</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stevin" target="_blank" itemprop="author">Stevin</a>
		
  <p class="article-time">
    <time datetime="2019-02-06T04:18:17.000Z" itemprop="datePublished"> Published 2019-02-06</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="类"><a href="#类" class="headerlink" title="类"></a>类</h3><ul>
<li>接口是低配版的类.</li>
<li>类是高配版的接口.</li>
</ul>
<p><a href="https://www.tslang.cn/docs/handbook/classes.html" target="_blank" rel="noopener">文档</a></p>
<p>类就是用来创造对象的东西。(同类事物的抽象描述)<br>有一些语言（如 Java，存疑）创建对象必须先声明一个类，而有的语言（JS）则不需要。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// java里是不允许没有类 直接创建对象的，而js可以</span><br><span class="line">var jack = &#123;name:&apos;jack&apos;,age:18&#125;</span><br></pre></td></tr></table></figure>
<p>对于没有使用过 TS 的 JS 程序员来说，类看起来还挺无聊的</p>
<blockquote>
<p>我需要什么属性随时加不就好了吗？</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var jack = &#123;name:&apos;jack&apos;,age:18&#125;</span><br><span class="line">var aaa = &#123;name:&apos;aaa&apos;,age:18,gender:&apos;man&apos;&#125;</span><br></pre></td></tr></table></figure>
<p>对于使用过 TS 的 JS 程序员来说，类可以让你的系统更加「可预测」</p>
<blockquote>
<p>这个对象不会出现一些我不知道的属性，一切都尽在我的掌握。</p>
</blockquote>
<p>所以别废话，快学 TS 的类。</p>
<h4 id="1-声明类"><a href="#1-声明类" class="headerlink" title="1.声明类"></a>1.声明类</h4><h4 id="2-声明对象的非函数属性"><a href="#2-声明对象的非函数属性" class="headerlink" title="2.声明对象的非函数属性"></a>2.声明对象的非函数属性</h4><h4 id="3-声明对象的函数属性"><a href="#3-声明对象的函数属性" class="headerlink" title="3.声明对象的函数属性"></a>3.声明对象的函数属性</h4><h4 id="4-使用-constructor"><a href="#4-使用-constructor" class="headerlink" title="4.使用 constructor"></a>4.使用 constructor</h4><h4 id="5-声明类的属性（static）"><a href="#5-声明类的属性（static）" class="headerlink" title="5.声明类的属性（static）"></a>5.声明类的属性（static）</h4><h4 id="6-使用-this-代指当前对象（注意不要以为-this-永远都代指当前对象，JS-的-this-有更多功能，而且默认-this-为-window）"><a href="#6-使用-this-代指当前对象（注意不要以为-this-永远都代指当前对象，JS-的-this-有更多功能，而且默认-this-为-window）" class="headerlink" title="6.使用 this 代指当前对象（注意不要以为 this 永远都代指当前对象，JS 的 this 有更多功能，而且默认 this 为 window）"></a>6.使用 this 代指当前对象（注意不要以为 this 永远都代指当前对象，JS 的 this 有更多功能，而且默认 this 为 window）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">class Human&#123;</span><br><span class="line">    name:string; // 声明对象的非函数属性</span><br><span class="line">    age:number;  // 声明对象的非函数属性</span><br><span class="line">    constructor(name:string,age:number)&#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">        this.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    // 声明对象的函数属性</span><br><span class="line">    move(): void&#123;</span><br><span class="line">        console.log(&apos;我动了&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let hjx = new Human(&apos;hjx&apos;,18);</span><br><span class="line"></span><br><span class="line">console.log(JSON.stringify(hjx));</span><br><span class="line"></span><br><span class="line">interface Human2&#123;</span><br><span class="line">    name: string;</span><br><span class="line">    age: number;</span><br><span class="line">    move(): void;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let hjx2: Human2 = &#123;</span><br><span class="line">    name: &apos;hjx2&apos;,</span><br><span class="line">    age: 18,</span><br><span class="line">    move(): void&#123;</span><br><span class="line">        console.log(&apos;我动了2&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">// 接口就要一个一个属性挨个写一遍</span><br><span class="line">let hjx3: Human2 = &#123;</span><br><span class="line">    name: &apos;hjx3&apos;,</span><br><span class="line">    age: 18,</span><br><span class="line">    move(): void&#123;</span><br><span class="line">        console.log(&apos;我动了3&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="类中两个方法之间可以调用"><a href="#类中两个方法之间可以调用" class="headerlink" title="类中两个方法之间可以调用"></a>类中两个方法之间可以调用</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">class Human&#123;</span><br><span class="line">    name:string;</span><br><span class="line">    age:number;</span><br><span class="line">    constructor(name:string,age:number)&#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">        this.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    move(): void&#123;</span><br><span class="line">        console.log(&apos;我动了&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">    say(): string&#123;</span><br><span class="line">        this.move();</span><br><span class="line">        return &apos;hi&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let hjx = new Human(&apos;hjx&apos;,18);</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="请问对象有木有-constructor属性？"><a href="#请问对象有木有-constructor属性？" class="headerlink" title="请问对象有木有 constructor属性？"></a>请问对象有木有 constructor属性？</h4></blockquote>
<ul>
<li>有，这是js的特殊现象，只有js会这样</li>
<li>在class里写的所有东西 对象都有</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">class Human&#123;</span><br><span class="line">    name:string;</span><br><span class="line">    age:number;</span><br><span class="line">    constructor(name:string,age:number)&#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">        this.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    move(): void&#123;</span><br><span class="line">        console.log(&apos;我动了&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">    say(): string&#123;</span><br><span class="line">        this.move();</span><br><span class="line">        return &apos;hi&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let hjx = new Human(&apos;hjx&apos;,18);</span><br><span class="line"></span><br><span class="line">console.log(hjx.name)</span><br><span class="line">console.log(hjx.age)</span><br><span class="line">console.log(hjx.move)</span><br><span class="line">console.log(hjx.say)</span><br><span class="line">console.log(hjx.constructor)</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="使用-constructor"><a href="#使用-constructor" class="headerlink" title="使用 constructor"></a>使用 constructor</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let hjx = new Human(&apos;hjx&apos;,18);</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="static"><a href="#static" class="headerlink" title="static"></a>static</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">class Human&#123;</span><br><span class="line">    name:string;</span><br><span class="line">    age:number;</span><br><span class="line">    constructor(name:string,age:number)&#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">        this.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    move(): void&#123;</span><br><span class="line">        console.log(&apos;我动了&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">    say(): string&#123;</span><br><span class="line">        this.move();</span><br><span class="line">        return &apos;hi&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let hjx = new Human(&apos;hjx&apos;,18);</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">name age move say  constructor是 实例对象的属性,不是类的属性</span><br><span class="line"></span><br><span class="line">如果你直接给 类加属性报错</span><br><span class="line">Human.xxx = 1; // 报错</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">// 正确姿势</span><br><span class="line"></span><br><span class="line">class Human2&#123;</span><br><span class="line">    static xxx = 1</span><br><span class="line">    name:string;</span><br><span class="line">    age:number;</span><br><span class="line">    constructor(name:string,age:number)&#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">        this.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    move(): void&#123;</span><br><span class="line">        console.log(&apos;我动了&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">    say(): string&#123;</span><br><span class="line">        this.move();</span><br><span class="line">        return &apos;hi&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(Human2.xxx);</span><br></pre></td></tr></table></figure>
<h3 id="类继承类"><a href="#类继承类" class="headerlink" title="类继承类"></a>类继承类</h3><ul>
<li>使用 super</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">class Animal&#123;</span><br><span class="line">    constructor()&#123;</span><br><span class="line">        console.log(&apos;动物出生了&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">    move():void&#123;</span><br><span class="line">        console.log(&apos;move&apos;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Human extends Animal&#123;</span><br><span class="line">    name: string;</span><br><span class="line">    age: number;</span><br><span class="line">    constructor(name:string, age:number)&#123;</span><br><span class="line">        super()</span><br><span class="line">        console.log(&apos;people 出生了&apos;)</span><br><span class="line">        this.name = name;</span><br><span class="line">        this.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    say():string&#123;</span><br><span class="line">        this.move();</span><br><span class="line">        return &apos;hi&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let hjx = new Human(&apos;hjx&apos;,18);</span><br><span class="line"></span><br><span class="line">hjx.say();</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">动物出生了</span><br><span class="line">people 出生了</span><br><span class="line">move</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
<ul>
<li>在子类constructor中必须调用 super</li>
</ul>
<blockquote>
<p>如果父类有属性呢？</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">class Animal&#123;</span><br><span class="line">    kind:string;</span><br><span class="line">    constructor(kind:string)&#123;</span><br><span class="line">        console.log(&apos;动物出生了&apos;)</span><br><span class="line">        this.kind = kind;</span><br><span class="line">    &#125;</span><br><span class="line">    move():void&#123;</span><br><span class="line">        console.log(&apos;move&apos;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Human extends Animal&#123;</span><br><span class="line">    name: string;</span><br><span class="line">    age: number;</span><br><span class="line">    constructor(name:string, age:number)&#123;</span><br><span class="line">        super(&apos;哺乳动物&apos;);</span><br><span class="line">        console.log(&apos;people 出生了&apos;)</span><br><span class="line">        this.name = name;</span><br><span class="line">        this.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    say():string&#123;</span><br><span class="line">        this.move();</span><br><span class="line">        return &apos;hi&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let hjx = new Human(&apos;hjx&apos;,18);</span><br><span class="line"></span><br><span class="line">hjx.say();</span><br></pre></td></tr></table></figure>
<h3 id="修饰符-public-private-和-protected"><a href="#修饰符-public-private-和-protected" class="headerlink" title="修饰符 public private 和 protected"></a>修饰符 public private 和 protected</h3><ul>
<li>private</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">class Human&#123;</span><br><span class="line">    name: string;</span><br><span class="line">    age: number;</span><br><span class="line">    private secret:string;</span><br><span class="line">    constructor(name:string, age:number,secret:string)&#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">        this.age = age;</span><br><span class="line">        this.secret = secret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let hjx = new Human(&apos;hjx&apos;,18,&apos;中了200w&apos;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 因为secret属性是 private 所有只有类内部可以访问  类外部不可以访问</span><br><span class="line">console.log(hjx.secret);</span><br></pre></td></tr></table></figure>
<ul>
<li>public 默认</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">class Human&#123;</span><br><span class="line">    name: string;</span><br><span class="line">    age: number;</span><br><span class="line">    constructor(name:string, age:number)&#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">        this.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">等价于</span><br><span class="line"></span><br><span class="line">class Human&#123;</span><br><span class="line">    public name: string;</span><br><span class="line">    public age: number;</span><br><span class="line">    constructor(name:string, age:number)&#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">        this.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>protected 当前类和子类中使用</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">class Animal&#123;</span><br><span class="line">    protected kind:string;</span><br><span class="line">    constructor(kind:string)&#123;</span><br><span class="line">        console.log(&apos;动物出生了&apos;)</span><br><span class="line">        this.kind = kind;</span><br><span class="line">    &#125;</span><br><span class="line">    move():void&#123;</span><br><span class="line">        console.log(&apos;move&apos;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Human extends Animal&#123;</span><br><span class="line">    name: string;</span><br><span class="line">    age: number;</span><br><span class="line">    constructor(name:string, age:number)&#123;</span><br><span class="line">        super(&apos;哺乳动物&apos;);</span><br><span class="line">        console.log(&apos;people 出生了&apos;)</span><br><span class="line">        this.name = name;</span><br><span class="line">        this.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    say():string&#123;</span><br><span class="line">        this.move();</span><br><span class="line">        return &apos;hi&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let hjx = new Human(&apos;hjx&apos;,18);</span><br><span class="line">// 访问不到 protected 修饰的属性</span><br><span class="line">console.log(hjx.kind); // 报错</span><br></pre></td></tr></table></figure>
<h3 id="访问器"><a href="#访问器" class="headerlink" title="访问器"></a>访问器</h3><ul>
<li>get</li>
<li>set</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">class Human&#123;</span><br><span class="line">    name: string;</span><br><span class="line">    private _age: number; //把你真正用到的值藏起来</span><br><span class="line">    get age()&#123;</span><br><span class="line">        return this._age;</span><br><span class="line">    &#125;</span><br><span class="line">    set age(value:number)&#123;</span><br><span class="line">        if(value &lt; 0)&#123;</span><br><span class="line">            this._age = 0;</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            this._age = value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    constructor(name:string, age:number)&#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">        this.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let hjx = new Human(&apos;hjx&apos;,18);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 其他人恶意篡改 age 属性</span><br><span class="line">// hjx.age = -1</span><br><span class="line">// hjx.age = 10000</span><br><span class="line"></span><br><span class="line">hjx.age = -1</span><br><span class="line">console.log(hjx.age); // 0</span><br></pre></td></tr></table></figure>
<h3 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">也可以叫做「爸爸类」：专门当别的类的爸爸的类。</span><br><span class="line">也可以叫做「没有写完的类」：只描述有什么方法，并没有完全实现这些方法。</span><br><span class="line"></span><br><span class="line">由于这个类没有写完，所以不能创建出对象。（会报错）</span><br><span class="line"></span><br><span class="line">abstract class Animal &#123;</span><br><span class="line">    //抽象方法加 abstract 修饰，不写实现</span><br><span class="line">    abstract makeSound(): void; </span><br><span class="line">    move(): void &#123;</span><br><span class="line">        console.log(&apos;roaming the earch...&apos;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">abstract 就是抽象的意思。我建议你不用管抽象是什么意思，就死记硬背：抽象类就是爸爸类。</span><br></pre></td></tr></table></figure>
<p>是不是很像接口的方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">interface Animal&#123;</span><br><span class="line">    move():void;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Animal&#123;</span><br><span class="line">    move():void&#123;</span><br><span class="line">        console.log(&apos;move&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">abstract class Animal &#123;</span><br><span class="line">    abstract move(): void; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>抽象方法必须出现在抽象类中</li>
<li>抽象类无法实例化(因为这个类没写完)</li>
<li>为啥可以当父类呢？  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">因为你可能有梦想没有实现</span><br><span class="line">    你就拜托你的儿子实现,此时你的儿子也是抽象类</span><br><span class="line">       你儿子还没有实现，他就继续拜托他的儿子实现</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">abstract class Animal &#123;</span><br><span class="line">    abstract move():void;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Human extends Animal&#123;</span><br><span class="line">    move():void&#123;</span><br><span class="line">        console.log(&apos;move&apos;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let hjx = new Human();</span><br><span class="line"></span><br><span class="line">hjx.move()</span><br></pre></td></tr></table></figure>
<h3 id="高级技巧"><a href="#高级技巧" class="headerlink" title="高级技巧"></a>高级技巧</h3><blockquote>
<h4 id="构造函数-以后回头看"><a href="#构造函数-以后回头看" class="headerlink" title="构造函数(以后回头看)"></a>构造函数(以后回头看)</h4></blockquote>
<p>参考链接 <a href="https://zhuanlan.zhihu.com/p/23987456" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/23987456</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">由于 TS 的 class 其实就是 JS 里的 class，JS 里的 class 其实就是一个构造函数。</span><br><span class="line">换句话说，类就是一个函数……</span><br><span class="line">同时，函数在JS里，是一种对象。</span><br><span class="line">所以类其实是一种对象。</span><br><span class="line">我知道这听起来很奇怪，但是 JS 就是这么奇怪。</span><br><span class="line"></span><br><span class="line">class Greeter &#123;</span><br><span class="line">    static standardGreeting = &quot;Hello, there&quot;;</span><br><span class="line">    greeting: string;</span><br><span class="line">    greet() &#123;</span><br><span class="line">        if (this.greeting) &#123;</span><br><span class="line">            return &quot;Hello, &quot; + this.greeting;</span><br><span class="line">        &#125;</span><br><span class="line">        else &#123;</span><br><span class="line">            return Greeter.standardGreeting;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let greeter1: Greeter;</span><br><span class="line">greeter1 = new Greeter();</span><br><span class="line">console.log(greeter1.greet());</span><br><span class="line"></span><br><span class="line">let greeterMaker: typeof Greeter = Greeter;  // 注意这句话</span><br><span class="line">greeterMaker.standardGreeting = &quot;Hey there!&quot;;</span><br><span class="line"></span><br><span class="line">let greeter2: Greeter = new greeterMaker();</span><br><span class="line">console.log(greeter2.greet());</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="把类当做接口使用"><a href="#把类当做接口使用" class="headerlink" title="把类当做接口使用"></a>把类当做接口使用</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">接口是低配版的类。</span><br><span class="line">类是高配版的接口。</span><br><span class="line"></span><br><span class="line">class Point &#123;</span><br><span class="line">    x: number;</span><br><span class="line">    y: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Point3d extends Point &#123;</span><br><span class="line">    z: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let point3d: Point3d = &#123;x: 1, y: 2, z: 3&#125;;</span><br></pre></td></tr></table></figure>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/TS入门/">TS入门</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2019/02/04/TS入门004接口02/" title="TS入门004接口02" itemprop="url">TS入门004接口02</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stevin" target="_blank" itemprop="author">Stevin</a>
		
  <p class="article-time">
    <time datetime="2019-02-04T08:33:37.000Z" itemprop="datePublished"> Published 2019-02-04</time>
    
  </p>
</header>
    <div class="article-content">
        
        <ul>
<li><a href="https://www.tslang.cn/docs/home.html" target="_blank" rel="noopener">中文</a></li>
<li><a href="https://www.typescriptlang.org/docs/home.html" target="_blank" rel="noopener">英文</a></li>
<li><a href="https://www.tslang.cn/docs/handbook/basic-types.html" target="_blank" rel="noopener">接口</a></li>
</ul>
<h3 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h3><p>就是用代码描述一个对象必须有什么属性(包括方法),但是有没有其他属性就不管了</p>
<blockquote>
<p>理解 函数和方法的区别</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">当一个函数是一个对象的属性的时候，我们把这个函数称为该对象的方法</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line">// 这是一个函数</span><br><span class="line">function fn()&#123;</span><br><span class="line">    console.log(1)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let obj = &#123;</span><br><span class="line">    fn:function()&#123;</span><br><span class="line">        console.log(2)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// obj.fn 就是一个方法</span><br><span class="line"></span><br><span class="line">------------------------</span><br><span class="line">如果这样呢？</span><br><span class="line">function fn()&#123;</span><br><span class="line">    console.log(1)</span><br><span class="line">&#125;</span><br><span class="line">let obj = &#123;</span><br><span class="line">    fn:fn</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// fn实质就是 一个形如 addr = 2311111 的地址的内存</span><br><span class="line">// 如果是普通编程角度   fn 是函数</span><br><span class="line">// 如果是面向对象角度   fn 是方法</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="定义一个接口-人"><a href="#定义一个接口-人" class="headerlink" title="定义一个接口 人"></a>定义一个接口 人</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">interface Human&#123;</span><br><span class="line">    name:string,</span><br><span class="line">    age:number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let p1:Human = &#123;name:&apos;hjx&apos;,age:18&#125;;</span><br><span class="line">// 不加 name 报错，不加age也报错</span><br></pre></td></tr></table></figure>
<blockquote>
<p>需求添加：人有身体</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">interface Shape&#123;</span><br><span class="line">    head:string,</span><br><span class="line">    body:string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Human&#123;</span><br><span class="line">    name:string,</span><br><span class="line">    age:number,</span><br><span class="line">    shape:Shape</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let p1:Human = &#123;name:&apos;hjx&apos;,age:18,shape:&#123;head:&apos;头&apos;,body:&apos;方的&apos;&#125;&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>需求添加：人不仅有身体，还要走路</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">interface Shape&#123;</span><br><span class="line">    head:string,</span><br><span class="line">    body:string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Human&#123;</span><br><span class="line">    name:string,</span><br><span class="line">    age:number,</span><br><span class="line">    shape:Shape,</span><br><span class="line">    say(word: string):void;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let p1:Human = &#123;</span><br><span class="line">    name:&apos;hjx&apos;,</span><br><span class="line">    age:18,</span><br><span class="line">    shape:&#123;head:&apos;头&apos;,body:&apos;方的&apos;&#125;,</span><br><span class="line">    say(word: string)&#123;</span><br><span class="line">        console.log(word)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">p1.say(&apos;I\&apos;m hjx&apos;)</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="只读属性。需求添加：人不能改名字"><a href="#只读属性。需求添加：人不能改名字" class="headerlink" title="只读属性。需求添加：人不能改名字"></a>只读属性。需求添加：人不能改名字</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">interface Human&#123;</span><br><span class="line">    readonly name:string,</span><br><span class="line">    age:number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let p1:Human = &#123;name:&apos;hjx&apos;,age:18&#125;;</span><br><span class="line"></span><br><span class="line">p1.name = &apos;aaa&apos;</span><br><span class="line">// 报错</span><br><span class="line">// Cannot assign to &apos;name&apos; because it is a constant or a read-only property.</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="可选属性"><a href="#可选属性" class="headerlink" title="可选属性"></a>可选属性</h4></blockquote>
<ul>
<li>有些人喜欢玩游戏，有些人什么都不玩</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">interface Shape&#123;</span><br><span class="line">    head:string,</span><br><span class="line">    body:string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Human&#123;</span><br><span class="line">    readonly name :string,</span><br><span class="line">    age:number,</span><br><span class="line">    shape:Shape,</span><br><span class="line">    likedGame?:Array&lt;string&gt;;</span><br><span class="line">    say(word: string):void;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let p1:Human = &#123;</span><br><span class="line">    name:&apos;hjx&apos;,</span><br><span class="line">    age:18,</span><br><span class="line">    shape:&#123;head:&apos;头&apos;,body:&apos;方的&apos;&#125;,</span><br><span class="line">    likedGame:[&apos;王者荣耀&apos;,&apos;lol&apos;],</span><br><span class="line">    say(word: string)&#123;</span><br><span class="line">        console.log(`$&#123;this.name&#125;-$&#123;word&#125;`);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let p2:Human = &#123;</span><br><span class="line">    name:&apos;hjx2&apos;,</span><br><span class="line">    age:20,</span><br><span class="line">    shape:&#123;head:&apos;头&apos;,body:&apos;方的&apos;&#125;,</span><br><span class="line">    say(word: string)&#123;</span><br><span class="line">        console.log(`$&#123;this.name&#125;-$&#123;word&#125;`);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="接口应用在函数里"><a href="#接口应用在函数里" class="headerlink" title="接口应用在函数里"></a>接口应用在函数里</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">interface RectConfig&#123;</span><br><span class="line">    height?: number,</span><br><span class="line">    width?: number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function createRect(config:RectConfig):void&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 由于可选  所以可以传递一个属性</span><br><span class="line">let mySquare = createRect(&#123;width:100&#125;)</span><br><span class="line">let mySquare2 = createRect(&#123;height:100&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>如果在参数里传递多余的是不允许的</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let mySquare3 = createRect(&#123;width:100,height:100,color:&apos;red&apos;&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>如果声明在变量里就允许</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">let config = &#123;</span><br><span class="line">    height:100,</span><br><span class="line">    width:100,</span><br><span class="line">    color:&apos;red&apos;</span><br><span class="line">&#125;</span><br><span class="line">let mySquare4 = createRect(config);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">let config2 = &#123;&#125; //这样也可以 ，因为接口定义的参数都是可选的</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="都可选，同时受你控制"><a href="#都可选，同时受你控制" class="headerlink" title="都可选，同时受你控制"></a>都可选，同时受你控制</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">interface RectConfig&#123;</span><br><span class="line">    height?: number;</span><br><span class="line">    width?: number;</span><br><span class="line">    [propName: string]: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let config = &#123;</span><br><span class="line">    height:100,</span><br><span class="line">    width:100,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">[propName: string] 代表 key 是一个string</span><br><span class="line">[propName: string]: number; 代表 key 对应的 value值必须是 number</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="给函数定义接口"><a href="#给函数定义接口" class="headerlink" title="给函数定义接口"></a>给函数定义接口</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">interface 二则运算&#123;</span><br><span class="line">    (a: number,b: number): number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let add:二则运算 = function(c: number, d: number): number&#123;</span><br><span class="line">    return c + d;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>- 接口里定义一个函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">interface 二则运算&#123;</span><br><span class="line">    (a: number,b: number): number;</span><br><span class="line">    逆运算(a: number,b: number): number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let add:二则运算=(</span><br><span class="line">    (): 二则运算 =&gt;&#123;</span><br><span class="line">        let x: any = function(a: number,b: number)&#123;</span><br><span class="line">            return a + b;</span><br><span class="line">        &#125;</span><br><span class="line">        x.逆运算 = function(a: number,b: number): number&#123;</span><br><span class="line">            return a - b;</span><br><span class="line">        &#125;</span><br><span class="line">        return x;</span><br><span class="line">    &#125;</span><br><span class="line">)();</span><br><span class="line"></span><br><span class="line">console.log(add(1,2)); // 3</span><br></pre></td></tr></table></figure>
<h3 id="接口的继承"><a href="#接口的继承" class="headerlink" title="接口的继承"></a>接口的继承</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">interface Animal&#123;</span><br><span class="line">    move(): void;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Human extends Animal&#123;</span><br><span class="line">    name: string;</span><br><span class="line">    age: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let p: Human = &#123;</span><br><span class="line">    name:&apos;hjx&apos;,</span><br><span class="line">    age:18,</span><br><span class="line">    move()&#123;</span><br><span class="line">        console.log(&apos;我在动&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">p.move();</span><br></pre></td></tr></table></figure>
<ul>
<li>多重继承</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">interface 有机物&#123;</span><br><span class="line">    c:boolean;</span><br><span class="line">    h:boolean;</span><br><span class="line">    o:boolean,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Animal&#123;</span><br><span class="line">    move(): void;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">interface Human extends Animal,有机物&#123;</span><br><span class="line">    name: string;</span><br><span class="line">    age: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let p: Human = &#123;</span><br><span class="line">    c:true,</span><br><span class="line">    h:true,</span><br><span class="line">    o:true,</span><br><span class="line">    name:&apos;hjx&apos;,</span><br><span class="line">    age:18,</span><br><span class="line">    move()&#123;</span><br><span class="line">        console.log(&apos;我在动&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">p.move();</span><br></pre></td></tr></table></figure>
<ul>
<li>串行的继承</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">interface 有机物&#123;</span><br><span class="line">    c:boolean;</span><br><span class="line">    h:boolean;</span><br><span class="line">    o:boolean,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Animal extends 有机物&#123;</span><br><span class="line">    move(): void;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">interface Human extends Animal&#123;</span><br><span class="line">    name: string;</span><br><span class="line">    age: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let p: Human = &#123;</span><br><span class="line">    c:true,</span><br><span class="line">    h:true,</span><br><span class="line">    o:true,</span><br><span class="line">    name:&apos;hjx&apos;,</span><br><span class="line">    age:18,</span><br><span class="line">    move()&#123;</span><br><span class="line">        console.log(&apos;我在动&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">p.move();</span><br></pre></td></tr></table></figure>
<blockquote>
<p>一个接口继承了两个接口，顺序重要吗？</p>
</blockquote>
<ul>
<li>不重要</li>
<li>但是如果那两个接口拥有一个共同的属性就麻烦了，</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">interface 有机物&#123;</span><br><span class="line">    c:boolean;</span><br><span class="line">    h:boolean;</span><br><span class="line">    o:boolean;</span><br><span class="line">    xxx:string;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Animal&#123;</span><br><span class="line">    move(): void;</span><br><span class="line">    xxx:number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 继承的两个接口存在相同属性，没有覆盖关系，直接报错</span><br><span class="line">interface Human extends Animal,有机物&#123;</span><br><span class="line">    name: string;</span><br><span class="line">    age: number;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="串行也报错"><a href="#串行也报错" class="headerlink" title="串行也报错"></a>串行也报错</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">interface 有机物&#123;</span><br><span class="line">    c:boolean;</span><br><span class="line">    h:boolean;</span><br><span class="line">    o:boolean;</span><br><span class="line">    xxx:string;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Animal extends 有机物&#123;</span><br><span class="line">    move(): void;</span><br><span class="line">    xxx:number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Human extends Animal&#123;</span><br><span class="line">    name: string;</span><br><span class="line">    age: number;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>除非类型一致</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">interface 有机物&#123;</span><br><span class="line">    c:boolean;</span><br><span class="line">    h:boolean;</span><br><span class="line">    o:boolean;</span><br><span class="line">    xxx:string;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Animal extends 有机物&#123;</span><br><span class="line">    move(): void;</span><br><span class="line">    xxx:string;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Human extends Animal&#123;</span><br><span class="line">    name: string;</span><br><span class="line">    age: number;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="接口的顺序写在后面可以吗？"><a href="#接口的顺序写在后面可以吗？" class="headerlink" title="接口的顺序写在后面可以吗？"></a>接口的顺序写在后面可以吗？</h4><ul>
<li>最好不要瞎写</li>
<li>ts最烦的就是 你先用，后面在声明</li>
<li>可不可以把 interface 写后面——你有病吗？</li>
<li>可以写在后面，但是建议写前面</li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/TS入门/">TS入门</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2019/02/04/TS入门004接口01/" title="TS入门004接口01" itemprop="url">TS入门004接口01</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stevin" target="_blank" itemprop="author">Stevin</a>
		
  <p class="article-time">
    <time datetime="2019-02-04T06:59:50.000Z" itemprop="datePublished"> Published 2019-02-04</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="初始化运行环境"><a href="#初始化运行环境" class="headerlink" title="初始化运行环境"></a>初始化运行环境</h3><ul>
<li>进入目录建立配置文件</li>
<li></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"># 使用 vscode，不然没法继续了</span><br><span class="line"># 新建目录 ts004</span><br><span class="line">mkdir ts004</span><br><span class="line"></span><br><span class="line"># 进入目录</span><br><span class="line">cd ts004</span><br><span class="line"></span><br><span class="line"># 建立 .vscode 目录</span><br><span class="line"># 在 .vscode 目录里新建 lanuch.json</span><br><span class="line"># program 位置 填写你本地  ts-node 命令的路径</span><br><span class="line"># which ts-node</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    &quot;configurations&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">        &quot;name&quot;: &quot;ts-node&quot;,</span><br><span class="line">        &quot;type&quot;: &quot;node&quot;,</span><br><span class="line">        &quot;request&quot;: &quot;launch&quot;,</span><br><span class="line">        &quot;program&quot;: &quot;/usr/local/bin/ts-node&quot;,</span><br><span class="line">        &quot;args&quot;: [&quot;$&#123;relativeFile&#125;&quot;],</span><br><span class="line">        &quot;cwd&quot;: &quot;$&#123;workspaceRoot&#125;&quot;,</span><br><span class="line">        &quot;protocol&quot;: &quot;inspector&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#  ts004/001.ts</span><br><span class="line">let a:string = &apos;hi&apos;;</span><br><span class="line">console.log(a);</span><br><span class="line"></span><br><span class="line"># 选中 001.ts 点击 侧边栏的小虫子 </span><br><span class="line">打印 hi 代表你的运行环境就好了</span><br></pre></td></tr></table></figure>
<h3 id="TS-数据类型"><a href="#TS-数据类型" class="headerlink" title="TS 数据类型"></a>TS 数据类型</h3><p>JS七种数据类型 + 枚举 + Any + void + never</p>
<p>那七种呢？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let aa: null = null;</span><br><span class="line">let bb: undefined = undefined;</span><br><span class="line"></span><br><span class="line">let cc: boolean = false;</span><br><span class="line">let dd: string = &apos;hello&apos;;</span><br><span class="line">let ee: number = 1.23;</span><br><span class="line">let ff: Object = &#123;name:&apos;hjx&apos;&#125;;</span><br><span class="line">let ss = Symbol(&apos;key&apos;);  // 不支持打印，很少用这里不进行解决。</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="any-类型"><a href="#any-类型" class="headerlink" title="any 类型"></a>any 类型</h4></blockquote>
<p>让喜欢动态类型的人有一个退路</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// ts里有个规定——你声明了 类型就不能更改,但是在js里是可以的</span><br><span class="line">/*</span><br><span class="line">let n:number = 1;</span><br><span class="line">n = &apos;hello&apos;</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">// 如何在 ts 里给一个可以改变类型的变量怎么办？</span><br><span class="line">let n2: any = 1;</span><br><span class="line">n2 = &apos;hello&apos;</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 以前想给员工信息进行统计，用这样一个字段， 男的就是 man 女的就是 woman</span><br><span class="line">let gender = &apos;man&apos;</span><br><span class="line"></span><br><span class="line">gender = &apos;woman&apos;</span><br><span class="line"></span><br><span class="line">// 有时你写错了个字母也发现不了</span><br><span class="line">gender = &apos;men&apos;</span><br><span class="line">gender = &apos;women&apos;</span><br></pre></td></tr></table></figure>
<ul>
<li>用字符串来代表状态是存在——手误导致状态变多了</li>
<li>人总是会出错的</li>
<li>答案就是用枚举</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">enum Gender&#123;</span><br><span class="line">    Man,</span><br><span class="line">    Woman</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//此时在声明类型</span><br><span class="line">let gender:Gender = Gender.Man</span><br><span class="line">console.log(gender)  // 0</span><br><span class="line">// 万一要修改就</span><br><span class="line">gender = Gender.Woman</span><br><span class="line">console.log(gender)  // 1</span><br><span class="line"></span><br><span class="line">// 根据打印结果来看 enum 实际是根据你传递的枚举顺序返回索引</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果我想指定别的呢？</p>
</blockquote>
<ul>
<li>枚举的值是对应一个东西，如果你不给就按照索引顺序</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">enum Gender2&#123;</span><br><span class="line">    Man = 3,</span><br><span class="line">    Woman = &apos;hello&apos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//此时在声明类型</span><br><span class="line">let gender2:Gender2 = Gender2.Man</span><br><span class="line">console.log(gender2)  // 3</span><br><span class="line">// 万一要修改就</span><br><span class="line">gender2 = Gender2.Woman</span><br><span class="line">console.log(gender2)  // hello</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="void"><a href="#void" class="headerlink" title="void"></a>void</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// void 明确的告诉别人 没有返回值</span><br><span class="line">function print(x: any):void&#123;</span><br><span class="line">    console.log(x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// let a:number = print(1) //报错 因为已经说了没有返回值</span><br><span class="line"></span><br><span class="line">// 如果a 不声明类型呢?</span><br><span class="line">let a = print(1); </span><br><span class="line">a === undefined // a 就是 undefined</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="undefined"><a href="#undefined" class="headerlink" title="undefined"></a>undefined</h4></blockquote>
<ul>
<li>你可以给任何类型的值赋值为  undefined</li>
<li>默认情况下，undefined 是所有类型的子类型，意思就是你可以把 null / undefined 赋值给所有类型</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let a1:number = undefined</span><br><span class="line">let a2:string = undefined</span><br><span class="line">let a3:boolean = undefined</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 类型转换</span><br><span class="line">let n: number = 123;</span><br><span class="line">// n.split(&apos;&apos;) // 报错</span><br><span class="line">// 你只能转换之后在用</span><br><span class="line">let str = n.toString()</span><br><span class="line">console.log(str.split(&apos;&apos;));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// ts 如何进行转化呢？</span><br><span class="line">let m: number = 123;</span><br><span class="line">// 还是报错</span><br><span class="line">// console.log(&lt;string&gt;m.split(&apos;&apos;))</span><br></pre></td></tr></table></figure>
<ul>
<li>因为类型转换必须从一个宽泛的类型才可以转换</li>
<li>也就是说 声明的时候应该是 any</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let n1: any = 123</span><br><span class="line">console.log(n1.split(&apos;&apos;)) // 这样写是有安全隐患的</span><br><span class="line">// 会在运行的时候报错</span><br></pre></td></tr></table></figure>
<ul>
<li>你必须确保它是 string 才可以</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let n2: any = &apos;123&apos;</span><br><span class="line">console.log(n2.split(&apos;&apos;))</span><br></pre></td></tr></table></figure>
<blockquote>
<p>实际用法是这样</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 明确告诉程序它是什么类型, 意思就是 你不用担心 n3是什么，我能确保它是 string ——只是主观判断 </span><br><span class="line">// 如果你实际这样  let n3: any = 123 声明 还是会运行报错，那会是谁的责任，写代码的人</span><br><span class="line">// 这样的意义有什么用，以后会有用——这个概念叫做 断言</span><br><span class="line">let n3: any = &apos;123&apos;</span><br><span class="line">console.log(&lt;string&gt;n3.split(&apos;&apos;))</span><br></pre></td></tr></table></figure>
<p>断言两种方式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(&lt;string&gt;someValue).length;</span><br><span class="line">(someValue as string).length;</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="类型转换的反例"><a href="#类型转换的反例" class="headerlink" title="类型转换的反例"></a>类型转换的反例</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let a = &apos;123&apos;</span><br><span class="line">a = a - 0</span><br><span class="line">// 在 js 里 可以 把 a 变成 number </span><br><span class="line">// 在 ts 里 是绝对禁止 这样的类型转换</span><br><span class="line">// 但是 js 缺喜欢 偷偷的 类型转换</span><br><span class="line"></span><br><span class="line">let b = 123</span><br><span class="line">b = b + &apos;&apos; // &apos;123&apos;</span><br></pre></td></tr></table></figure>
<p>正确做法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 正确姿势</span><br><span class="line">let a:number = 123;</span><br><span class="line">let b:string = a.toString();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">let c:string = &apos;123&apos;</span><br><span class="line">let d:number = parseFloat(c);</span><br><span class="line"></span><br><span class="line">let s1:number = 1;</span><br><span class="line">// 非常不推荐这样写</span><br><span class="line">let b1:boolean = !!s1; </span><br><span class="line">//应该这样</span><br><span class="line">let b2:boolean = Boolean(s1);</span><br></pre></td></tr></table></figure>
<p>为什么用 Boolean 来转换呢？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// node 里 0是false 非0是true</span><br><span class="line">!!0  // false</span><br><span class="line">!!1  // true</span><br><span class="line">!!2  // true</span><br><span class="line">!!-1 // true</span><br><span class="line"></span><br><span class="line">// ruby 里 数字都是 true</span><br><span class="line">!!0  // true</span><br><span class="line">!!1  // true</span><br><span class="line">!!2  // true</span><br><span class="line">!!-1 // true</span><br></pre></td></tr></table></figure>
<blockquote>
<p>字符串和对象的转换</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">let o1 = &#123;name:&apos;hjx&apos;,age:18&#125;</span><br><span class="line">let str1 = JSON.stringify(o1);</span><br><span class="line">console.log(o1); </span><br><span class="line">console.log(str1);</span><br><span class="line"></span><br><span class="line">let str2 = `&#123;&quot;name&quot;: &quot;aaa&quot;, &quot;age&quot;: 18&#125;`;</span><br><span class="line">let o2 = JSON.parse(str2);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 结果如下</span><br><span class="line">Object &#123;name: &quot;hjx&quot;, age: 18&#125;</span><br><span class="line">&#123;&quot;name&quot;:&quot;hjx&quot;,&quot;age&quot;:18&#125;</span><br></pre></td></tr></table></figure>
<h3 id="变量声明"><a href="#变量声明" class="headerlink" title="变量声明"></a>变量声明</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">尽量不用 var,使用 let 和 const</span><br></pre></td></tr></table></figure>
<ul>
<li>变量用 let</li>
<li>常量用 const</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">for(var i=0;i&lt;10;i++)&#123;</span><br><span class="line">    setTimeout(function()&#123;</span><br><span class="line">        console.log(i);</span><br><span class="line">    &#125;,100*i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 打印十次 10</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="类型转换的一个问题"><a href="#类型转换的一个问题" class="headerlink" title="类型转换的一个问题"></a>类型转换的一个问题</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">let a1 = [1,2,3]</span><br><span class="line">let a2 = [4,5,6]</span><br><span class="line">let a3 = a1 + a2 // [1,2,34,5,6]</span><br><span class="line"></span><br><span class="line">// 正确姿势</span><br><span class="line">let a4 = [...a1,...a2]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">let o1 = &#123;name:&apos;hjx&apos;&#125;</span><br><span class="line">let o2 = &#123;age:18&#125;</span><br><span class="line"></span><br><span class="line">let o3 = &#123;...o1,...o2&#125;</span><br></pre></td></tr></table></figure>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/TS入门/">TS入门</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2019/02/02/TS入门003之ts操作dom/" title="TS入门003之ts操作dom" itemprop="url">TS入门003之ts操作dom</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stevin" target="_blank" itemprop="author">Stevin</a>
		
  <p class="article-time">
    <time datetime="2019-02-02T02:58:49.000Z" itemprop="datePublished"> Published 2019-02-02</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="做一个计算器功能"><a href="#做一个计算器功能" class="headerlink" title="做一个计算器功能"></a>做一个计算器功能</h3><ul>
<li>安装 本地server</li>
<li>新建目录 ts003</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm i http-server -g</span><br><span class="line"></span><br><span class="line"># 开启服务在目录 ts003</span><br><span class="line">http-server -c-1</span><br></pre></td></tr></table></figure>
<ul>
<li>初始化代码</li>
</ul>
<p>ts003/index.html</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;script src=&quot;./caculator.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>ts003/caculator.ts</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    let a:number = 1;</span><br><span class="line">    console.log(a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>本地实时编译ts</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 注意是当前目录  ts003</span><br><span class="line">tsc -w caculator.ts</span><br></pre></td></tr></table></figure>
<p>这样你把 http-server 开启的端口，在浏览器打开，就能看到打印1</p>
<blockquote>
<p>你期望这样</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">html里直接运行 ts   但是这样是走不通的</span><br><span class="line"></span><br><span class="line">所以</span><br><span class="line"></span><br><span class="line">html里只能运行js, 把ts编译为js</span><br></pre></td></tr></table></figure>
<h3 id="开始做一个计算器"><a href="#开始做一个计算器" class="headerlink" title="开始做一个计算器"></a>开始做一个计算器</h3><blockquote>
<h4 id="1-用ts生成-button-添加到页面"><a href="#1-用ts生成-button-添加到页面" class="headerlink" title="1.用ts生成 button 添加到页面"></a>1.用ts生成 button 添加到页面</h4></blockquote>
<p>caculator.ts</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;   </span><br><span class="line">    // 这是js</span><br><span class="line">    // let button = document.createElement(&apos;button&apos;);</span><br><span class="line">    // 使用 ts</span><br><span class="line">    let button:HTMLButtonElement = document.createElement(&apos;button&apos;);</span><br><span class="line">    button.textContent = &apos;0&apos;;</span><br><span class="line">    document.body.appendChild(button);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="2-函数提取"><a href="#2-函数提取" class="headerlink" title="2.函数提取"></a>2.函数提取</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;   </span><br><span class="line">    function createButton(text:string)&#123;</span><br><span class="line">        let button:HTMLButtonElement = document.createElement(&apos;button&apos;);</span><br><span class="line">        button.textContent = text;</span><br><span class="line">        document.body.appendChild(button);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    createButton(&apos;0&apos;)</span><br><span class="line">    createButton(&apos;1&apos;)</span><br><span class="line">    createButton(&apos;2&apos;)</span><br><span class="line">    createButton(&apos;3&apos;)</span><br><span class="line">    createButton(&apos;4&apos;)</span><br><span class="line">    createButton(&apos;5&apos;)</span><br><span class="line">    createButton(&apos;6&apos;)</span><br><span class="line">    createButton(&apos;7&apos;)</span><br><span class="line">    createButton(&apos;8&apos;)</span><br><span class="line">    createButton(&apos;9&apos;)</span><br><span class="line"></span><br><span class="line">    // &apos;0&apos; 表示 字符串</span><br><span class="line">    // 0 表示 数字</span><br><span class="line">    // 如果你瞎搞 ts 就弄死你</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="3-继续优化"><a href="#3-继续优化" class="headerlink" title="3.继续优化"></a>3.继续优化</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// 造出所有按钮</span><br><span class="line">&#123;   </span><br><span class="line">    function createButton(text:string)&#123;</span><br><span class="line">        let button:HTMLButtonElement = document.createElement(&apos;button&apos;);</span><br><span class="line">        button.textContent = text;</span><br><span class="line">        document.body.appendChild(button);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    `clear,/,</span><br><span class="line">    7,8,9,*,</span><br><span class="line">    4,5,6,-,</span><br><span class="line">    1,2,3,+,</span><br><span class="line">    0,.,=`.split(&apos;,&apos;).forEach(string=&gt;&#123;</span><br><span class="line">        createButton(string);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="4-我们希望按钮换行-就跟计算器那样排列"><a href="#4-我们希望按钮换行-就跟计算器那样排列" class="headerlink" title="4.我们希望按钮换行 就跟计算器那样排列"></a>4.我们希望按钮换行 就跟计算器那样排列</h4></blockquote>
<ul>
<li>二维数组  </li>
<li>TS如何定义二维数组呢？</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">//二位数组 ——  Array&lt;Array&lt;string&gt;&gt;</span><br><span class="line"></span><br><span class="line">&#123;   </span><br><span class="line">    function createButton(text:string,container:HTMLElement)&#123;</span><br><span class="line">        let button:HTMLButtonElement = document.createElement(&apos;button&apos;);</span><br><span class="line">        button.textContent = text;</span><br><span class="line">        container.appendChild(button);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    let keys:Array&lt;Array&lt;string&gt;&gt; = [</span><br><span class="line">        [&quot;clear&quot;, &quot;/&quot;],</span><br><span class="line">        [&quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;*&quot;], </span><br><span class="line">        [&quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;-&quot;], </span><br><span class="line">        [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;+&quot;],</span><br><span class="line">        [ &quot;0&quot;, &quot;.&quot;, &quot;=&quot;]</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    keys.forEach( ( textList:Array&lt;string&gt; )=&gt;&#123;</span><br><span class="line">        let div:HTMLDivElement = document.createElement(&apos;div&apos;);</span><br><span class="line">        textList.forEach( (text:string)=&gt;&#123;</span><br><span class="line">            createButton(text,div);</span><br><span class="line">        &#125;)</span><br><span class="line">        document.body.appendChild(div);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="5-优化一下样式"><a href="#5-优化一下样式" class="headerlink" title="5.优化一下样式"></a>5.优化一下样式</h4></blockquote>
<ul>
<li>改变一下层级结构</li>
<li>添加一些类名</li>
</ul>
<p>caculator.ts</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">// 添加样式</span><br><span class="line">&#123;   </span><br><span class="line">    function createButton(text:string,container:HTMLElement,className:string)&#123;</span><br><span class="line">        let button:HTMLButtonElement = document.createElement(&apos;button&apos;);</span><br><span class="line">        button.textContent = text;</span><br><span class="line">        if(className)&#123;</span><br><span class="line">            button.className = className;</span><br><span class="line">        &#125;</span><br><span class="line">        container.appendChild(button);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 让计算器有个容器而不是直接塞到 body里</span><br><span class="line">    let container:HTMLDivElement = document.createElement(&apos;div&apos;);</span><br><span class="line">    container.classList.add(&apos;caculator&apos;);</span><br><span class="line">    document.body.appendChild(container);</span><br><span class="line">    // 显示结果的地方</span><br><span class="line">    let output:HTMLDivElement = document.createElement(&apos;div&apos;);</span><br><span class="line">    output.classList.add(&apos;output&apos;);</span><br><span class="line">    let span:HTMLSpanElement = document.createElement(&apos;span&apos;);</span><br><span class="line">    span.textContent = &apos;0&apos;;</span><br><span class="line">    output.appendChild(span);</span><br><span class="line">    container.appendChild(output);</span><br><span class="line"></span><br><span class="line">    let keys:Array&lt;Array&lt;string&gt;&gt; = [</span><br><span class="line">        [&quot;clear&quot;, &quot;/&quot;],</span><br><span class="line">        [&quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;*&quot;], </span><br><span class="line">        [&quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;-&quot;], </span><br><span class="line">        [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;+&quot;],</span><br><span class="line">        [ &quot;0&quot;, &quot;.&quot;, &quot;=&quot;]</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    keys.forEach( ( textList:Array&lt;string&gt; )=&gt;&#123;</span><br><span class="line">        let div:HTMLDivElement = document.createElement(&apos;div&apos;);</span><br><span class="line">        div.classList.add(&apos;row&apos;);</span><br><span class="line">        textList.forEach( (text:string)=&gt;&#123;</span><br><span class="line">            // 添加样式</span><br><span class="line">            createButton(text,div,`button text-$&#123;text&#125;`);</span><br><span class="line">        &#125;)</span><br><span class="line">        container.appendChild(div);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>caculator.css</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">.caculator&#123;</span><br><span class="line">    /* 让元素内缩 不然output就占满了 */</span><br><span class="line">    display: inline-block;</span><br><span class="line">&#125;</span><br><span class="line">.caculator .button&#123;</span><br><span class="line">    height: 6em;</span><br><span class="line">    width:6em;</span><br><span class="line">&#125;</span><br><span class="line">.caculator .button.text-clear&#123;</span><br><span class="line">    width:18em;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.caculator .button.text-0&#123;</span><br><span class="line">    width:12em;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.caculator .output&#123;</span><br><span class="line">    border:1px solid grey;</span><br><span class="line">    height: 6em;</span><br><span class="line">    position: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.caculator .output span&#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    right:.4em;</span><br><span class="line">    bottom:.4em;</span><br><span class="line">    font-size: 40px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="6-事件监听"><a href="#6-事件监听" class="headerlink" title="6.事件监听"></a>6.事件监听</h4></blockquote>
<ul>
<li>放弃监听每一个button</li>
<li>用事件委托，监听容器</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">container.addEventListener(&apos;click&apos;,function(event)&#123;</span><br><span class="line">    console.log(event.target);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="7-处理计算"><a href="#7-处理计算" class="headerlink" title="7.处理计算"></a>7.处理计算</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">&#123;   </span><br><span class="line">    // 声明创建函数</span><br><span class="line">    function createButton(text:string,container:HTMLElement,className:string)&#123;</span><br><span class="line">        let button:HTMLButtonElement = document.createElement(&apos;button&apos;);</span><br><span class="line">        button.textContent = text;</span><br><span class="line">        if(className)&#123;</span><br><span class="line">            button.className = className;</span><br><span class="line">        &#125;</span><br><span class="line">        container.appendChild(button);</span><br><span class="line">        return button;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 让计算器有个容器而不是直接塞到 body里</span><br><span class="line">    let container:HTMLDivElement = document.createElement(&apos;div&apos;);</span><br><span class="line">    container.classList.add(&apos;caculator&apos;);</span><br><span class="line">    document.body.appendChild(container);</span><br><span class="line">    </span><br><span class="line">    // 显示结果的地方</span><br><span class="line">    let output:HTMLDivElement = document.createElement(&apos;div&apos;);</span><br><span class="line">    output.classList.add(&apos;output&apos;);</span><br><span class="line"></span><br><span class="line">    // 创建 output 里的 span</span><br><span class="line">    let span:HTMLSpanElement = document.createElement(&apos;span&apos;);</span><br><span class="line">    span.textContent = &apos;0&apos;;</span><br><span class="line">    output.appendChild(span);</span><br><span class="line">    container.appendChild(output);</span><br><span class="line"></span><br><span class="line">    // 三个变量  n1 n2 数字  operator 操作符</span><br><span class="line">    let n1:number</span><br><span class="line">    let n2:number</span><br><span class="line">    let operator:string</span><br><span class="line"></span><br><span class="line">    container.addEventListener(&apos;click&apos;,function(event)&#123;</span><br><span class="line">        if( event.target instanceof HTMLButtonElement)&#123;</span><br><span class="line">            let button:HTMLButtonElement = event.target;</span><br><span class="line">            let text:string = button.textContent</span><br><span class="line">            //看 text 是不是0-9的数字</span><br><span class="line">            if(&apos;0123456789&apos;.indexOf(text)&gt;=0)&#123;</span><br><span class="line">                console.log(&apos;数字&apos;)</span><br><span class="line">                // 如果已经有操作符就操作n2</span><br><span class="line">                if(operator)&#123;</span><br><span class="line">                    if(n2)&#123;</span><br><span class="line">                        n2 = parseInt(n2.toString() + text);</span><br><span class="line">                    &#125;else&#123;</span><br><span class="line">                        n2 = parseInt(text);</span><br><span class="line">                    &#125;</span><br><span class="line">                    span.textContent = n2.toString();</span><br><span class="line">                &#125;else&#123;</span><br><span class="line">                    if(n1)&#123;</span><br><span class="line">                        n1 = parseInt(n1.toString() + text);</span><br><span class="line">                    &#125;else&#123;</span><br><span class="line">                        n1 = parseInt(text);</span><br><span class="line">                    &#125;</span><br><span class="line">                    span.textContent = n1.toString();</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">            &#125;else if(&apos;+*-/&apos;.indexOf(text)&gt;=0)&#123;</span><br><span class="line">                console.log(&apos;操作符&apos;)</span><br><span class="line">                operator = text;</span><br><span class="line">            &#125;else if(&apos;=&apos;.indexOf(text)&gt;=0)&#123;</span><br><span class="line">                let result:number;</span><br><span class="line">                if(operator === &apos;+&apos;)&#123;</span><br><span class="line">                    result = n1 + n2</span><br><span class="line">                &#125;else if(operator === &apos;-&apos;)&#123;</span><br><span class="line">                    result = n1 - n2</span><br><span class="line">                &#125;else if(operator === &apos;*&apos;)&#123;</span><br><span class="line">                    result = n1 * n2</span><br><span class="line">                &#125;else if(operator === &apos;/&apos;)&#123;</span><br><span class="line">                    result = n1 / n2</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                span.textContent = result.toString();</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                console.log(&apos;不知道&apos;)</span><br><span class="line">            &#125;</span><br><span class="line">            console.log(n1,operator,n2)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    let keys:Array&lt;Array&lt;string&gt;&gt; = [</span><br><span class="line">        [&quot;clear&quot;, &quot;/&quot;],</span><br><span class="line">        [&quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;*&quot;], </span><br><span class="line">        [&quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;-&quot;], </span><br><span class="line">        [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;+&quot;],</span><br><span class="line">        [ &quot;0&quot;, &quot;.&quot;, &quot;=&quot;]</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    keys.forEach( ( textList:Array&lt;string&gt; )=&gt;&#123;</span><br><span class="line">        let div:HTMLDivElement = document.createElement(&apos;div&apos;);</span><br><span class="line">        div.classList.add(&apos;row&apos;);</span><br><span class="line">        textList.forEach( (text:string)=&gt;&#123;</span><br><span class="line">            // 添加样式</span><br><span class="line">            createButton(text,div,`button text-$&#123;text&#125;`);</span><br><span class="line">        &#125;)</span><br><span class="line">        container.appendChild(div);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="8-class使用"><a href="#8-class使用" class="headerlink" title="8.class使用"></a>8.class使用</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line">// class 使用</span><br><span class="line">&#123;   </span><br><span class="line">    class Caculator&#123;</span><br><span class="line">        public container:HTMLDivElement;</span><br><span class="line">        private output:HTMLDivElement;</span><br><span class="line">        private span:HTMLSpanElement;</span><br><span class="line">        public n1:number;</span><br><span class="line">        public n2:number;</span><br><span class="line">        public operator:string;</span><br><span class="line">        public keys:Array&lt;Array&lt;string&gt;&gt; = [</span><br><span class="line">            [&quot;clear&quot;, &quot;/&quot;],</span><br><span class="line">            [&quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;*&quot;], </span><br><span class="line">            [&quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;-&quot;], </span><br><span class="line">            [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;+&quot;],</span><br><span class="line">            [ &quot;0&quot;, &quot;.&quot;, &quot;=&quot;]</span><br><span class="line">        ];</span><br><span class="line"></span><br><span class="line">        constructor()&#123;</span><br><span class="line">            this.createContainer();</span><br><span class="line">            this.createOutput();</span><br><span class="line">            this.createButtons();</span><br><span class="line">            this.bindEvents();</span><br><span class="line">        &#125;</span><br><span class="line">        createButton(text:string,container:HTMLElement,className:string)&#123;</span><br><span class="line">            let button:HTMLButtonElement = document.createElement(&apos;button&apos;);</span><br><span class="line">            button.textContent = text;</span><br><span class="line">            if(className)&#123;</span><br><span class="line">                button.className = className;</span><br><span class="line">            &#125;</span><br><span class="line">            container.appendChild(button);</span><br><span class="line">            return button;</span><br><span class="line">        &#125;</span><br><span class="line">        createContainer()&#123;</span><br><span class="line">            let container:HTMLDivElement = document.createElement(&apos;div&apos;);</span><br><span class="line">            container.classList.add(&apos;caculator&apos;);</span><br><span class="line">            document.body.appendChild(container);</span><br><span class="line">            this.container = container;</span><br><span class="line">        &#125;</span><br><span class="line">        createOutput()&#123;</span><br><span class="line">            let output:HTMLDivElement = document.createElement(&apos;div&apos;);</span><br><span class="line">            output.classList.add(&apos;output&apos;);</span><br><span class="line"></span><br><span class="line">            let span:HTMLSpanElement = document.createElement(&apos;span&apos;);</span><br><span class="line">            span.textContent = &apos;0&apos;;</span><br><span class="line">            output.appendChild(span);</span><br><span class="line"></span><br><span class="line">            this.output = output;</span><br><span class="line">            this.span = span;</span><br><span class="line">            this.container.appendChild(output);</span><br><span class="line">        &#125;</span><br><span class="line">        createButtons()&#123;</span><br><span class="line">            this.keys.forEach( ( textList:Array&lt;string&gt; )=&gt;&#123;</span><br><span class="line">                let div:HTMLDivElement = document.createElement(&apos;div&apos;);</span><br><span class="line">                div.classList.add(&apos;row&apos;);</span><br><span class="line">                textList.forEach( (text:string)=&gt;&#123;</span><br><span class="line">                    // 添加样式</span><br><span class="line">                    this.createButton(text,div,`button text-$&#123;text&#125;`);</span><br><span class="line">                &#125;)</span><br><span class="line">                this.container.appendChild(div);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        bindEvents()&#123;</span><br><span class="line">            this.container.addEventListener(&apos;click&apos;,(event)=&gt;&#123;</span><br><span class="line">                if( event.target instanceof HTMLButtonElement)&#123;</span><br><span class="line">                    let button:HTMLButtonElement = event.target;</span><br><span class="line">                    let text:string = button.textContent</span><br><span class="line">                    //看 text 是不是0-9的数字</span><br><span class="line">                    if(&apos;0123456789&apos;.indexOf(text)&gt;=0)&#123;</span><br><span class="line">                        console.log(&apos;数字&apos;)</span><br><span class="line">                        // 如果已经有操作符就操作n2</span><br><span class="line">                        if(this.operator)&#123;</span><br><span class="line">                            if(this.n2)&#123;</span><br><span class="line">                                this.n2 = parseInt(this.n2.toString() + text);</span><br><span class="line">                            &#125;else&#123;</span><br><span class="line">                                this.n2 = parseInt(text);</span><br><span class="line">                            &#125;</span><br><span class="line">                            this.span.textContent = this.n2.toString();</span><br><span class="line">                        &#125;else&#123;</span><br><span class="line">                            if(this.n1)&#123;</span><br><span class="line">                                this.n1 = parseInt(this.n1.toString() + text);</span><br><span class="line">                            &#125;else&#123;</span><br><span class="line">                                this.n1 = parseInt(text);</span><br><span class="line">                            &#125;</span><br><span class="line">                            this.span.textContent = this.n1.toString();</span><br><span class="line">                        &#125;</span><br><span class="line">                        </span><br><span class="line">                    &#125;else if(&apos;+-*/&apos;.indexOf(text)&gt;=0)&#123;</span><br><span class="line">                        console.log(&apos;操作符&apos;)</span><br><span class="line">                        this.operator = text;</span><br><span class="line">                    &#125;else if(&apos;=&apos;.indexOf(text)&gt;=0)&#123;</span><br><span class="line">                        let result:number;</span><br><span class="line">                        if(this.operator === &apos;+&apos;)&#123;</span><br><span class="line">                            result = this.n1 + this.n2;</span><br><span class="line">                        &#125;else if(this.operator === &apos;-&apos;)&#123;</span><br><span class="line">                            result = this.n1 - this.n2;</span><br><span class="line">                        &#125;else if(this.operator === &apos;*&apos;)&#123;</span><br><span class="line">                            result = this.n1 * this.n2;</span><br><span class="line">                        &#125;else if(this.operator === &apos;/&apos;)&#123;</span><br><span class="line">                            result = this.n1 / this.n2;</span><br><span class="line">                        &#125;</span><br><span class="line">        </span><br><span class="line">                        this.span.textContent = result.toString();</span><br><span class="line">                    &#125;else&#123;</span><br><span class="line">                        console.log(&apos;不知道&apos;)</span><br><span class="line">                    &#125;</span><br><span class="line">                    console.log(this.n1,this.operator,this.n2);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   new Caculator();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="优化"><a href="#优化" class="headerlink" title="优化"></a>优化</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line">&#123;   </span><br><span class="line">    class Caculator&#123;</span><br><span class="line">        public container:HTMLDivElement;</span><br><span class="line">        private output:HTMLDivElement;</span><br><span class="line">        private span:HTMLSpanElement;</span><br><span class="line">        public n1:string = null; // 用 number 导致 1.0 会变成 1</span><br><span class="line">        public n2:string = null;</span><br><span class="line">        public operator:string = null;</span><br><span class="line">        public result:string = null;</span><br><span class="line">        public keys:Array&lt;Array&lt;string&gt;&gt; = [</span><br><span class="line">            [&quot;clear&quot;, &quot;/&quot;],</span><br><span class="line">            [&quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;*&quot;], </span><br><span class="line">            [&quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;-&quot;], </span><br><span class="line">            [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;+&quot;],</span><br><span class="line">            [ &quot;0&quot;, &quot;.&quot;, &quot;=&quot;]</span><br><span class="line">        ];</span><br><span class="line"></span><br><span class="line">        constructor()&#123;</span><br><span class="line">            this.createContainer();</span><br><span class="line">            this.createOutput();</span><br><span class="line">            this.createButtons();</span><br><span class="line">            this.bindEvents();</span><br><span class="line">        &#125;</span><br><span class="line">        createButton(text:string,container:HTMLElement,className:string)&#123;</span><br><span class="line">            let button:HTMLButtonElement = document.createElement(&apos;button&apos;);</span><br><span class="line">            button.textContent = text;</span><br><span class="line">            if(className)&#123;</span><br><span class="line">                button.className = className;</span><br><span class="line">            &#125;</span><br><span class="line">            container.appendChild(button);</span><br><span class="line">            return button;</span><br><span class="line">        &#125;</span><br><span class="line">        createContainer()&#123;</span><br><span class="line">            let container:HTMLDivElement = document.createElement(&apos;div&apos;);</span><br><span class="line">            container.classList.add(&apos;caculator&apos;);</span><br><span class="line">            document.body.appendChild(container);</span><br><span class="line">            this.container = container;</span><br><span class="line">        &#125;</span><br><span class="line">        createOutput()&#123;</span><br><span class="line">            let output:HTMLDivElement = document.createElement(&apos;div&apos;);</span><br><span class="line">            output.classList.add(&apos;output&apos;);</span><br><span class="line"></span><br><span class="line">            let span:HTMLSpanElement = document.createElement(&apos;span&apos;);</span><br><span class="line">            span.textContent = &apos;0&apos;;</span><br><span class="line">            output.appendChild(span);</span><br><span class="line"></span><br><span class="line">            this.output = output;</span><br><span class="line">            this.span = span;</span><br><span class="line">            this.container.appendChild(output);</span><br><span class="line">        &#125;</span><br><span class="line">        createButtons()&#123;</span><br><span class="line">            this.keys.forEach( ( textList:Array&lt;string&gt; )=&gt;&#123;</span><br><span class="line">                let div:HTMLDivElement = document.createElement(&apos;div&apos;);</span><br><span class="line">                div.classList.add(&apos;row&apos;);</span><br><span class="line">                textList.forEach( (text:string)=&gt;&#123;</span><br><span class="line">                    // 添加样式</span><br><span class="line">                    this.createButton(text,div,`button text-$&#123;text&#125;`);</span><br><span class="line">                &#125;)</span><br><span class="line">                this.container.appendChild(div);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        bindEvents()&#123;</span><br><span class="line">            this.container.addEventListener(&apos;click&apos;,(event)=&gt;&#123;</span><br><span class="line">                if( event.target instanceof HTMLButtonElement)&#123;</span><br><span class="line">                    let button:HTMLButtonElement = event.target;</span><br><span class="line">                    let text:string = button.textContent</span><br><span class="line">                    this.updateNumberOrOperator(text);</span><br><span class="line">                   </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        updateNumber(name:string,text:string):void&#123;</span><br><span class="line">            if(this[name])&#123;</span><br><span class="line">                this[name] += text;</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                this[name] = text;</span><br><span class="line">            &#125;</span><br><span class="line">            this.span.textContent = this[name].toString();</span><br><span class="line">        &#125;</span><br><span class="line">        updateNumbers(text:string):void&#123;</span><br><span class="line">            if(this.operator)&#123;</span><br><span class="line">                this.updateNumber(&apos;n2&apos;,text);</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                this.updateNumber(&apos;n1&apos;,text);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        updateResult():void&#123;</span><br><span class="line">            let result;</span><br><span class="line">            let n1:number = parseFloat(this.n1);</span><br><span class="line">            let n2:number = parseFloat(this.n2);</span><br><span class="line"></span><br><span class="line">            if(this.operator === &apos;+&apos;)&#123;</span><br><span class="line">                result = n1 + n2;</span><br><span class="line">            &#125;else if(this.operator === &apos;-&apos;)&#123;</span><br><span class="line">                result = n1 - n2;</span><br><span class="line">            &#125;else if(this.operator === &apos;*&apos;)&#123;</span><br><span class="line">                result = n1 * n2;</span><br><span class="line">            &#125;else if(this.operator === &apos;/&apos;)&#123;</span><br><span class="line">                result = n1 / n2;</span><br><span class="line">            &#125;</span><br><span class="line">            this.span.textContent = result.toString();</span><br><span class="line">            // 结果出来后重置 n1 n2</span><br><span class="line">            this.n1 = null;</span><br><span class="line">            this.n2 = null;</span><br><span class="line">            this.operator = null;</span><br><span class="line">            this.result = result;</span><br><span class="line">        &#125;</span><br><span class="line">        updateOperator(text:string):void&#123;</span><br><span class="line">            //  点符号时候 没点过数字</span><br><span class="line">            if(this.n1 === null)&#123;</span><br><span class="line">                this.n1 = this.result;</span><br><span class="line">            &#125;</span><br><span class="line">            this.operator = text;</span><br><span class="line">        &#125;</span><br><span class="line">        updateNumberOrOperator(text:string)&#123;</span><br><span class="line">            if(&apos;0123456789.&apos;.indexOf(text)&gt;=0)&#123;</span><br><span class="line">                this.updateNumbers(text);</span><br><span class="line">            &#125;else if(&apos;+*-/&apos;.indexOf(text)&gt;=0)&#123;</span><br><span class="line">                this.updateOperator(text);</span><br><span class="line">            &#125;else if(&apos;=&apos;.indexOf(text)&gt;=0)&#123;</span><br><span class="line">                this.updateResult();</span><br><span class="line">            &#125;else if(text===&apos;clear&apos;)&#123;</span><br><span class="line">                this.n1 = null;</span><br><span class="line">                this.n2 = null;</span><br><span class="line">                this.operator = null;</span><br><span class="line">                this.result = null;</span><br><span class="line">                this.span.textContent = &apos;0&apos;;</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                console.log(&apos;不知道&apos;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   new Caculator();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/TS入门/">TS入门</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2019/01/29/TS入门002用TS开发命令行程序/" title="TS入门002用TS开发命令行程序" itemprop="url">TS入门002用TS开发命令行程序</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stevin" target="_blank" itemprop="author">Stevin</a>
		
  <p class="article-time">
    <time datetime="2019-01-29T13:53:53.000Z" itemprop="datePublished"> Published 2019-01-29</time>
    
  </p>
</header>
    <div class="article-content">
        
        <blockquote>
<h3 id="自学知识的误区"><a href="#自学知识的误区" class="headerlink" title="自学知识的误区"></a>自学知识的误区</h3></blockquote>
<ul>
<li>不要怕(不要因为没学过而不学了，没学才应该学啊)</li>
<li>不要妄图系统学习，了解常用功能</li>
<li>有目的的学，不要没目的的看书 看10本书</li>
</ul>
<h3 id="带着目的学习"><a href="#带着目的学习" class="headerlink" title="带着目的学习"></a>带着目的学习</h3><ul>
<li>写一个命令行工具</li>
<li>再写一个</li>
<li>回到第一步，直到你觉得你学的不错了</li>
</ul>
<p>不要去看书，不要去看文档，遇到问题再去看文档，再去google</p>
<blockquote>
<p>通过解决一个个的小问题来学习 TS</p>
</blockquote>
<h3 id="最简单的命令行程序"><a href="#最简单的命令行程序" class="headerlink" title="最简单的命令行程序"></a>最简单的命令行程序</h3><p>1.新建 001.ts</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env ts-node</span><br><span class="line">console.log(&apos;hello world&apos;);</span><br></pre></td></tr></table></figure>
<p>第一行不要问为什么之间照抄！——其实就是 shebang 跟python 文件首行一样 代表指定那个命令来执行此脚本</p>
<p>2.添加执行权限并执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 添加权限</span><br><span class="line">chmod +x 001.ts</span><br><span class="line"></span><br><span class="line"># 执行</span><br><span class="line">./001.ts</span><br><span class="line"></span><br><span class="line"># 打印</span><br><span class="line">hello world</span><br></pre></td></tr></table></figure>
<h3 id="脚本升级-可以在后面跟参数"><a href="#脚本升级-可以在后面跟参数" class="headerlink" title="脚本升级 可以在后面跟参数"></a>脚本升级 可以在后面跟参数</h3><p>如</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vue --version</span><br><span class="line"></span><br><span class="line">curl -L https://www.baidu.com</span><br><span class="line"></span><br><span class="line">git add xx</span><br><span class="line"></span><br><span class="line">git commit -m &apos;sss&apos;</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="process-argv参数"><a href="#process-argv参数" class="headerlink" title="process.argv参数"></a>process.argv参数</h4></blockquote>
<p>这个变量可以获取到用户输入的这一行内容</p>
<p>新建 002.ts</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env ts-node</span><br><span class="line">console.log(process.argv);</span><br><span class="line">console.log(&apos;hello world&apos;);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">chmod +x 001.ts</span><br><span class="line">./002.ts</span><br><span class="line"></span><br><span class="line"># 报错了</span><br></pre></td></tr></table></figure>
<blockquote>
<p>新人在学习最怕什么，最怕的不是知识点复杂，而是你告诉我这样可以运行，但是我运行之后呢？——运行不了，这就进行不下去了</p>
</blockquote>
<p>我们先看报错信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/lib/node_modules/ts-node/src/index.ts:261</span><br><span class="line">    return new TSError(diagnosticText, diagnosticCodes)</span><br><span class="line">           ^</span><br><span class="line">TSError: ⨯ Unable to compile TypeScript:</span><br><span class="line">002.ts(2,13): error TS2304: Cannot find name &apos;process&apos;.</span><br><span class="line"></span><br><span class="line">    at createTSError (/usr/local/lib/node_modules/ts-node/src/index.ts:261:12)</span><br><span class="line">    at getOutput (/usr/local/lib/node_modules/ts-node/src/index.ts:367:40)</span><br><span class="line">    at Object.compile (/usr/local/lib/node_modules/ts-node/src/index.ts:557:11)</span><br><span class="line">    at Module.m._compile (/usr/local/lib/node_modules/ts-node/src/index.ts:439:43)</span><br><span class="line">    at Module._extensions..js (internal/modules/cjs/loader.js:700:10)</span><br><span class="line">    at Object.require.extensions.(anonymous function) [as .ts] (/usr/local/lib/node_modules/ts-node/src/index.ts:442:12)</span><br><span class="line">    at Module.load (internal/modules/cjs/loader.js:599:32)</span><br><span class="line">    at tryModuleLoad (internal/modules/cjs/loader.js:538:12)</span><br><span class="line">    at Function.Module._load (internal/modules/cjs/loader.js:530:3)</span><br><span class="line">    at Function.Module.runMain (internal/modules/cjs/loader.js:742:12)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果你看不懂</p>
</blockquote>
<ul>
<li>一个一个字的查字典</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># ts 没有能力 编译</span><br><span class="line">TSError: ⨯ Unable to compile TypeScript:</span><br><span class="line"># 再看 第二行 第13个字有问题 报错编号是 TS2304 意思是找不到 process</span><br><span class="line">002.ts(2,13): error TS2304: Cannot find name &apos;process&apos;.</span><br><span class="line"></span><br><span class="line"># 后面是细节</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="怎么办？"><a href="#怎么办？" class="headerlink" title="怎么办？"></a>怎么办？</h4></blockquote>
<blockquote>
<h4 id="怎么办？-1"><a href="#怎么办？-1" class="headerlink" title="怎么办？"></a>怎么办？</h4></blockquote>
<blockquote>
<h4 id="怎么办？-2"><a href="#怎么办？-2" class="headerlink" title="怎么办？"></a>怎么办？</h4></blockquote>
<h3 id="程序员最6的查-bug-方式就是复制这行错误到-google"><a href="#程序员最6的查-bug-方式就是复制这行错误到-google" class="headerlink" title="程序员最6的查 bug 方式就是复制这行错误到 google"></a>程序员最6的查 bug 方式就是复制这行错误到 google</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">error TS2304: Cannot find name &apos;process&apos;.</span><br><span class="line"></span><br><span class="line">实际上这是 Node.js 的全局变量，不可能找不到。</span><br><span class="line"></span><br><span class="line">这就是 TS 的厉害之处：如果你不告诉我 process 是什么，我就不允许你用 process。</span><br><span class="line"></span><br><span class="line">那么如何告诉 TS process 是什么呢？</span><br></pre></td></tr></table></figure>
<p>得到内容挨个点进去看</p>
<p>过程：</p>
<ol>
<li>复制 error TS2304: Cannot find name ‘process’. 到 Google</li>
<li>找到 Stackoverflow 上的一篇<a href="https://stackoverflow.com/questions/35551185/read-arguments-from-command-line-error-ts2304-cannot-find-name-process" target="_blank" rel="noopener">问答</a></li>
<li>得知要安装 Typings，于是点开<a href="https://www.npmjs.com/package/typings" target="_blank" rel="noopener">他给的链接</a></li>
<li>看到页面上方显示 Typings is deprecated in favor of NPM @types</li>
<li>得知 Typings 已经被弃用了，但是这货不告诉我新版在哪</li>
<li>猜测新版是 @types/node （纯经验）</li>
<li>运行 npm install @types/node 然后运行 ./2.ts 发现成功</li>
<li>去 Stackoverflow 回复一下，以防别人也遇到不知道新版名称</li>
<li>回复的时候发现已经有人回复了 with typescript 2, its now npm i -D @types/node</li>
<li>发现他用了 -D 选项但是我没有使用，根据我对 npm 的了解，加不加 -D 都行，加上更好一点。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 复制到刚才的目录里执行</span><br><span class="line">npm i -D @types/node</span><br></pre></td></tr></table></figure>
<p>结果又警告</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">npm WARN saveError ENOENT: no such file or directory, open &apos;/Users/huangjiaxi/Desktop/typescript-demo/ts002/package.json&apos;</span><br><span class="line">npm notice created a lockfile as package-lock.json. You should commit this file.</span><br><span class="line">npm WARN enoent ENOENT: no such file or directory, open &apos;/Users/huangjiaxi/Desktop/typescript-demo/ts002/package.json&apos;</span><br><span class="line">npm WARN ts002 No description</span><br><span class="line">npm WARN ts002 No repository field.</span><br><span class="line">npm WARN ts002 No README data</span><br><span class="line">npm WARN ts002 No license field.</span><br><span class="line"></span><br><span class="line">+ @types/node@10.12.19</span><br><span class="line">added 1 package from 33 contributors and audited 1 package in 2.191s</span><br><span class="line">found 0 vulnerabilities</span><br></pre></td></tr></table></figure>
<p>意思是没有 package.json,我这目录确实没有，那就创建一个</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># 最快创建 package.json 的方法</span><br><span class="line">npm init -y</span><br><span class="line"></span><br><span class="line"># 重新运行</span><br><span class="line">npm i -D @types/node</span><br><span class="line"></span><br><span class="line"># 此时就单独 警告  没有描述 没有远程仓库</span><br><span class="line">npm WARN ts002@1.0.0 No description</span><br><span class="line">npm WARN ts002@1.0.0 No repository field.</span><br><span class="line"></span><br><span class="line">+ @types/node@10.12.19</span><br><span class="line">updated 1 package and audited 1 package in 1.66s</span><br><span class="line">found 0 vulnerabilities</span><br></pre></td></tr></table></figure>
<blockquote>
<h3 id="再次执行-002-ts"><a href="#再次执行-002-ts" class="headerlink" title="再次执行 002.ts"></a>再次执行 002.ts</h3></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">./002.ts</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 打印如下信息</span><br><span class="line">[ &apos;node&apos;,</span><br><span class="line">  &apos;/Users/huangjiaxi/Desktop/typescript-demo/ts002/002.ts&apos; ]</span><br><span class="line">hello world</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">[ &apos;node&apos;,&apos;/Users/huangjiaxi/Desktop/typescript-demo/ts002/002.ts&apos; ]</span><br><span class="line">这个 node 就是 002.ts 的第一行 告诉这个程序用什么来运行</span><br><span class="line">第二个就是 当前文件的绝对路径</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
<p>添加自己的参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">./002.ts  xxx yyy zzz</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 打印</span><br><span class="line">[ &apos;node&apos;,</span><br><span class="line">  &apos;/Users/huangjiaxi/Desktop/typescript-demo/ts002/002.ts&apos;,</span><br><span class="line">  &apos;xxx&apos;,</span><br><span class="line">  &apos;yyy&apos;,</span><br><span class="line">  &apos;zzz&apos; ]</span><br><span class="line">  hello world</span><br></pre></td></tr></table></figure>
<h3 id="两数之和的程序"><a href="#两数之和的程序" class="headerlink" title="两数之和的程序"></a>两数之和的程序</h3><p>新建 003add.ts</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env ts-node</span><br><span class="line">console.log( process.argv );</span><br><span class="line">let a = process.argv[2];</span><br><span class="line">let b = process.argv[3];</span><br><span class="line"></span><br><span class="line">console.log( a + b );</span><br></pre></td></tr></table></figure>
<p>执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">chomd +x 003add.ts</span><br><span class="line">./003add.ts  1 2</span><br><span class="line"></span><br><span class="line"># 得到结果</span><br><span class="line">[ &apos;node&apos;,</span><br><span class="line">  &apos;/Users/huangjiaxi/Desktop/typescript-demo/ts002/003add.ts&apos;,</span><br><span class="line">  &apos;1&apos;,</span><br><span class="line">  &apos;2&apos; ]</span><br><span class="line">12</span><br><span class="line"></span><br><span class="line"># 为啥是 12</span><br><span class="line">你可以打印 process.argv 来看内容 数组里的内容是 字符串啊</span><br><span class="line"></span><br><span class="line"># 所以我们要解决这个类型问题</span><br></pre></td></tr></table></figure>
<p>004add.ts</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env ts-node</span><br><span class="line">let a:number = parseInt( process.argv[2] );</span><br><span class="line">let b:number = parseInt( process.argv[3] );</span><br><span class="line"></span><br><span class="line">console.log( a + b );</span><br></pre></td></tr></table></figure>
<p>执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">chmod +x 004add.ts</span><br><span class="line">./004add.ts 1 2</span><br><span class="line"></span><br><span class="line"># 打印 </span><br><span class="line">3</span><br><span class="line"></span><br><span class="line"># 但是如果这样执行呢？</span><br><span class="line">./004add.ts 1 s</span><br><span class="line">竟然得到了 NaN</span><br></pre></td></tr></table></figure>
<blockquote>
<p>然后聪明的你肯定用 Number.isNaN() 判断</p>
</blockquote>
<ul>
<li>005add.ts</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env ts-node</span><br><span class="line">let a:number = parseInt( process.argv[2] );</span><br><span class="line">let b:number = parseInt( process.argv[3] );</span><br><span class="line"></span><br><span class="line">if(Number.isNaN(a)||Number.isNaN(b))&#123;</span><br><span class="line">    console.log(&apos;出错啦！&apos;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log( a + b );</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">chmod +x 005add.ts</span><br><span class="line">./005add.ts 1 s</span><br><span class="line"></span><br><span class="line"># 又报错了</span><br><span class="line"></span><br><span class="line"> return new TSError(diagnosticText, diagnosticCodes)</span><br><span class="line">           ^</span><br><span class="line">TSError: ⨯ Unable to compile TypeScript:</span><br><span class="line">005add.ts(5,11): error TS2339: Property &apos;isNaN&apos; does not exist on type &apos;NumberConstructor&apos;.</span><br><span class="line">005add.ts(5,28): error TS2339: Property &apos;isNaN&apos; does not exist on type &apos;NumberConstructor&apos;.</span><br><span class="line"></span><br><span class="line">    at createTSError (/usr/local/lib/node_modules/ts-node/src/index.ts:261:12)</span><br><span class="line">    at getOutput (/usr/local/lib/node_modules/ts-node/src/index.ts:367:40)</span><br><span class="line">    at Object.compile (/usr/local/lib/node_modules/ts-node/src/index.ts:557:11)</span><br><span class="line">    at Module.m._compile (/usr/local/lib/node_modules/ts-node/src/index.ts:439:43)</span><br><span class="line">    at Module._extensions..js (internal/modules/cjs/loader.js:700:10)</span><br><span class="line">    at Object.require.extensions.(anonymous function) [as .ts] (/usr/local/lib/node_modules/ts-node/src/index.ts:442:12)</span><br><span class="line">    at Module.load (internal/modules/cjs/loader.js:599:32)</span><br><span class="line">    at tryModuleLoad (internal/modules/cjs/loader.js:538:12)</span><br><span class="line">    at Function.Module._load (internal/modules/cjs/loader.js:530:3)</span><br><span class="line">    at Function.Module.runMain (internal/modules/cjs/loader.js:742:12)</span><br><span class="line"></span><br><span class="line">-----------------------------------------------</span><br><span class="line"># 复制这行 error 到 google</span><br><span class="line"></span><br><span class="line">error TS2339: Property &apos;isNaN&apos; does not exist on type &apos;NumberConstructor&apos;.</span><br><span class="line"></span><br><span class="line">在给出的链接里 看信息</span><br><span class="line"># 我搜到一个信息是</span><br><span class="line">These are part of the es2015 library. make sure you have --lib es2015</span><br><span class="line"></span><br><span class="line">意思是 确保你又 es2015</span><br><span class="line"></span><br><span class="line">最终我找到的结果就是 添加一个 tsconfig.json 文件 在里面进行 es语法的配置</span><br><span class="line"></span><br><span class="line">里面内容如何填写呢？</span><br></pre></td></tr></table></figure>
<blockquote>
<p>直接google  tsconfig.json</p>
</blockquote>
<p>得到如下链接<br><a href="https://www.typescriptlang.org/docs/handbook/tsconfig-json.html" target="_blank" rel="noopener">https://www.typescriptlang.org/docs/handbook/tsconfig-json.html</a></p>
<p>里面有一个 tsconfig.json</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;compilerOptions&quot;: &#123;</span><br><span class="line">        &quot;module&quot;: &quot;commonjs&quot;,</span><br><span class="line">        &quot;noImplicitAny&quot;: true,</span><br><span class="line">        &quot;removeComments&quot;: true,</span><br><span class="line">        &quot;preserveConstEnums&quot;: true,</span><br><span class="line">        &quot;sourceMap&quot;: true</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;files&quot;: [</span><br><span class="line">        &quot;core.ts&quot;,</span><br><span class="line">        &quot;sys.ts&quot;,</span><br><span class="line">        &quot;types.ts&quot;,</span><br><span class="line">        &quot;scanner.ts&quot;,</span><br><span class="line">        &quot;parser.ts&quot;,</span><br><span class="line">        &quot;utilities.ts&quot;,</span><br><span class="line">        &quot;binder.ts&quot;,</span><br><span class="line">        &quot;checker.ts&quot;,</span><br><span class="line">        &quot;emitter.ts&quot;,</span><br><span class="line">        &quot;program.ts&quot;,</span><br><span class="line">        &quot;commandLineParser.ts&quot;,</span><br><span class="line">        &quot;tsc.ts&quot;,</span><br><span class="line">        &quot;diagnosticInformationMap.generated.ts&quot;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>添加一个 lib 参数</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;compilerOptions&quot;: &#123;</span><br><span class="line">       &quot;lib&quot;:[</span><br><span class="line">           &quot;es2015&quot;</span><br><span class="line">       ]</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>再次运行刚才的出错文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">./005add.ts 1 s</span><br><span class="line"></span><br><span class="line"># 打印</span><br><span class="line">出错啦</span><br><span class="line">NaN</span><br></pre></td></tr></table></figure>
<blockquote>
<p>为防止以后出错，多写几个 es 版本</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;compilerOptions&quot;: &#123;</span><br><span class="line">       &quot;lib&quot;:[&quot;es2015&quot;,&quot;dom&quot;,&quot;es2016&quot;,&quot;es2018&quot;]</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>即使这样你发现 Number.isNaN 下面还是用红线，那就 重新进入 vscode</p>
<blockquote>
<p>再看我们代码存在的问题</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 打印</span><br><span class="line">出错啦</span><br><span class="line">NaN</span><br><span class="line"></span><br><span class="line"># 已经出错啦，就没必要往后执行了，直接退出程序</span><br><span class="line">但是你不能用 return （return用在函数内部才行）</span><br></pre></td></tr></table></figure>
<ul>
<li>006add.ts</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env ts-node</span><br><span class="line">let a: number = parseInt( process.argv[2] );</span><br><span class="line">let b: number = parseInt( process.argv[3] );</span><br><span class="line"></span><br><span class="line">if(Number.isNaN(a)||Number.isNaN(b))&#123;</span><br><span class="line">    console.log(&apos;出错啦！&apos;);</span><br><span class="line">    process.exit(1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log( a + b );</span><br><span class="line">process.exit(0);</span><br></pre></td></tr></table></figure>
<ul>
<li>为啥退出要传递 数字呢</li>
</ul>
<blockquote>
<p>进程退出的潜规则——程序员的约定</p>
</blockquote>
<ul>
<li>返回 0 代表正常退出</li>
<li>返回 非 0 代表错误退出</li>
</ul>
<p>幸福的家庭都是相似的，不幸的家庭各有各的不幸</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">process.exit(1);</span><br><span class="line">process.exit(2);</span><br><span class="line">process.exit(3);</span><br><span class="line"></span><br><span class="line">process.exit(0);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>自行完成</p>
</blockquote>
<ul>
<li>加减乘除代码逻辑</li>
</ul>
<h3 id="族谱"><a href="#族谱" class="headerlink" title="族谱"></a>族谱</h3><p>100tree.ts</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env ts-node</span><br><span class="line">function createTabs(n: number): string &#123;</span><br><span class="line">  return &apos;----&apos;.repeat(n);</span><br><span class="line">&#125;</span><br><span class="line">class Person &#123;</span><br><span class="line">  public children: Person[] = [];</span><br><span class="line">  constructor(public name) &#123;&#125;</span><br><span class="line">  addChild(child: Person): void &#123;</span><br><span class="line">    this.children.push(child);</span><br><span class="line">  &#125;</span><br><span class="line">  introduceFamily(n?: number): void &#123;</span><br><span class="line">    n = n || 0;</span><br><span class="line">    console.log(`$&#123;createTabs(n)&#125;$&#123;this.name&#125;`);</span><br><span class="line">    this.children.forEach(person =&gt; &#123;</span><br><span class="line">      person.introduceFamily(n + 1);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const grandPa = new Person(&apos;王麻子&apos;);</span><br><span class="line">const person1 = new Person(&apos;王大锤&apos;);</span><br><span class="line">const person2 = new Person(&apos;王者&apos;);</span><br><span class="line">const child11 = new Person(&apos;王毛&apos;);</span><br><span class="line">const child12 = new Person(&apos;王水&apos;);</span><br><span class="line">const child21 = new Person(&apos;王荣耀&apos;);</span><br><span class="line">const child22 = new Person(&apos;王农药&apos;);</span><br><span class="line"></span><br><span class="line">grandPa.addChild(person1);</span><br><span class="line">grandPa.addChild(person2);</span><br><span class="line"></span><br><span class="line">person1.addChild(child11);</span><br><span class="line">person1.addChild(child12);</span><br><span class="line">person2.addChild(child21);</span><br><span class="line">person2.addChild(child22);</span><br><span class="line"></span><br><span class="line">grandPa.introduceFamily();</span><br><span class="line"></span><br><span class="line">王麻子</span><br><span class="line">----王大锤</span><br><span class="line">--------王毛</span><br><span class="line">--------王水</span><br><span class="line">----王者</span><br><span class="line">--------王荣耀</span><br><span class="line">--------王农药</span><br></pre></td></tr></table></figure>
<blockquote>
<p>坑点</p>
</blockquote>
<ul>
<li>Person[] 规定数组类型要 进行初始化</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public children: Person[];</span><br><span class="line"></span><br><span class="line"># 如果这样声明 只是声明了 Person 的数组，但是没有实例化，也就无法调用 push()</span><br></pre></td></tr></table></figure>
<ul>
<li>可选参数 introduceFamily(n?: number): void {…}</li>
<li>无返回值 void</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// n 可以不传递</span><br><span class="line">introduceFamily(n?: number): void &#123;...&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>代码库<a href="https://github.com/slTrust/ts-study" target="_blank" rel="noopener">https://github.com/slTrust/ts-study</a></li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/TS入门/">TS入门</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2019/01/29/vultr搭建ss/" title="vultr搭建ss" itemprop="url">vultr搭建ss</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stevin" target="_blank" itemprop="author">Stevin</a>
		
  <p class="article-time">
    <time datetime="2019-01-29T05:53:19.000Z" itemprop="datePublished"> Published 2019-01-29</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="一、挑选vps服务商"><a href="#一、挑选vps服务商" class="headerlink" title="一、挑选vps服务商"></a>一、挑选vps服务商</h3><ul>
<li>vultr:支持支付宝微信付款、操作简单</li>
<li>bandwagon:俗称”搬瓦工”，支持支付宝付款，价格便宜，套餐种类多，性价比高。<br>套餐种类:KVM架构方案包括 CN2 GT线路、CN2 GIA 线路、香港机房等。<br>地址:<a href="https://www.bwgblog.org/" target="_blank" rel="noopener">搬瓦工中文网</a></li>
</ul>
<h3 id="二、注册vultr账号"><a href="#二、注册vultr账号" class="headerlink" title="二、注册vultr账号"></a>二、注册vultr账号</h3><h4 id="1-创建vultr账户"><a href="#1-创建vultr账户" class="headerlink" title="1.创建vultr账户"></a>1.创建vultr账户</h4><p>注册地址：<a href="https://www.vultr.com/?ref=7725423" target="_blank" rel="noopener">Vultr The Infrastructure Cloud™</a></p>
<p>Vultr优惠注册链接：<a href="https://www.vultrblog.com/" target="_blank" rel="noopener">https://www.vultrblog.com/</a></p>
<p>进入首页后填写邮箱地址，密码(需要数字大小写字母且十位以上)，然后点击create account按钮</p>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/vultr/vultr001.png" alt></p>
<p>然后验证你的邮箱地址，如果没收到验证邮件的话去垃圾箱翻找一下。</p>
<h4 id="2-充值"><a href="#2-充值" class="headerlink" title="2.充值"></a>2.充值</h4><p>进入我的账户，选择billing，然后选择alipay或者wechat，选择金额并发起付款，最少支付10$</p>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/vultr/vultr002.png" alt></p>
<h4 id="3-搭建服务"><a href="#3-搭建服务" class="headerlink" title="3.搭建服务"></a>3.搭建服务</h4><blockquote>
<p>1.首先选择机房地址，我选择的是东京，这个以后还可以更改</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/vultr/vultr003.png" alt></p>
<blockquote>
<p>2.选择系统，推荐选用CentOS</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/vultr/vultr004.png" alt></p>
<blockquote>
<p>3.选择套餐，推荐选用3.5$每月这款套餐，2.5$每月的只支持ipv6，可能连接不上</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/vultr/vultr005.png" alt></p>
<blockquote>
<p>4.最后这几个选项不用动，点击deploy now即可</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/vultr/vultr006.png" alt></p>
<blockquote>
<p>5.等待服务器状态变为running，点击服务器名</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/vultr/vultr007.png" alt></p>
<blockquote>
<p>6.跳转到以下页面后，查看服务器ip地址，用户名默认为root，记住密码</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/vultr/vultr008.png" alt></p>
<blockquote>
<p>完成以上步骤，服务就搭建完毕了，记住ip地址以及密码，接下来进行ssh连接</p>
</blockquote>
<h4 id="4-使用ssh终端连接服务器"><a href="#4-使用ssh终端连接服务器" class="headerlink" title="4.使用ssh终端连接服务器"></a>4.使用ssh终端连接服务器</h4><p>这里我使用的是mac的终端进行ssh连接</p>
<blockquote>
<p>1.首先进行ssh登录，将用户名和ip地址替换为你的服务器的用户名与ip地址</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh root@ip</span><br><span class="line">此时如果成功会让你输入密码</span><br><span class="line">复制就好</span><br></pre></td></tr></table></figure>
<p>当出现[root@vultr ~]#时说明已经登录VPS成功，可进行以下步骤。</p>
<blockquote>
<p>2.分别执行以下三个命令,安装ss</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 我选择进入一个本地目录,这样下载的东西更加可控</span><br><span class="line">cd  /usr/local/src</span><br><span class="line">mkdir shadowsocks</span><br><span class="line">cd shadowsocks</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 下载命令</span><br><span class="line">wget --no-check-certificate  https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks.sh</span><br><span class="line"></span><br><span class="line"># 可执行权限</span><br><span class="line">chmod +x shadowsocks.sh</span><br><span class="line"></span><br><span class="line"># 这个过程最后会让你输入  port 和 password</span><br><span class="line">./shadowsocks.sh 2&gt;&amp;1 | tee shadowsocks.log</span><br></pre></td></tr></table></figure>
<p>此时你只有一个账号，就是你刚刚输入的端口号和密码</p>
<h4 id="5-配置多用户"><a href="#5-配置多用户" class="headerlink" title="5.配置多用户"></a>5.配置多用户</h4><p>有时候想给小伙伴一起分享这个ss，但又不想一起用一个号，那么我们最好配置多个用户</p>
<blockquote>
<p>1.在登录的状态下(登录服务器的前提下)，输入以下命令，查看配置文件</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat  /etc/shadowsocks.json</span><br></pre></td></tr></table></figure>
<p>默认配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;server&quot;:&quot;0.0.0.0&quot;,</span><br><span class="line">    &quot;server_port&quot;:443,</span><br><span class="line">    &quot;local_address&quot;:&quot;127.0.0.1&quot;,</span><br><span class="line">    &quot;local_port&quot;:1080,</span><br><span class="line">    &quot;password&quot;:&quot;aabbcc&quot;,</span><br><span class="line">    &quot;timeout&quot;:300,</span><br><span class="line">    &quot;method&quot;:&quot;aes-256-cfb&quot;,</span><br><span class="line">    &quot;fast_open&quot;:false</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>2.修改默认配置</p>
</blockquote>
<p>我就默认你是mac了,如果你是 window请安装gitbash</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/shadowsocks.json</span><br></pre></td></tr></table></figure>
<p>点击i键进行编辑</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;server&quot;:&quot;0.0.0.0&quot;,</span><br><span class="line">    &quot;local_address&quot;:&quot;127.0.0.1&quot;,</span><br><span class="line">    &quot;local_port&quot;:1080,</span><br><span class="line">    &quot;port_password&quot;:&#123;</span><br><span class="line">         &quot;9001&quot;:&quot;pwd123&quot;,</span><br><span class="line">         &quot;9002&quot;:&quot;pwd123&quot;,</span><br><span class="line">         &quot;9003&quot;:&quot;pwd123&quot;,</span><br><span class="line">         &quot;9004&quot;:&quot;pwd123&quot;                    </span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;timeout&quot;:300,</span><br><span class="line">    &quot;method&quot;:&quot;aes-256-cfb&quot;,</span><br><span class="line">    &quot;fast_open&quot;: false</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>编辑完毕后，点击esc键，再输入:wq保存</p>
<blockquote>
<p>3.开放端口</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># 查看已开放端口</span><br><span class="line"># 此时可能会导致你退出远程服务器</span><br><span class="line"> firewall-cmd --list-ports</span><br><span class="line"></span><br><span class="line"># 开启端口 以开启9001端口为例</span><br><span class="line"># 就是shadowsocks.json里 你设置的账号端口</span><br><span class="line"># 如果是多账号就执行多次(因为多个端口)</span><br><span class="line"> firewall-cmd --zone=public --add-port=9001/tcp --permanent</span><br><span class="line"></span><br><span class="line"># 重启防火墙</span><br><span class="line"> firewall-cmd --reload</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"># 上述命令很有可能会导致你退出远程服务器</span><br><span class="line"># 如果退出后，你远程链接都受限了，那就请 restart 你的服务器</span><br></pre></td></tr></table></figure>
<p>在这里将新建的端口全部打开，如果不执行这部操作，很可能连接不上</p>
<blockquote>
<p>4.重启ss</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssserver -c/etc/shadowsocks.json -d restart</span><br></pre></td></tr></table></figure>
<p>重启成功后，就可以将地址与密码分享给你的小伙伴咯。</p>
<h3 id="6-使用BBR加速"><a href="#6-使用BBR加速" class="headerlink" title="6.使用BBR加速"></a>6.使用BBR加速</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget –no-check-certificate https://github.com/teddysun/across/raw/master/bbr.sh</span><br><span class="line">chmod +x bbr.sh</span><br><span class="line">./bbr.sh</span><br></pre></td></tr></table></figure>
<p>至此 Vultr（VPS）搭建SS教程已经结束，望大家都能自由上网。</p>
<h3 id="7-如何测试是否成功了"><a href="#7-如何测试是否成功了" class="headerlink" title="7.如何测试是否成功了"></a>7.如何测试是否成功了</h3><ul>
<li>我的是mac 安装好 ShadowsocksX-NG,客户端</li>
<li><p>服务器设置点击 +</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">地址：你的服务器ip:你刚才添加的端口 如 9001</span><br><span class="line">加密算法：在你的 shadowsocks.json 里写着</span><br><span class="line">密码：就是刚才设置的如  pws123</span><br></pre></td></tr></table></figure>
</li>
<li><p>点击确定</p>
</li>
<li>打开 <a href="https://www.google.cn/" target="_blank" rel="noopener">https://www.google.cn/</a></li>
</ul>
<blockquote>
<p>如果是chrome 推荐你安装一个插件</p>
</blockquote>
<ul>
<li>Proxy SwitchyOmega 能帮你自动切换(是否fq)</li>
</ul>
<h4 id="分享不易"><a href="#分享不易" class="headerlink" title="分享不易"></a>分享不易</h4><p>如果你打算买 vultr 的服务器</p>
<ul>
<li><a href="https://www.vultr.com/?ref=7725423" target="_blank" rel="noopener">邀请码链接</a></li>
</ul>
<blockquote>
<p>参考链接</p>
</blockquote>
<p>如果它们还没被和谐</p>
<ul>
<li><a href="https://testerhome.com/topics/17112?locale=en" target="_blank" rel="noopener">https://testerhome.com/topics/17112?locale=en</a></li>
<li><a href="https://my.oschina.net/u/3953544/blog/1935044" target="_blank" rel="noopener">https://my.oschina.net/u/3953544/blog/1935044</a></li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/vultr/">vultr</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2019/01/27/TS入门001安装与调试/" title="TS入门001安装与调试" itemprop="url">TS入门001安装与调试</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stevin" target="_blank" itemprop="author">Stevin</a>
		
  <p class="article-time">
    <time datetime="2019-01-27T13:39:00.000Z" itemprop="datePublished"> Published 2019-01-27</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a>TypeScript</h3><blockquote>
<p>前置知识</p>
</blockquote>
<ul>
<li>命令行知识(熟悉)</li>
<li></li>
</ul>
<blockquote>
<p>每门语言都有一些错误，而 TS 就是为了解决 JS 的错误</p>
</blockquote>
<ul>
<li><h4 id="安装-请保证版本一致-出了问题自己解决"><a href="#安装-请保证版本一致-出了问题自己解决" class="headerlink" title="安装,请保证版本一致(出了问题自己解决)"></a>安装,请保证版本一致(出了问题自己解决)</h4></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 安装 typescript 命令行环境</span><br><span class="line">npm install typescript@2.9.2 -g</span><br></pre></td></tr></table></figure>
<blockquote>
<p>安装成功后 会得到两个命令</p>
</blockquote>
<ul>
<li>tsc</li>
<li>tsserver</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/bin/tsc -&gt; /usr/local/lib/node_modules/typescript/bin/tsc</span><br><span class="line">/usr/local/bin/tsserver -&gt; /usr/local/lib/node_modules/typescript/bin/tsserver</span><br><span class="line">+ typescript@2.9.2</span><br><span class="line">added 1 package from 1 contributor in 7.583s</span><br></pre></td></tr></table></figure>
<blockquote>
<p>安装 ts-node 让 node 支持 ts</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">npm install ts-node@7.0.0 -g</span><br><span class="line"></span><br><span class="line"># 安装成功后 提示如下</span><br><span class="line">/usr/local/bin/ts-node -&gt; /usr/local/lib/node_modules/ts-node/dist/bin.js</span><br><span class="line">+ ts-node@7.0.0</span><br><span class="line">added 11 packages from 42 contributors in 1.49s</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="注意！请记住上述命令的路径-后面要用到"><a href="#注意！请记住上述命令的路径-后面要用到" class="headerlink" title="注意！请记住上述命令的路径,后面要用到"></a>注意！请记住上述命令的路径,后面要用到</h4></blockquote>
<blockquote>
<h4 id="注意！请记住上述命令的路径-后面要用到-1"><a href="#注意！请记住上述命令的路径-后面要用到-1" class="headerlink" title="注意！请记住上述命令的路径,后面要用到"></a>注意！请记住上述命令的路径,后面要用到</h4></blockquote>
<blockquote>
<h4 id="注意！请记住上述命令的路径-后面要用到-2"><a href="#注意！请记住上述命令的路径-后面要用到-2" class="headerlink" title="注意！请记住上述命令的路径,后面要用到"></a>注意！请记住上述命令的路径,后面要用到</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/bin/tsc</span><br><span class="line"></span><br><span class="line">/usr/local/bin/tsserver</span><br><span class="line"></span><br><span class="line">/usr/local/bin/ts-node</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/typescript/ts001-01.png" alt></p>
<h3 id="调试"><a href="#调试" class="headerlink" title="调试"></a>调试</h3><ol>
<li>下载 vscode<ol>
<li>mac 按 command + K 之后在按 command + S</li>
<li>将格式化文件的快捷键绑定到自己喜欢的按键（我用的是 ctrl + L）</li>
</ol>
</li>
<li>创建文件夹 tsdemo</li>
<li>用 vscode 打开 tsdemo 目录</li>
<li>创建 tsdemo/1.ts 作为我们的第一个 TS 文件</li>
<li>在文件里写一句 console.log(1) 保存</li>
<li>Windows 用户注意了，这里需要单独运行一些命令（Linux 用户和 macOS 用户不用执行）<ul>
<li>npm init -y<ul>
<li>npm i -D ts-node typescript</li>
</ul>
</li>
</ul>
</li>
<li><p>创建 tsdemo/.vscode/launch.json 文件，内容如下</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;configurations&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">        &quot;name&quot;: &quot;ts-node&quot;,</span><br><span class="line">        &quot;type&quot;: &quot;node&quot;,</span><br><span class="line">        &quot;request&quot;: &quot;launch&quot;,</span><br><span class="line">        &quot;program&quot;: &quot;注意看这里，要写成ts-node对应的可执行文件，Windows 用户注意了，你应该写成 $&#123;workspaceRoot&#125;/node_modules/ts-node/dist/bin.js&quot;,</span><br><span class="line">        &quot;args&quot;: [&quot;$&#123;relativeFile&#125;&quot;],</span><br><span class="line">        &quot;cwd&quot;: &quot;$&#123;workspaceRoot&#125;&quot;,</span><br><span class="line">        &quot;protocol&quot;: &quot;inspector&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">复制刚才的 ts-node 路径 /usr/local/bin/ts-node</span><br><span class="line">&#123;</span><br><span class="line">    &quot;configurations&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">        &quot;name&quot;: &quot;ts-node&quot;,</span><br><span class="line">        &quot;type&quot;: &quot;node&quot;,</span><br><span class="line">        &quot;request&quot;: &quot;launch&quot;,</span><br><span class="line">        &quot;program&quot;: &quot;/usr/local/bin/ts-node&quot;,</span><br><span class="line">        &quot;args&quot;: [&quot;$&#123;relativeFile&#125;&quot;],</span><br><span class="line">        &quot;cwd&quot;: &quot;$&#123;workspaceRoot&#125;&quot;,</span><br><span class="line">        &quot;protocol&quot;: &quot;inspector&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>打开 tsdemo/1.js，找到调试选项(小虫子图标)，选择 ts-node，然后点击调试 在点击那个绿色箭头</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">但是此时报错了，因为你没选中那个1.ts文件</span><br><span class="line">此时切换到 1.ts的文件 再次点击调试</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/typescript/ts001-02.png" alt></p>
<p><img src="https://raw.githubusercontent.com/slTrust/note/master/typescript/ts001-03.png" alt></p>
<p>参考文章： <a href="https://segmentfault.com/a/1190000011935122" target="_blank" rel="noopener">https://segmentfault.com/a/1190000011935122</a></p>
<blockquote>
<p>至此我们运行了第一个 ts程序</p>
</blockquote>
<ul>
<li>所以说学这些的难度就是命令行</li>
<li>而且如果你想学好这些——你就必须学好英文</li>
<li><p>一手资料是英文的，如果你等翻译永远比别人慢一两年</p>
</li>
<li><p>英文文档 <a href="https://www.typescriptlang.org/" target="_blank" rel="noopener">https://www.typescriptlang.org/</a></p>
</li>
<li>中文文档<a href="https://www.tslang.cn/" target="_blank" rel="noopener">https://www.tslang.cn/</a></li>
</ul>
<h3 id="tsc的使用"><a href="#tsc的使用" class="headerlink" title="tsc的使用"></a>tsc的使用</h3><ul>
<li><a href="https://www.tslang.cn/docs/handbook/typescript-in-5-minutes.html" target="_blank" rel="noopener">看5分钟上手</a></li>
</ul>
<p>greeter.ts</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function greeter(person) &#123;</span><br><span class="line">    return &quot;Hello, &quot; + person;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let user = &quot;Jane User&quot;;</span><br><span class="line"></span><br><span class="line">document.body.innerHTML = greeter(user);</span><br></pre></td></tr></table></figure>
<p>在命令行，注意当前  greeter.ts 所在路径</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tsc greeter.ts</span><br><span class="line"></span><br><span class="line"># 此时生成了 greeter.js</span><br><span class="line">function greeter(person) &#123;</span><br><span class="line">    return &quot;Hello, &quot; + person;</span><br><span class="line">&#125;</span><br><span class="line">var user = &quot;Jane User&quot;;</span><br><span class="line">document.body.innerHTML = greeter(user);</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="你会说跟原来没啥区别啊"><a href="#你会说跟原来没啥区别啊" class="headerlink" title="你会说跟原来没啥区别啊"></a>你会说跟原来没啥区别啊</h4></blockquote>
<ul>
<li>只不过去除了空行吗？</li>
<li>如果你写的仅仅是 JS 那编译后就是 JS</li>
</ul>
<blockquote>
<p>为什么 要tsc 编译一下呢？</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1. 浏览器可以直接运行 JS</span><br><span class="line">2. 浏览器不可以直接运行 TS</span><br><span class="line">⬇️</span><br><span class="line">⬇️</span><br><span class="line">3. 要把 TS 变成 JS ,才能运行</span><br><span class="line"></span><br><span class="line">==&gt; tsc </span><br><span class="line">==&gt; type script compiler typescript编译器</span><br></pre></td></tr></table></figure>
<blockquote>
<p>再看文档示例</p>
</blockquote>
<ul>
<li>他想规定 greeter函数接受的参数是一个字符串</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function greeter(person: string) &#123;</span><br><span class="line">    return &quot;Hello, &quot; + person;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let user = &quot;Jane User&quot;;</span><br><span class="line"></span><br><span class="line">document.body.innerHTML = greeter(user);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>编译后竟然还跟之前的内容一样</p>
</blockquote>
<blockquote>
<h4 id="解析-function-greeter-person-string"><a href="#解析-function-greeter-person-string" class="headerlink" title="解析 function greeter(person: string)"></a>解析 function greeter(person: string)</h4></blockquote>
<p>修改 greeter.ts</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function greeter(person: string) &#123;</span><br><span class="line">    return &quot;Hello, &quot; + person;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let user = [1,2,3];</span><br><span class="line"></span><br><span class="line">document.body.innerHTML = greeter(user);</span><br></pre></td></tr></table></figure>
<ul>
<li>再次运行 tsc greeter.ts,此时报错了</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> Argument of type &apos;number[]&apos; is not assignable to parameterof type &apos;string&apos;.</span><br><span class="line"></span><br><span class="line">7 document.body.innerHTML = greeter(user);</span><br><span class="line"></span><br><span class="line">/* </span><br><span class="line">意思 你的 user 是一个数组，但是函数里说要一个字符串，所以无法变成js</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
<blockquote>
<h3 id="中间发生了什么"><a href="#中间发生了什么" class="headerlink" title="中间发生了什么"></a>中间发生了什么</h3></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">         通过 tsc</span><br><span class="line">TS -------------------&gt; JS</span><br><span class="line">        1.类型检查</span><br><span class="line"></span><br><span class="line">如果你 TS 中期待的类型传入不会 就无法编译为 JS</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="为什么做类型检查？"><a href="#为什么做类型检查？" class="headerlink" title="为什么做类型检查？"></a>为什么做类型检查？</h4></blockquote>
<p>如果不用 ts 你就要这样写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function greeter(person) &#123;</span><br><span class="line">    if(typeof person !== &apos;string&apos;)&#123;</span><br><span class="line">        throw new Error(&apos;person 必须是一个字符串&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">    return &quot;Hello, &quot; + person;</span><br><span class="line">&#125;</span><br><span class="line">var user = [1, 2, 3];</span><br><span class="line">document.body.innerHTML = greeter(user);</span><br></pre></td></tr></table></figure>
<p>此时有什么问题吗？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">程序必须运行到</span><br><span class="line">if(typeof person !== &apos;string&apos;)&#123;...&#125;</span><br><span class="line">才能提示用户</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">而 TS 不一样，它是在你编译的时候就告诉你 写错了</span><br><span class="line"></span><br><span class="line">----------------------------------------</span><br><span class="line">         通过 tsc</span><br><span class="line">TS -------------------&gt; JS</span><br><span class="line">        1.类型检查</span><br><span class="line">用 JS 检查：执行到 greeter(user) 报错 运行时报错</span><br><span class="line">用 TS 检查：编译时报错</span><br><span class="line"></span><br><span class="line">有区别吗？</span><br><span class="line"></span><br><span class="line">执行的 greeter 时候 代码已经到服务器了，用户感知不到的，程序执行到哪里报错了，你难道让用户改吗？</span><br><span class="line"></span><br><span class="line">所以如果我们在 上传代码之前就知道这个错是不是可以 及时改过来</span><br></pre></td></tr></table></figure>
<h3 id="接口-interface"><a href="#接口-interface" class="headerlink" title="接口 interface"></a>接口 interface</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">interface Person&#123;</span><br><span class="line">    姓:string,</span><br><span class="line">    名:string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function greeter(person: Person) &#123;</span><br><span class="line">    return &quot;Hello, &quot; + person.姓 +person.名;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let user = &#123;姓:&apos;漩涡&apos;,名:&apos;鸣人&apos;&#125;;</span><br><span class="line"></span><br><span class="line">console.log( greeter(user) );</span><br></pre></td></tr></table></figure>
<blockquote>
<p>只有姓 没有名 行不行？</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">let user = &#123;姓:&apos;漩涡&apos;&#125;;</span><br><span class="line"></span><br><span class="line">报错</span><br><span class="line">error TS2345: Argument of type &apos;&#123; 姓: string; &#125;&apos; is not assignable to parameter of type &apos;Person&apos;.</span><br><span class="line">  Property &apos;名&apos; is missing in type &apos;&#123; 姓: string; &#125;&apos;.</span><br><span class="line">--------------------------------</span><br><span class="line">如果你用传统 js</span><br><span class="line">function greeter(person) &#123;</span><br><span class="line">     return &quot;Hello, &quot; + person.姓 +person.名;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">如果 person没有 姓/名</span><br><span class="line">就会返回 Hello undefined undefined</span><br></pre></td></tr></table></figure>
<h3 id="类-class"><a href="#类-class" class="headerlink" title="类 class"></a>类 class</h3><p>继续抄文档</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">class Student &#123;</span><br><span class="line">    全名: string;</span><br><span class="line">    constructor(public 姓, public 名) &#123;</span><br><span class="line">        this.全名 = 姓 + 名;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Person &#123;</span><br><span class="line">    姓: string;</span><br><span class="line">    名: string;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function greeter(person : Person) &#123;</span><br><span class="line">    return &quot;Hello, &quot; + person.姓 + &quot; &quot; + person.名;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let user = new Student(&quot;漩涡&quot;, &quot;鸣人&quot;);</span><br><span class="line"></span><br><span class="line">console.log(greeter(user));</span><br></pre></td></tr></table></figure>
<blockquote>
<p>public 的含义</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class Student &#123;</span><br><span class="line">    全名: string;</span><br><span class="line">    constructor(public 姓, public 名) &#123;</span><br><span class="line">        this.全名 = 姓 + 名;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">相当于</span><br><span class="line">class Student &#123;</span><br><span class="line">    全名: string;</span><br><span class="line">    姓:string;</span><br><span class="line">    名:string;</span><br><span class="line">    constructor(姓, 名) &#123;</span><br><span class="line">        this.姓 = 姓;</span><br><span class="line">        this.名 = 名;</span><br><span class="line">        this.全名 = 姓 + 名;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>此时我能在 greeter 里获取 全名 吗？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function greeter(person : Person) &#123;</span><br><span class="line">    return &quot;Hello, &quot; + person.全名;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">报错</span><br><span class="line">Property &apos;全名&apos; does not exist on type &apos;Person&apos;.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">如果你想要全名唯一的办法就是改参数类型</span><br><span class="line">function greeter(person : Student) &#123;</span><br><span class="line">    return &quot;Hello, &quot; + person.全名;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="如何学TS"><a href="#如何学TS" class="headerlink" title="如何学TS"></a>如何学TS</h3><ul>
<li>CRM</li>
<li><p>单纯 既然学TS 就不要去搞 webpack / vue</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">什么时候去整 webpack / vue</span><br><span class="line">你已经入门了 知道大概的错如何解决。再去结合其他东西</span><br></pre></td></tr></table></figure>
</li>
<li><p>不要看书(它不够新)——看文档和博客</p>
</li>
</ul>
<blockquote>
<p>打开 ts 文档</p>
</blockquote>
<p><a href="https://www.tslang.cn/docs/home.html" target="_blank" rel="noopener">https://www.tslang.cn/docs/home.html</a></p>
<p>挨个看，哪里没见过就重点看</p>
<h3 id="函数部分"><a href="#函数部分" class="headerlink" title="函数部分"></a>函数部分</h3><p>要求输入两个参数，类型都为 number，返回值为 number</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function add(a:number,b:number):number&#123;</span><br><span class="line">    return a+b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>如何实现重载</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function add(a:number,b:number):number;</span><br><span class="line">function add(a:string,b:string):string;</span><br><span class="line">// 最后一种一定要兼容上面几种</span><br><span class="line">// any 就是任何类型</span><br><span class="line">function add(a:any,b:any):any&#123;</span><br><span class="line">    return a+b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>返回数组类型</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function getArr(arr:number[]) : number[]&#123;</span><br><span class="line">    ...</span><br><span class="line">    return [1,2,3,4,5];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="tuple-元组"><a href="#tuple-元组" class="headerlink" title="tuple 元组"></a>tuple 元组</h4></blockquote>
<p>元组类型允许表示一个已知元素数量和类型的数组，各元素的类型不必相同。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// Declare a tuple type</span><br><span class="line">let x: [string, number];</span><br><span class="line">// Initialize it</span><br><span class="line">x = [&apos;hello&apos;, 10]; // OK</span><br><span class="line">// Initialize it incorrectly</span><br><span class="line">x = [10, &apos;hello&apos;]; // Error</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">interface Person&#123;</span><br><span class="line">    gender:string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function merry(a:Person,b:Person):[Person,Person]&#123;</span><br><span class="line">    if(a.gender !== b.gender)&#123;</span><br><span class="line">        return [a,b];</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        throw new Error(&apos;同性不能结婚&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let a = &#123;gender:&apos;男&apos;&#125;;</span><br><span class="line">let b = &#123;gender:&apos;女&apos;&#125;;</span><br><span class="line"></span><br><span class="line">console.log(merry( a , b ));</span><br></pre></td></tr></table></figure>
<blockquote>
<p>代码此时有个问题就是 如果它写 let b = {gender:’狗’} 也成功了</p>
</blockquote>
<h4 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">enum Gender&#123;</span><br><span class="line">    Male,</span><br><span class="line">    Female</span><br><span class="line">&#125;</span><br><span class="line">interface Person&#123;</span><br><span class="line">    gender:Gender</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function merry(a:Person,b:Person):[Person,Person]&#123;</span><br><span class="line">    if(a.gender !== b.gender)&#123;</span><br><span class="line">        return [a,b];</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        throw new Error(&apos;同性不能结婚&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let a = &#123;gender:Gender.Male&#125;;</span><br><span class="line">let b = &#123;gender:Gender.Female&#125;;</span><br><span class="line"></span><br><span class="line">console.log(merry( a , b ));</span><br></pre></td></tr></table></figure>
<ul>
<li>代码库<a href="https://github.com/slTrust/ts-study" target="_blank" rel="noopener">https://github.com/slTrust/ts-study</a></li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/TS入门/">TS入门</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2019/01/26/React入门012之React组件示例/" title="React入门012之React组件示例" itemprop="url">React入门012之React组件示例</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stevin" target="_blank" itemprop="author">Stevin</a>
		
  <p class="article-time">
    <time datetime="2019-01-26T12:09:09.000Z" itemprop="datePublished"> Published 2019-01-26</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="React组件"><a href="#React组件" class="headerlink" title="React组件"></a>React组件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cd ~/Desktop</span><br><span class="line"></span><br><span class="line">create-react-app react-button-demo</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cd react-button-demo</span><br><span class="line"></span><br><span class="line">yarn start</span><br></pre></td></tr></table></figure>
<p>styles.css</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.App &#123;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.App button&#123;</span><br><span class="line">  border:1px solid red;</span><br><span class="line">  background: red;;</span><br><span class="line">  color:#fff;</span><br><span class="line">  padding:3px 10px;</span><br><span class="line">  box-shadow: 0 0 3px rgba(0,0,0,0.2);</span><br><span class="line">  margin:4px;</span><br><span class="line">  border-radius: 4px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>App.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import &apos;./App.css&apos;;</span><br><span class="line"></span><br><span class="line">class App extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div className=&quot;App&quot;&gt;</span><br><span class="line">        &lt;button&gt;Hello&lt;/button&gt;</span><br><span class="line">        &lt;button&gt;Hello&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default App;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>此时如果 另一个组件里想用这个 button 唯一的办法就是把 样式copy一份 button</p>
</blockquote>
<blockquote>
<p>第一个组件 BoxOne</p>
</blockquote>
<p>BoxOne.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import &apos;./BoxOne.css&apos;;</span><br><span class="line"></span><br><span class="line">class BoxOne extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    console.log(this.props.firstLine)</span><br><span class="line">    return (</span><br><span class="line">        &lt;div className=&quot;BoxOne&quot;&gt;</span><br><span class="line">            &lt;div&gt; &#123;this.props.firstLine || &apos;Box 1&apos;&#125; &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default BoxOne;</span><br></pre></td></tr></table></figure>
<p>BoxOne.css</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.BoxOne&#123;</span><br><span class="line">    border:1px solid green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>App.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import &apos;./App.css&apos;;</span><br><span class="line"></span><br><span class="line">import BoxOne from &apos;./BoxOne&apos;</span><br><span class="line"></span><br><span class="line">class App extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div className=&quot;App&quot;&gt;</span><br><span class="line">        &lt;button className=&quot;btn&quot;&gt;Hello&lt;/button&gt;</span><br><span class="line">        &lt;button className=&quot;btn&quot;&gt;Hello&lt;/button&gt;</span><br><span class="line">        &lt;BoxOne firstLine=&quot;Hello&quot; /&gt;</span><br><span class="line">        &lt;BoxOne/&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default App;</span><br></pre></td></tr></table></figure>
<blockquote>
<h3 id="组件的好处是什么？"><a href="#组件的好处是什么？" class="headerlink" title="组件的好处是什么？"></a>组件的好处是什么？</h3></blockquote>
<ul>
<li>当你的组件不复杂时 你直接写一遍就好了</li>
<li>但如果组件重复的使用了  100次呢？</li>
<li>如果后期改样式  你是不是得改1000次？</li>
</ul>
<ol>
<li>不需要 ctrl + c / ctrl + v</li>
<li>多处用 一个 标签</li>
<li>要改，只改一个地方</li>
<li>个性化只需要传递参数</li>
</ol>
<h3 id="写一个button组件"><a href="#写一个button组件" class="headerlink" title="写一个button组件"></a>写一个button组件</h3><ul>
<li>src下新建 components 目录</li>
<li>src/components/button.js</li>
</ul>
<p>button.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import &apos;./button.css&apos;</span><br><span class="line">class Button extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;button className=&quot;button2&quot;&gt;&#123;this.props.value&#125;&lt;/button&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Button;</span><br></pre></td></tr></table></figure>
<p>button.css</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">.button2&#123;</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">    height: 32px;</span><br><span class="line">    background: #fff;</span><br><span class="line">    border:1px solid rgba(153,153,153,1);</span><br><span class="line">    border-radius: 4px;</span><br><span class="line">    padding:4px 1em;</span><br><span class="line">    margin:10px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.button2:focus&#123;</span><br><span class="line">    outline: none;</span><br><span class="line">    border-color: black;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>App.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import &apos;./App.css&apos;;</span><br><span class="line">import Button from &apos;./components/button&apos;</span><br><span class="line"></span><br><span class="line">class App2 extends Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div className=&quot;App&quot;&gt;</span><br><span class="line">        &lt;Button value=&quot;按钮&quot;/&gt;</span><br><span class="line">        &lt;Button value=&quot;按钮&quot;/&gt;</span><br><span class="line">        &lt;Button value=&quot;按钮&quot;/&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default App2;</span><br></pre></td></tr></table></figure>
<h3 id="做个涟漪效果"><a href="#做个涟漪效果" class="headerlink" title="做个涟漪效果"></a>做个涟漪效果</h3><p>button.css</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">.button2&#123;</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">    height: 32px;</span><br><span class="line">    background: #fff;</span><br><span class="line">    border:1px solid rgba(153,153,153,1);</span><br><span class="line">    border-radius: 4px;</span><br><span class="line">    padding:4px 1em;</span><br><span class="line">    margin:10px;</span><br><span class="line">    position: relative;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.button2:focus&#123;</span><br><span class="line">    outline: none;</span><br><span class="line">    border-color: black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.button2 &gt; .circle&#123;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    height: 10px;</span><br><span class="line">    width: 10px;</span><br><span class="line">    background: red;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    animation: 1s big;</span><br><span class="line">    position: absolute;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes big&#123;</span><br><span class="line">    0%&#123;</span><br><span class="line">        transform: scale(0.1);</span><br><span class="line">    &#125;</span><br><span class="line">    100%&#123;</span><br><span class="line">        transform: scale(10);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>button.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import &apos;./button.css&apos;</span><br><span class="line"></span><br><span class="line">class Button extends Component &#123;</span><br><span class="line">    constructor(props)&#123;</span><br><span class="line">        super(props);</span><br><span class="line">        this.state = &#123;</span><br><span class="line">            active:false,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    x()&#123;</span><br><span class="line">        this.setState(&#123;</span><br><span class="line">            active:true,</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;button className=&quot;button2&quot;</span><br><span class="line">                onClick=&#123; this.x.bind(this) &#125;</span><br><span class="line">            &gt;</span><br><span class="line">                &#123; this.props.value &#125;</span><br><span class="line">                &#123; (this.state.active === true)?(</span><br><span class="line">                    &lt;span className=&quot;circle&quot;&gt;&lt;/span&gt;</span><br><span class="line">                ):&apos;&apos;&#125;</span><br><span class="line">            &lt;/button&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Button;</span><br></pre></td></tr></table></figure>
<blockquote>
<h3 id="此时我希望涟漪出现的地方是我点击的地方"><a href="#此时我希望涟漪出现的地方是我点击的地方" class="headerlink" title="此时我希望涟漪出现的地方是我点击的地方"></a>此时我希望涟漪出现的地方是我点击的地方</h3></blockquote>
<p>button.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &apos;react&apos;;</span><br><span class="line">import &apos;./button.css&apos;</span><br><span class="line"></span><br><span class="line">class Button extends Component &#123;</span><br><span class="line">    constructor(props)&#123;</span><br><span class="line">        super(props);</span><br><span class="line">        this.state = &#123;</span><br><span class="line">            active:false,</span><br><span class="line">            deltaX:0,</span><br><span class="line">            deltaY:0</span><br><span class="line">        &#125;</span><br><span class="line">        // 当前节点</span><br><span class="line">        this.myRef = React.createRef();</span><br><span class="line">    &#125;</span><br><span class="line">    x(event)&#123;</span><br><span class="line">        // 事件源</span><br><span class="line">        console.log(event);</span><br><span class="line">        // 距离左边的距离</span><br><span class="line">        console.log(event.clientX);</span><br><span class="line">        // 距离上面的距离</span><br><span class="line">        console.log(event.clientY);</span><br><span class="line">        // 当前按钮的引用</span><br><span class="line">        console.log(this.myRef);</span><br><span class="line">        // 获取边缘属性</span><br><span class="line">        console.log(this.myRef.current.getBoundingClientRect())</span><br><span class="line">        // </span><br><span class="line">        let &#123;x,y&#125; = this.myRef.current.getBoundingClientRect();</span><br><span class="line">        let &#123;clientX,clientY&#125; = event;</span><br><span class="line">        let deltaX = clientX - x - 5;</span><br><span class="line">        let deltaY = clientY - y - 5;</span><br><span class="line">        // 得到点击的位置</span><br><span class="line">        console.log(deltaX,deltaY);</span><br><span class="line"></span><br><span class="line">        this.setState(&#123;</span><br><span class="line">            active:true, </span><br><span class="line">            deltaX:deltaX,</span><br><span class="line">            deltaY:deltaY</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    y()&#123;</span><br><span class="line">        this.setState(&#123;</span><br><span class="line">            active:false</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;button ref=&#123;this.myRef&#125; className=&quot;button2&quot;</span><br><span class="line">                onClick=&#123; this.x.bind(this) &#125;</span><br><span class="line">            &gt;</span><br><span class="line">                &lt;span className=&quot;value&quot;&gt;&#123; this.props.value &#125;&lt;/span&gt;</span><br><span class="line">               </span><br><span class="line">                &#123; (this.state.active === true)?(</span><br><span class="line">                    &lt;span className=&quot;circle&quot; onAnimationEnd=&#123; this.y.bind(this) &#125; style=&#123;&#123;left:this.state.deltaX,top:this.state.deltaY&#125;&#125;&gt;&lt;/span&gt;</span><br><span class="line">                ):&apos;&apos;&#125;</span><br><span class="line">            &lt;/button&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Button;</span><br></pre></td></tr></table></figure>
<p>button.css</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">.button2&#123;</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">    height: 32px;</span><br><span class="line">    background: #fff;</span><br><span class="line">    border:1px solid rgba(153,153,153,1);</span><br><span class="line">    border-radius: 4px;</span><br><span class="line">    padding:4px 1em;</span><br><span class="line">    margin:10px;</span><br><span class="line">    position: relative;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.button2:focus&#123;</span><br><span class="line">    outline: none;</span><br><span class="line">    border-color: black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.button2 &gt; .circle&#123;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    height: 10px;</span><br><span class="line">    width: 10px;</span><br><span class="line">    background: #ddd;</span><br><span class="line">    opacity: 0.5;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    /* 结束后不恢复原状 */</span><br><span class="line">    animation: 1s big forwards;</span><br><span class="line">    position: absolute;</span><br><span class="line">    z-index: 0;</span><br><span class="line">&#125;</span><br><span class="line">.button2 &gt; .value&#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    z-index: 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes big&#123;</span><br><span class="line">    0%&#123;</span><br><span class="line">        transform: scale(0.1);</span><br><span class="line">    &#125;</span><br><span class="line">    100%&#123;</span><br><span class="line">        transform: scale(10);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><a href="项目地址">https://github.com/slTrust/React-study</a></li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/React入门/">React入门</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <a class="extend prev" rel="prev" href="/page/21/"><span></span>Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/20/">20</a><a class="page-number" href="/page/21/">21</a><span class="page-number current">22</span><a class="page-number" href="/page/23/">23</a><a class="page-number" href="/page/24/">24</a><span class="space">&hellip;</span><a class="page-number" href="/page/53/">53</a><a class="extend next" rel="next" href="/page/23/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  


  

  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/oak/" title="oak">oak<sup>71</sup></a></li>
			
		
			
				<li><a href="/tags/前端知识点/" title="前端知识点">前端知识点<sup>43</sup></a></li>
			
		
			
				<li><a href="/tags/java/" title="java">java<sup>37</sup></a></li>
			
		
			
				<li><a href="/tags/Node后端/" title="Node后端">Node后端<sup>36</sup></a></li>
			
		
			
				<li><a href="/tags/M06/" title="M06">M06<sup>29</sup></a></li>
			
		
			
				<li><a href="/tags/fullstack/" title="fullstack">fullstack<sup>27</sup></a></li>
			
		
			
				<li><a href="/tags/M07/" title="M07">M07<sup>27</sup></a></li>
			
		
			
				<li><a href="/tags/python/" title="python">python<sup>26</sup></a></li>
			
		
			
				<li><a href="/tags/M08/" title="M08">M08<sup>25</sup></a></li>
			
		
			
				<li><a href="/tags/ReactWheels/" title="ReactWheels">ReactWheels<sup>24</sup></a></li>
			
		
			
				<li><a href="/tags/M04/" title="M04">M04<sup>22</sup></a></li>
			
		
			
				<li><a href="/tags/M03/" title="M03">M03<sup>20</sup></a></li>
			
		
			
				<li><a href="/tags/M02/" title="M02">M02<sup>17</sup></a></li>
			
		
			
				<li><a href="/tags/React入门/" title="React入门">React入门<sup>17</sup></a></li>
			
		
			
				<li><a href="/tags/TS入门/" title="TS入门">TS入门<sup>16</sup></a></li>
			
		
			
				<li><a href="/tags/CSS/" title="CSS">CSS<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/ES6速学/" title="ES6速学">ES6速学<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/M01/" title="M01">M01<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/vue/" title="vue">vue<sup>8</sup></a></li>
			
		
			
				<li><a href="/tags/mongodb/" title="mongodb">mongodb<sup>7</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">Links</p>
    <ul>
        
          <li>
            
            	<a href="https://github.com/slTrust/" target="_blank" title="Github">Github</a>
            
          </li>
        
          <li>
            
            	<a href="https://huangheping.com/" target="_blank" title="个人网站">个人网站</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">Weibo</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=&verifier=b3593ceb&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Larry Page in Google. <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/2176287895" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2021 
		
		<a href="/about" target="_blank" title="Stevin">Stevin</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>












<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
