
 <!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
  
    <title>Almost</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Stevin">
    

    
    <meta property="og:type" content="website">
<meta property="og:title" content="Almost">
<meta property="og:url" content="http://yoursite.com/page/39/index.html">
<meta property="og:site_name" content="Almost">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Almost">

    
    <link rel="alternative" href="/atom.xml" title="Almost" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>
</html>
  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="Almost" title="Almost"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Almost">Almost</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:yoursite.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/07/25/P014_01_python生成器进阶及生成器表达式、列表推导式/" title="P014_01_python生成器进阶及生成器表达式、列表推导式" itemprop="url">P014_01_python生成器进阶及生成器表达式、列表推导式</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stevin" target="_blank" itemprop="author">Stevin</a>
		
  <p class="article-time">
    <time datetime="2018-07-25T06:23:38.000Z" itemprop="datePublished"> Published 2018-07-25</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="生成器回顾"><a href="#生成器回顾" class="headerlink" title="生成器回顾"></a>生成器回顾</h3><blockquote>
<p>双下方法 ： 很少直接调用的方法。一般情况下，是通过其他语法触发的</p>
</blockquote>
<h4 id="next"><a href="#next" class="headerlink" title="next()"></a>next()</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#娃哈哈%i</span><br><span class="line">def wahaha():</span><br><span class="line">    for i in range(2000000):</span><br><span class="line">        yield &apos;娃哈哈%s&apos;%i</span><br><span class="line"></span><br><span class="line"># wahaha是一个生成器函数</span><br><span class="line">g = wahaha()</span><br><span class="line"></span><br><span class="line">#我们获取它的内容明显不该 这样</span><br><span class="line"># g.__next__()</span><br><span class="line"></span><br><span class="line">print(next(g))</span><br><span class="line">print(next(g))</span><br><span class="line">print(next(g))</span><br><span class="line">print(next(g))</span><br></pre></td></tr></table></figure>
<h4 id="send"><a href="#send" class="headerlink" title="send()"></a>send()</h4><blockquote>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">def generator():</span><br><span class="line">    print(123)</span><br><span class="line">    content = yield 1</span><br><span class="line">    print(&apos;=======&apos;,content)</span><br><span class="line">    print(456)</span><br><span class="line">    yield 2</span><br><span class="line"></span><br><span class="line"># 返回生成器对象</span><br><span class="line">g = generator() </span><br><span class="line"></span><br><span class="line"># 返回第一个yield 后的值 1</span><br><span class="line">ret = g.__next__()</span><br><span class="line">print(&apos;***&apos;,ret)</span><br><span class="line"></span><br><span class="line"># 给上一个  yield传递一个值</span><br><span class="line">ret = g.send(&apos;hello&apos;)   #send的效果和next一样</span><br><span class="line">print(&apos;***&apos;,ret)</span><br><span class="line"></span><br><span class="line">结果：</span><br><span class="line">123</span><br><span class="line">*** 1</span><br><span class="line">======= hello</span><br><span class="line">456</span><br><span class="line">*** 2</span><br></pre></td></tr></table></figure>
<h4 id="send和-next的区别"><a href="#send和-next的区别" class="headerlink" title="send和 next的区别"></a>send和 next的区别</h4><ul>
<li>相同点：都可以让生成器向下走一步</li>
<li>异同点： send 可以给一个值，这个值作为上一个 yield 的整体的结果返回</li>
</ul>
<blockquote>
<p>使用send的注意事项:</p>
</blockquote>
<ol>
<li>第一次使用生成器的时候,必须要用next获取下一个值(因为send是给上一个yield 设置结果，而第一次的时候没有上一个yield)</li>
<li>最后一个yield不能接受外部的值(因为后面没有 yield 了)</li>
</ol>
<blockquote>
<p>为啥第一次不能用send() </p>
</blockquote>
<p>因为会报错！！！详情请看 <a href="https://www.zhihu.com/question/28105502" target="_blank" rel="noopener">为什么python的yield第一次不能用send发送数据？</a></p>
<h4 id="经典练习"><a href="#经典练习" class="headerlink" title="经典练习"></a>经典练习</h4><blockquote>
<p>求移动平均值</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&apos;&apos;&apos;</span><br><span class="line">10 =&gt; 10</span><br><span class="line">10 20 =&gt; 15</span><br><span class="line">10 20 30 =&gt; 20</span><br><span class="line">10 20 30 10 =&gt; 17.5</span><br><span class="line">avg =sum/count</span><br><span class="line">&apos;&apos;&apos;</span><br><span class="line">def xxx():</span><br><span class="line">    sum = 0</span><br><span class="line">    count = 0</span><br><span class="line">    num = 0</span><br><span class="line">    avg = 0</span><br><span class="line">    while True:</span><br><span class="line">        # num = yield # 接受一个10</span><br><span class="line">        sum += num  # 10</span><br><span class="line">        count += 1  # 1</span><br><span class="line">        avg = sum/count</span><br><span class="line">        num = yield avg</span><br><span class="line"></span><br><span class="line">avg_g = xxx()</span><br><span class="line"></span><br><span class="line">avg_g.__next__()</span><br><span class="line">avg_g.send(10)</span><br><span class="line">avg_g.send(20)</span><br><span class="line">avg_g.send(30)</span><br><span class="line">avg_g.send(10)</span><br><span class="line"></span><br><span class="line">结果：</span><br><span class="line">0.0</span><br><span class="line">5.0</span><br><span class="line">10.0</span><br><span class="line">15.0</span><br></pre></td></tr></table></figure>
<blockquote>
<p>移动平均值优化</p>
</blockquote>
<p>需求就是不要第一次调用next(),因为对使用者没有意义</p>
<p>提示：装饰器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">def init(func):</span><br><span class="line">    def inner(*args,**kwargs):</span><br><span class="line">        g = func(*args,**kwargs)</span><br><span class="line">        g.__next__()</span><br><span class="line">        return g</span><br><span class="line">    return inner</span><br><span class="line"></span><br><span class="line">@init</span><br><span class="line">def xxx():</span><br><span class="line">    sum = 0</span><br><span class="line">    count = 0</span><br><span class="line">    num = 0</span><br><span class="line">    avg = 0</span><br><span class="line">    while True:</span><br><span class="line">        # num = yield # 接受一个10</span><br><span class="line">        sum += num  # 10</span><br><span class="line">        count += 1  # 1</span><br><span class="line">        avg = sum/count</span><br><span class="line">        num = yield avg</span><br><span class="line"></span><br><span class="line">avg_g = xxx()</span><br><span class="line"></span><br><span class="line">res = avg_g.send(10)</span><br><span class="line">print(res)</span><br><span class="line">res = avg_g.send(20)</span><br><span class="line">print(res)</span><br><span class="line">res = avg_g.send(30)</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这个效果就是 预激活装饰器</p>
</blockquote>
<h4 id="python3新增知识点"><a href="#python3新增知识点" class="headerlink" title="python3新增知识点"></a>python3新增知识点</h4><p>先看如下例子:把a,b里面的字符一个一个的返回</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">def xxx():</span><br><span class="line">    a = &apos;abc&apos;</span><br><span class="line">    b = &apos;123&apos;</span><br><span class="line"></span><br><span class="line">    for i in a:</span><br><span class="line">        yield i</span><br><span class="line">    for i in b:</span><br><span class="line">        yield i</span><br><span class="line"></span><br><span class="line">g = xxx()</span><br><span class="line"></span><br><span class="line">for i in g:</span><br><span class="line">    print(i)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">结果：</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure>
<p>添加 yield from</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">def xxx():</span><br><span class="line">    a = &apos;abc&apos;</span><br><span class="line">    b = &apos;123&apos;</span><br><span class="line"></span><br><span class="line">    yield from a</span><br><span class="line">    yield from b</span><br><span class="line"></span><br><span class="line">g = xxx()</span><br><span class="line"></span><br><span class="line">for i in g:</span><br><span class="line">    print(i)</span><br><span class="line"></span><br><span class="line">结果：</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="yield-from-的作用就是："><a href="#yield-from-的作用就是：" class="headerlink" title="yield from 的作用就是："></a>yield from 的作用就是：</h4></blockquote>
<p>从一个容器类型里取得值不需要一个一个取而是集体返回</p>
<h3 id="各种表达式推到式"><a href="#各种表达式推到式" class="headerlink" title="各种表达式推到式"></a>各种表达式推到式</h3><h4 id="列表推到式"><a href="#列表推到式" class="headerlink" title="列表推到式"></a>列表推到式</h4><p>10个鸡蛋的列表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&apos;&apos;&apos;</span><br><span class="line">eggList = []</span><br><span class="line">for i in range(10):</span><br><span class="line">    eggList.append(&quot;鸡蛋%s&quot;%i)</span><br><span class="line"></span><br><span class="line">print(eggList)</span><br><span class="line">&apos;&apos;&apos;</span><br><span class="line"></span><br><span class="line"># 一句话代替上面的效果</span><br><span class="line">eggList2 = [&quot;鸡蛋%s&quot;%i for i in range(10)] #列表推到式</span><br><span class="line">print(eggList2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[i for i in range(10)] # [0,1,2,3,4,5,6,7,8,9]</span><br><span class="line"></span><br><span class="line">[i*i for i in range(10)] # [0,1,4,9,16,25,36,49,64,81]</span><br></pre></td></tr></table></figure>
<h4 id="生成器表达式"><a href="#生成器表达式" class="headerlink" title="生成器表达式"></a>生成器表达式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">g = ( i for i in range(10) )</span><br><span class="line">print(g) #注意这是生成器</span><br></pre></td></tr></table></figure>
<blockquote>
<p>列表推导式和生成器表达式的区别</p>
</blockquote>
<ul>
<li>括号不一样</li>
<li>返回值不同，生成器表达式几乎不占用内存</li>
</ul>
<blockquote>
<p>一道面试题</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">g = ( i for i in range(10) )</span><br><span class="line"></span><br><span class="line">发生了什么：</span><br><span class="line">1.跟函数定义一样什么也不执行</span><br><span class="line">2.直到 g.__next__() 时，里面的循环才走一次</span><br></pre></td></tr></table></figure>
<h4 id="各种推导式"><a href="#各种推导式" class="headerlink" title="各种推导式"></a>各种推导式</h4><p>公式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[每一个元素 for 元素 in 可迭代数据类型]</span><br><span class="line">[满足条件元素 for 元素 in 可迭代数据类型 if 元素相关条件判断]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>30以内被3整除的数</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[i for i in range(30) if i%3 == 0]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>30以内被3整除的数的平方</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[i*i for i in range(30) if i%3 == 0]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>找到多重嵌套列表内名字包含e字母 超过两个的</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">names = [</span><br><span class="line">    [&apos;ae&apos;,&apos;ee&apos;,&apos;eve&apos;,&apos;even&apos;],</span><br><span class="line">    [&apos;xx&apos;,&apos;xe&apos;,&apos;egg&apos;,&apos;ele&apos;]</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">[name for lst in names for name in lst if name.count(&apos;e&apos;)==2 ]</span><br></pre></td></tr></table></figure>
<blockquote>
<h5 id="字典推导式"><a href="#字典推导式" class="headerlink" title="字典推导式"></a>字典推导式</h5></blockquote>
<p>将一个字典的key和value颠倒</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xx = &#123;&apos;a&apos;:10,&apos;b&apos;:22&#125;</span><br><span class="line"></span><br><span class="line">xx2 = &#123; xx[k]:k for k in xx&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<h5 id="集合推导式"><a href="#集合推导式" class="headerlink" title="集合推导式"></a>集合推导式</h5></blockquote>
<p>计算列表中每个值的平方，在带去重功能</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">squared = &#123;x**2 for x in [1, -1, 2]&#125;</span><br><span class="line">print(squared)</span><br><span class="line"># set([1, 4])</span><br></pre></td></tr></table></figure>
<h3 id="面试题详解"><a href="#面试题详解" class="headerlink" title="面试题详解"></a>面试题详解</h3><blockquote>
<p>面试题1</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">def demo():</span><br><span class="line">    for i in range(4):</span><br><span class="line">        yield i</span><br><span class="line"></span><br><span class="line">g = demo()</span><br><span class="line">g1 = ( i for i in g)</span><br><span class="line">g2 = ( i for i in g1)</span><br><span class="line"></span><br><span class="line">print(list(g1))</span><br><span class="line">print(list(g2))</span><br><span class="line"></span><br><span class="line">结果：</span><br><span class="line">[0,1,2,3]</span><br><span class="line">[]</span><br><span class="line"></span><br><span class="line">前5行啥都没干</span><br><span class="line">直到print(list(g1)) 时才从g中生成到g1 ,但是g1是一个生成器 在list(g1)时把g1里的值已经取走了</span><br><span class="line"></span><br><span class="line">所以到print(list(g2))的时候 是个空列表</span><br></pre></td></tr></table></figure>
<blockquote>
<p>面试题2</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">def add(n,i):</span><br><span class="line">    return n+i</span><br><span class="line"></span><br><span class="line">def test():</span><br><span class="line">    for i in range(4):</span><br><span class="line">        yield i</span><br><span class="line"></span><br><span class="line">g = test()</span><br><span class="line">for n in [1,10,5]:</span><br><span class="line">    g =( add(n,i) for i in g)</span><br><span class="line"></span><br><span class="line">print(list(g))</span><br><span class="line"></span><br><span class="line">解析：</span><br><span class="line">第一步</span><br><span class="line">n = 1 </span><br><span class="line">g= (add(n,i) for i in g)</span><br><span class="line">n = 10 </span><br><span class="line">g= (add(n,i) for i in g)</span><br><span class="line">n = 5</span><br><span class="line">g= (add(n,i) for i in g)</span><br><span class="line">第二步--》换元法</span><br><span class="line">n = 1 </span><br><span class="line">g= (add(n,i) for i in test())</span><br><span class="line">n = 10 </span><br><span class="line">g= (add(n,i) for i in (add(n,i) for i in test()))</span><br><span class="line">第三步--》换元法</span><br><span class="line">n = 5</span><br><span class="line">g= (add(n,i) for i in (add(n,i) for i in (add(n,i) for i in test())) )</span><br><span class="line">第四步带入 n =5  0,1,2,3</span><br><span class="line">(add(n,i) for i in (add(n,i) for i in (add(n,i) for i in (0,1,2,3))))</span><br><span class="line"></span><br><span class="line">n = 5</span><br><span class="line">(add(n,i) for i in (add(n,i) for i in (5,6,7,8)))</span><br><span class="line">n = 5</span><br><span class="line">(add(n,i) for i in (10,11,12,13))</span><br><span class="line"></span><br><span class="line">(15,16,17,18)</span><br></pre></td></tr></table></figure>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/fullstack/">fullstack</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/07/24/P013_01_python迭代器和生成器/" title="P013_01_python迭代器" itemprop="url">P013_01_python迭代器</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stevin" target="_blank" itemprop="author">Stevin</a>
		
  <p class="article-time">
    <time datetime="2018-07-24T11:42:30.000Z" itemprop="datePublished"> Published 2018-07-24</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="迭代器初识"><a href="#迭代器初识" class="headerlink" title="迭代器初识"></a>迭代器初识</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a = [1,2,3]</span><br><span class="line"># 索引</span><br><span class="line"># 循环for</span><br><span class="line"></span><br><span class="line">for i in a:</span><br><span class="line">    print(i)</span><br><span class="line"></span><br><span class="line">for k in dic:</span><br><span class="line">    pass</span><br></pre></td></tr></table></figure>
<ul>
<li>list</li>
<li>dic</li>
<li>str</li>
<li>set</li>
<li>tuple</li>
<li>f = open()文件</li>
<li>range()</li>
<li>enumerate</li>
</ul>
<h3 id="迭代器的概念"><a href="#迭代器的概念" class="headerlink" title="迭代器的概念"></a>迭代器的概念</h3><blockquote>
<p>先来一个小知识点，查看一个对象可用的方法 dir</p>
</blockquote>
<p>dir(对象)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(dir([])) #告诉我列表拥有的方法</span><br><span class="line">print(dir(&#123;&#125;)) #告诉我字典拥有的方法</span><br><span class="line">print(dir(&apos;&apos;)) #告诉我字符串拥有的方法</span><br><span class="line">print(dir(range(10))) #告诉我range(10)拥有的方法</span><br></pre></td></tr></table></figure>
<blockquote>
<p>我们知道数组相加如下</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[1] + [2] # [1,2]</span><br><span class="line">实际上就是调用  [1].__add__([2])</span><br></pre></td></tr></table></figure>
<blockquote>
<p>找这些能被for循环使用的方法的交集</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 取这些可被for循环的数据类型的交集</span><br><span class="line">ret = set(dir([]))&amp;set(dir(&#123;&#125;))&amp;set(dir(&apos;&apos;))&amp;set(dir(range(10)))</span><br><span class="line">print(ret)  #iterable</span><br></pre></td></tr></table></figure>
<p>只要能被for循环的数据类型，就一定有<strong>iter</strong>方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">print(&apos;__iter__&apos; in dir(int))</span><br><span class="line">print(&apos;__iter__&apos; in dir(bool))</span><br><span class="line">print(&apos;__iter__&apos; in dir(list))</span><br><span class="line">print(&apos;__iter__&apos; in dir(dict))</span><br><span class="line">print(&apos;__iter__&apos; in dir(set))</span><br><span class="line">print(&apos;__iter__&apos; in dir(tuple))</span><br><span class="line">print(&apos;__iter__&apos; in dir(enumerate([])))</span><br><span class="line">print(&apos;__iter__&apos; in dir(range(1)))</span><br><span class="line"></span><br><span class="line">结果：</span><br><span class="line">False</span><br><span class="line">False</span><br><span class="line">True</span><br><span class="line">True</span><br><span class="line">True</span><br><span class="line">True</span><br><span class="line">True</span><br><span class="line">True</span><br></pre></td></tr></table></figure>
<h4 id="一个列表执行了iter-之后的返回值就是一个迭代器"><a href="#一个列表执行了iter-之后的返回值就是一个迭代器" class="headerlink" title="一个列表执行了iter()之后的返回值就是一个迭代器"></a>一个列表执行了<strong>iter</strong>()之后的返回值就是一个迭代器</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(dir([]))</span><br><span class="line">print(dir([].__iter__()))</span><br><span class="line">print(set(dir([].__iter__())) - set(dir([])))</span><br><span class="line">print([1,&apos;a&apos;,&apos;bbb&apos;].__iter__().__length_hint__())  #元素个数</span><br></pre></td></tr></table></figure>
<p>再看双下划线 next方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">l = [1,2,3]</span><br><span class="line">iterator = l.__iter__()</span><br><span class="line">print(iterator.__next__()) # 1</span><br><span class="line">print(iterator.__next__()) # 2</span><br><span class="line">print(iterator.__next__()) # 3</span><br><span class="line">print(iterator.__next__()) # 报错</span><br><span class="line"></span><br><span class="line">[].__iter__() 迭代器  -- &gt; __next__  #通过next就可以从迭代器中一个一个的取值</span><br></pre></td></tr></table></figure>
<blockquote>
<p>迭代器要点：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Iterable  可迭代的    -- &gt; __iter__  #只要含有__iter__方法的都是可迭代的</span><br><span class="line"> </span><br><span class="line">只要含有__iter__方法的都是可迭代的 —— 可迭代协议</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">l = [1,2,3,4]</span><br><span class="line">for i in l.__iter__():</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure>
<h4 id="迭代器的概念-1"><a href="#迭代器的概念-1" class="headerlink" title="迭代器的概念"></a>迭代器的概念</h4><blockquote>
<p>迭代器协议 —— 内部含有<strong>next</strong>和<strong>iter</strong>方法的就是迭代器</p>
</blockquote>
<h4 id="迭代器协议和可迭代协议"><a href="#迭代器协议和可迭代协议" class="headerlink" title="迭代器协议和可迭代协议"></a>迭代器协议和可迭代协议</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">可以被for循环的都是可迭代的</span><br><span class="line">可迭代的内部都有__iter__方法</span><br><span class="line">只要是迭代器 一定可迭代</span><br><span class="line">可迭代的.__iter__()方法就可以得到一个迭代器</span><br><span class="line">迭代器中的__next__()方法可以一个一个的获取值</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">for循环其实就是在使用迭代器</span><br><span class="line">iterator</span><br><span class="line">可迭代对象</span><br><span class="line">直接给你内存地址</span><br><span class="line">print([].__iter__())</span><br><span class="line">print(range(10))</span><br></pre></td></tr></table></figure>
<h4 id="for循环的本质"><a href="#for循环的本质" class="headerlink" title="for循环的本质"></a>for循环的本质</h4><blockquote>
<p>只有 是可迭代对象的时候 才能用for<br>当我们遇到一个新的变量，不确定能不能for循环的时候，就判断它是否可迭代</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">for i in l:</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line"># for循环的本质就是迭代器</span><br><span class="line">#iterator = l.__iter__()</span><br><span class="line">#iterator.__next__()</span><br></pre></td></tr></table></figure>
<h4 id="迭代器的好处："><a href="#迭代器的好处：" class="headerlink" title="迭代器的好处："></a>迭代器的好处：</h4><ul>
<li>从容器类型中一个一个的取值，会把所有的值都取到。</li>
<li>节省内存空间<br>  迭代器并不会在内存中再占用一大块内存，<br>  而是随着循环 每次生成一个<br>  每次next每次给我一个</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">range(10000000000000000)  # 并不是立即生成，否则很浪费内存空间</span><br><span class="line"></span><br><span class="line">list(range(10000000000000000)) # 估计内存炸了，把迭代器转为列表</span><br></pre></td></tr></table></figure>
<h3 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h3><p>本质是个迭代器</p>
<h4 id="生成器函数"><a href="#生成器函数" class="headerlink" title="生成器函数"></a>生成器函数</h4><blockquote>
<p>1.我们先实现一个普通方法</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">def generator():</span><br><span class="line">    print(1)</span><br><span class="line">    return &apos;a&apos;</span><br><span class="line"></span><br><span class="line">xxx = generator()</span><br><span class="line">print(xxx)</span><br><span class="line"></span><br><span class="line">结果</span><br><span class="line">1</span><br><span class="line">a</span><br></pre></td></tr></table></figure>
<blockquote>
<p>2.yield关键字</p>
</blockquote>
<p>将刚刚的return 换成 yield</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">def generator():</span><br><span class="line">    print(1)</span><br><span class="line">    yield &apos;a&apos;</span><br><span class="line"></span><br><span class="line">xxx = generator()</span><br><span class="line">print(xxx)</span><br><span class="line"></span><br><span class="line">结果：</span><br><span class="line">&lt;generator object generator at 0x000000000238C518&gt;</span><br><span class="line"></span><br><span class="line">------------------------------------------------------------</span><br><span class="line">print(xxx.__next__())</span><br><span class="line">结果：</span><br><span class="line">1</span><br><span class="line">a</span><br></pre></td></tr></table></figure>
<p>####　什么是生成器</p>
<ul>
<li>只要含有yield关键字的函数都是生成器函数</li>
<li>yield不能和return共用而且需要写在函数内部</li>
<li>函数内部有yield关键字，这个函数执行返回的结果就是生成器，并且不会执行函数内部代码</li>
</ul>
<blockquote>
<h4 id="生成器函数-：-执行之后会得到一个生成器作为返回值"><a href="#生成器函数-：-执行之后会得到一个生成器作为返回值" class="headerlink" title="生成器函数 ： 执行之后会得到一个生成器作为返回值"></a>生成器函数 ： 执行之后会得到一个生成器作为返回值</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">def xxx():</span><br><span class="line">    print(&apos;====&gt;a&apos;)</span><br><span class="line">    yield 1</span><br><span class="line">    print(&apos;====&gt;b&apos;)</span><br><span class="line">    yield 2</span><br><span class="line">    print(&apos;====&gt;c&apos;)</span><br><span class="line">    yield 3</span><br><span class="line">    print(&apos;====&gt;end&apos;)</span><br><span class="line"></span><br><span class="line">g=xxx()</span><br><span class="line"></span><br><span class="line">print(g.__next__()) # 返回第一次yield关键字后面的值</span><br><span class="line">print(g.__next__()) # 返回第二次yield关键字后面的值</span><br><span class="line">print(g.__next__()) # 返回第三次yield关键字后面的值</span><br><span class="line">print(g.__next__()) # 报错 </span><br><span class="line"></span><br><span class="line">====&gt;a</span><br><span class="line">1</span><br><span class="line">====&gt;b</span><br><span class="line">2</span><br><span class="line">====&gt;c</span><br><span class="line">3</span><br><span class="line">====&gt;end</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;D:/python_code/py20180718/001.py&quot;, line 18, in &lt;module&gt;</span><br><span class="line">    print(g.__next__())</span><br><span class="line">StopIteration</span><br></pre></td></tr></table></figure>
<blockquote>
<p>需求打印 200,0000次 哇哈哈1==》哇哈哈2000000，而我现在只要50个</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#娃哈哈%i</span><br><span class="line">def wahaha():</span><br><span class="line">    for i in range(2000000):</span><br><span class="line">        yield &apos;娃哈哈%s&apos;%i</span><br><span class="line"></span><br><span class="line">g = wahaha()</span><br><span class="line">count = 0</span><br><span class="line">for i in g:</span><br><span class="line">    count +=1</span><br><span class="line">    if count &gt; 50:</span><br><span class="line">        break</span><br><span class="line">    print(&apos;```````````&apos;+i+&apos;`````````````&apos;)</span><br></pre></td></tr></table></figure>
<h4 id="生成器真的省内存吗？"><a href="#生成器真的省内存吗？" class="headerlink" title="生成器真的省内存吗？"></a>生成器真的省内存吗？</h4><blockquote>
<p>碰巧前面我们刚学过如何测试效率和装饰器，正好拿来练习！！！</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">import time</span><br><span class="line"></span><br><span class="line">def test(func):</span><br><span class="line">    def inner(*args,**kwargs):</span><br><span class="line">        start_time = time.time()</span><br><span class="line">        res = func(*args,**kwargs)</span><br><span class="line">        end_time = time.time()</span><br><span class="line">        print(&quot;测试效率:&quot;, end_time - start_time)</span><br><span class="line">        return res</span><br><span class="line">    return inner</span><br><span class="line"></span><br><span class="line">@test</span><br><span class="line">def getList(n):</span><br><span class="line">    l1 = list(range(n))</span><br><span class="line">@test</span><br><span class="line">def getGenerator(n):</span><br><span class="line">    for i in range(n):</span><br><span class="line">        yield i</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">getList(100000)</span><br><span class="line">getGenerator(100000)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">结果：</span><br><span class="line">测试效率: 0.004000663757324219</span><br><span class="line">测试效率: 0.0</span><br></pre></td></tr></table></figure>
<blockquote>
<p>分析下就可以知道，列表是将0-99999都生成后放进列表里了，所以用时比较多。<br>而生成器只是封装了算法，每次调用在去调用算法，这样做就可以做到节省内存了。</p>
</blockquote>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/fullstack/">fullstack</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/07/24/P012_01_python装饰器进阶/" title="P012_01_python装饰器进阶" itemprop="url">P012_01_python装饰器进阶</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stevin" target="_blank" itemprop="author">Stevin</a>
		
  <p class="article-time">
    <time datetime="2018-07-24T04:27:01.000Z" itemprop="datePublished"> Published 2018-07-24</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="先来看看一些题外话-一个函数的相关信息"><a href="#先来看看一些题外话-一个函数的相关信息" class="headerlink" title="先来看看一些题外话(一个函数的相关信息)"></a>先来看看一些题外话(一个函数的相关信息)</h3><ul>
<li>name 函数名</li>
<li>doc 函数文档</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def xxx():</span><br><span class="line">    &apos;&apos;&apos;</span><br><span class="line">    一个打印 哈哈哈 的函数</span><br><span class="line">    &apos;&apos;&apos;</span><br><span class="line">    print(&apos;哈哈哈&apos;)</span><br><span class="line"></span><br><span class="line">print(xxx.__name__)  # xxx</span><br><span class="line">print(xxx.__doc__)   # 一个打印 哈哈哈 的函数</span><br></pre></td></tr></table></figure>
<blockquote>
<p>那要是被装饰器的函数呢？</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">def wrapper(func):</span><br><span class="line">    def inner(*args,**kwargs):</span><br><span class="line">        res = func(*args,**kwargs)</span><br><span class="line">        return res</span><br><span class="line">    return inner</span><br><span class="line"></span><br><span class="line">@wrapper</span><br><span class="line">def xxx2():</span><br><span class="line">    &apos;&apos;&apos;</span><br><span class="line">    测试xxx2</span><br><span class="line">    &apos;&apos;&apos;</span><br><span class="line">    print(&apos;HAHA&apos;)</span><br><span class="line"></span><br><span class="line">print(xxx2.__name__) # inner</span><br><span class="line">print(xxx2.__doc__)  # None</span><br></pre></td></tr></table></figure>
<h4 id="wraps模块"><a href="#wraps模块" class="headerlink" title="wraps模块"></a>wraps模块</h4><blockquote>
<p>解决查看函数相关信息的问题</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># step1引入wraps模块</span><br><span class="line">from functools import wraps</span><br><span class="line"></span><br><span class="line">def wrapper(func):</span><br><span class="line">    # step2 使用这个模块的装饰器函数</span><br><span class="line">    @wraps(func)</span><br><span class="line">    def inner(*args,**kwargs):</span><br><span class="line">        res = func(*args,**kwargs)</span><br><span class="line">        return res</span><br><span class="line">    return inner</span><br><span class="line"></span><br><span class="line">@wrapper</span><br><span class="line">def xxx2():</span><br><span class="line">    &apos;&apos;&apos;</span><br><span class="line">    测试xxx2</span><br><span class="line">    &apos;&apos;&apos;</span><br><span class="line">    print(&apos;HAHA&apos;)</span><br><span class="line"></span><br><span class="line">print(xxx2.__name__) # xxx2</span><br><span class="line">print(xxx2.__doc__)  # 测试xxx2</span><br></pre></td></tr></table></figure>
<h3 id="带参数装饰器"><a href="#带参数装饰器" class="headerlink" title="带参数装饰器"></a>带参数装饰器</h3><p>通过布尔值来决定「是否」启动装饰器</p>
<blockquote>
<p>首先装饰器的原理是闭包</p>
</blockquote>
<blockquote>
<p>控制装饰器是否开启的原理就是：在原装饰器的基础上再一次的闭包</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">import time</span><br><span class="line">FLAGE = False # 决定装饰器是否开启的布尔值</span><br><span class="line">def timmer_out(flag):  #接受参数的装饰器用来处理是否开启装饰器</span><br><span class="line">    def timmer(func):</span><br><span class="line">        def inner(*args,**kwargs):</span><br><span class="line">            if flag:</span><br><span class="line">                start = time.time()</span><br><span class="line">                ret = func(*args,**kwargs)</span><br><span class="line">                end = time.time()</span><br><span class="line">                print(end-start)</span><br><span class="line">                return ret</span><br><span class="line">            else:</span><br><span class="line">                ret = func(*args, **kwargs)</span><br><span class="line">                return ret</span><br><span class="line">        return inner</span><br><span class="line">    return timmer</span><br><span class="line">    </span><br><span class="line"># timmer = timmer_out(FLAGE)</span><br><span class="line">@timmer_out(FLAGE)    #wahaha = timmer(wahaha)</span><br><span class="line">def wahaha():</span><br><span class="line">    time.sleep(0.1)</span><br><span class="line">    print(&apos;wahahahahahaha&apos;)</span><br><span class="line"></span><br><span class="line">@timmer_out(FLAGE)</span><br><span class="line">def wahaha2():</span><br><span class="line">    time.sleep(0.1)</span><br><span class="line">    print(&apos;wahahahahahaha2222222&apos;)</span><br><span class="line"></span><br><span class="line">wahaha()</span><br><span class="line">wahaha2()</span><br></pre></td></tr></table></figure>
<h3 id="多个装饰器调用顺序"><a href="#多个装饰器调用顺序" class="headerlink" title="多个装饰器调用顺序"></a>多个装饰器调用顺序</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">def wrapper1(func):</span><br><span class="line">    def inner1():</span><br><span class="line">        print(&apos;wrapper1 ,before func&apos;)</span><br><span class="line">        ret = func()</span><br><span class="line">        print(&apos;wrapper1 ,after func&apos;)</span><br><span class="line">        return ret</span><br><span class="line">    return inner1</span><br><span class="line"></span><br><span class="line">def wrapper2(func):</span><br><span class="line">    def inner2():</span><br><span class="line">        print(&apos;wrapper2 ,before func&apos;)</span><br><span class="line">        ret = func()</span><br><span class="line">        print(&apos;wrapper2 ,after func&apos;)</span><br><span class="line">        return ret</span><br><span class="line">    return inner2</span><br><span class="line"></span><br><span class="line">def wrapper3(func):</span><br><span class="line">    def inner3():</span><br><span class="line">        print(&apos;wrapper3 ,before func&apos;)</span><br><span class="line">        ret = func()</span><br><span class="line">        print(&apos;wrapper3 ,after func&apos;)</span><br><span class="line">        return ret</span><br><span class="line">    return inner3</span><br><span class="line"></span><br><span class="line">@wrapper3</span><br><span class="line">@wrapper2</span><br><span class="line">@wrapper1</span><br><span class="line">def f():</span><br><span class="line">    print(&apos;in f&apos;)</span><br><span class="line">    return &apos;哈哈哈&apos;</span><br><span class="line"></span><br><span class="line">print(f())</span><br><span class="line"></span><br><span class="line">结果：</span><br><span class="line">wrapper3 ,before func</span><br><span class="line">wrapper2 ,before func</span><br><span class="line">wrapper1 ,before func</span><br><span class="line">in f</span><br><span class="line">wrapper1 ,after func</span><br><span class="line">wrapper2 ,after func</span><br><span class="line">wrapper3 ,after func</span><br><span class="line">哈哈哈</span><br></pre></td></tr></table></figure>
<blockquote>
<p>多个装饰器的效果就是「俄罗斯套娃」</p>
</blockquote>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/fullstack/">fullstack</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/07/23/P011_01_python装饰器初识/" title="P011_01_python装饰器初识" itemprop="url">P011_01_python装饰器初识</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stevin" target="_blank" itemprop="author">Stevin</a>
		
  <p class="article-time">
    <time datetime="2018-07-23T13:16:00.000Z" itemprop="datePublished"> Published 2018-07-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="1-零碎知识点"><a href="#1-零碎知识点" class="headerlink" title="1.零碎知识点"></a>1.零碎知识点</h3><h4 id="三目运算符"><a href="#三目运算符" class="headerlink" title="三目运算符"></a>三目运算符</h4><blockquote>
<p>公式： 变量 = 条件返回True的结果  if 条件 else 条件返回False的结果</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = 1</span><br><span class="line">b = 5</span><br><span class="line">c = a if a&gt;b else b # 三元运算</span><br><span class="line">print(c) # 5</span><br></pre></td></tr></table></figure>
<h4 id="time模块"><a href="#time模块" class="headerlink" title="time模块"></a>time模块</h4><ul>
<li>time.time() </li>
<li>time.sleep() 让程序执行到这个位置的时候停一会儿</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import time </span><br><span class="line">time.sleep(5) # 让程序执行到这个位置的时候停一会儿</span><br><span class="line">print(&apos;哈哈哈&apos;)</span><br><span class="line"></span><br><span class="line">print(time.time()) # 1514426720.953799 返回从1970.1.1 0:0:0到现在的 秒</span><br><span class="line"></span><br><span class="line"># 5秒后 打印 哈哈哈</span><br></pre></td></tr></table></figure>
<h3 id="2-装饰器前奏之年终评级测试代码效率"><a href="#2-装饰器前奏之年终评级测试代码效率" class="headerlink" title="2.装饰器前奏之年终评级测试代码效率"></a>2.装饰器前奏之年终评级测试代码效率</h3><blockquote>
<p>1.测试效率</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import time </span><br><span class="line"></span><br><span class="line">def test():</span><br><span class="line">    time.sleep(0.1)</span><br><span class="line">    print(&apos;老板好同事好大家好&apos;)</span><br><span class="line"></span><br><span class="line">def timmer(func):</span><br><span class="line">    start = time.time()</span><br><span class="line">    func()</span><br><span class="line">    end = time.time()</span><br><span class="line">    print(end - start)</span><br><span class="line"></span><br><span class="line"># 测试代码效率</span><br><span class="line">timmer(test)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>2.这样虽然实现了，但是你的同事必须 每次都timmer(xx) /timmer(aa) /timmer(bb)</p>
</blockquote>
<p>我们想要的最终结果就是 直接调用func()</p>
<blockquote>
<p>需求：不想修改函数的调用方式，但是还想在原来函数前后添加功能</p>
</blockquote>
<blockquote>
<h4 id="timmer-就是一个装饰器函数，只是对一个函数，有一些装饰作用"><a href="#timmer-就是一个装饰器函数，只是对一个函数，有一些装饰作用" class="headerlink" title="timmer 就是一个装饰器函数，只是对一个函数，有一些装饰作用"></a>timmer 就是一个装饰器函数，只是对一个函数，有一些装饰作用</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import time </span><br><span class="line"></span><br><span class="line">def test():</span><br><span class="line">    time.sleep(0.1)</span><br><span class="line">    print(&apos;老板好同事好大家好&apos;)</span><br><span class="line"></span><br><span class="line">def timmer(func):</span><br><span class="line">    def inner():</span><br><span class="line">        start = time.time()</span><br><span class="line">        func()</span><br><span class="line">        end = time.time()</span><br><span class="line">        print(end - start)</span><br><span class="line">    return inner</span><br><span class="line"></span><br><span class="line"># 这样的效果就是如下</span><br><span class="line">test = timmer(test)</span><br><span class="line">test()</span><br></pre></td></tr></table></figure>
<h3 id="3-装饰器初识"><a href="#3-装饰器初识" class="headerlink" title="3.装饰器初识"></a>3.装饰器初识</h3><blockquote>
<p>原则：开放封闭原则</p>
</blockquote>
<ul>
<li>开放：对扩展是开放的（在不改变原功能函数调用方式的基础上扩展）</li>
<li>封闭：对修改是封闭的（不修改原功能函数）</li>
</ul>
<h4 id="语法糖"><a href="#语法糖" class="headerlink" title="语法糖"></a>语法糖</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">import time </span><br><span class="line"></span><br><span class="line">def timmer(func):  #装饰器函数</span><br><span class="line">    def inner():</span><br><span class="line">        start = time.time()</span><br><span class="line">        func()</span><br><span class="line">        end = time.time()</span><br><span class="line">        print(end - start)</span><br><span class="line">    return inner</span><br><span class="line"></span><br><span class="line">@timmer          #语法糖 @+装饰器函数</span><br><span class="line">def test():      #被装饰的函数</span><br><span class="line">    time.sleep(0.1)</span><br><span class="line">    print(&apos;老板好同事好大家好&apos;)</span><br><span class="line"></span><br><span class="line"># 直接这样就实现了刚刚的功能</span><br><span class="line"># test = timmer(test) 语法糖就是去掉了这句话</span><br><span class="line">test()</span><br><span class="line"></span><br><span class="line">print(test) #None</span><br></pre></td></tr></table></figure>
<p>为什么最后 test()的结果是None</p>
<ul>
<li>inner没有返回值</li>
</ul>
<p>修改如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import time </span><br><span class="line">def timmer(func):  #装饰器函数</span><br><span class="line">    def inner():</span><br><span class="line">        start = time.time()</span><br><span class="line">        res = func() # 用一个变量保存 func的执行结果</span><br><span class="line">        end = time.time()</span><br><span class="line">        print(end - start)</span><br><span class="line">        return res</span><br><span class="line">    return inner</span><br><span class="line"></span><br><span class="line">@timmer         </span><br><span class="line">def test():     </span><br><span class="line">    time.sleep(0.1)</span><br><span class="line">    print(&apos;老板好同事好大家好&apos;)</span><br><span class="line">    return &apos;老板好&apos;</span><br><span class="line"></span><br><span class="line">test() # &apos;老板好&apos;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>虽然我们简单的实现了装饰器的雏形，但是如果功能函数要接受参会素怎么办？</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import time </span><br><span class="line">def timmer(func):  #装饰器函数</span><br><span class="line">    def inner(a):</span><br><span class="line">        start = time.time()</span><br><span class="line">        res = func(a) # 用一个变量保存 func的执行结果</span><br><span class="line">        end = time.time()</span><br><span class="line">        print(end - start)</span><br><span class="line">        return res</span><br><span class="line">    return inner</span><br><span class="line"></span><br><span class="line">@timmer         </span><br><span class="line">def test(a):     </span><br><span class="line">    time.sleep(0.1)</span><br><span class="line">    print(&apos;老板好同事好大家好&apos;,a)</span><br><span class="line">    return &apos;老板好&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 内部原理</span><br><span class="line"># test = timmer(test) 此时 test = inner</span><br><span class="line"># test(1)  inner(1)</span><br><span class="line"></span><br><span class="line">test(1)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果有两个参数呢？继续傻傻的填参数修改。。。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import time </span><br><span class="line">def timmer(func):  #装饰器函数</span><br><span class="line">    def inner(a,b):</span><br><span class="line">        start = time.time()</span><br><span class="line">        res = func(a,b) # 用一个变量保存 func的执行结果</span><br><span class="line">        end = time.time()</span><br><span class="line">        print(end - start)</span><br><span class="line">        return res</span><br><span class="line">    return inner</span><br><span class="line"></span><br><span class="line">@timmer         </span><br><span class="line">def test(a,b):     </span><br><span class="line">    time.sleep(0.1)</span><br><span class="line">    print(&apos;老板好同事好大家好&apos;,a,b)</span><br><span class="line">    return &apos;老板好&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 内部原理</span><br><span class="line"># test = timmer(test) 此时 test = inner</span><br><span class="line"># test(1,2)  inner(1,2)</span><br><span class="line"></span><br><span class="line">test(1,2)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>我们不知道函数参数有多少或者是什么形式的（万能参数）</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import time </span><br><span class="line">def timmer(func):  #装饰器函数</span><br><span class="line">    def inner(*args,**kwargs):</span><br><span class="line">        start = time.time()</span><br><span class="line">        res = func(*args,**kwargs) # 用一个变量保存 func的执行结果</span><br><span class="line">        end = time.time()</span><br><span class="line">        print(end - start)</span><br><span class="line">        return res</span><br><span class="line">    return inner</span><br><span class="line"></span><br><span class="line">@timmer         </span><br><span class="line">def test(a,b,c):     </span><br><span class="line">    time.sleep(0.1)</span><br><span class="line">    print(&apos;老板好同事好大家好&apos;,a,b)</span><br><span class="line">    return &apos;老板好&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 内部原理</span><br><span class="line"># test = timmer(test) 此时 test = inner</span><br><span class="line"># test(1,2,c=3)  inner(1,2,c=3)</span><br><span class="line"></span><br><span class="line">test(1,2,c=3)</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="去掉所有多余的代码-再看装饰器代码"><a href="#去掉所有多余的代码-再看装饰器代码" class="headerlink" title="去掉所有多余的代码,再看装饰器代码"></a>去掉所有多余的代码,再看装饰器代码</h4></blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">def wrapper(func):  #装饰器函数 func是被装饰的函数</span><br><span class="line">    def inner(*args,**kwargs):</span><br><span class="line">        res = func(*args,**kwargs) # 用一个变量保存 func的执行结果</span><br><span class="line">        return res</span><br><span class="line">    return inner</span><br><span class="line"></span><br><span class="line">@wrapper        # test = wrapper(test)         </span><br><span class="line">def test(a,b,c):     </span><br><span class="line">    time.sleep(0.1)</span><br><span class="line">    print(&apos;老板好同事好大家好&apos;,a,b)</span><br><span class="line">    return &apos;老板好&apos;</span><br></pre></td></tr></table></figure>
<h4 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h4><p>装饰器</p>
<ul>
<li>开发原则：开放封闭原则</li>
<li>装饰器的作用：在不改变原函数的调用方式的情况下，在函数前后添加功能</li>
<li>装饰器的本质：闭包函数</li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/fullstack/">fullstack</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/07/23/P010_01_python命名空间和作用域/" title="P010_01_python命名空间和作用域" itemprop="url">P010_01_python命名空间和作用域</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stevin" target="_blank" itemprop="author">Stevin</a>
		
  <p class="article-time">
    <time datetime="2018-07-23T03:25:58.000Z" itemprop="datePublished"> Published 2018-07-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="函数的命名空间"><a href="#函数的命名空间" class="headerlink" title="函数的命名空间"></a>函数的命名空间</h3><blockquote>
<p>命名空间一共分为三种：</p>
</blockquote>
<ul>
<li>内置命名空间 —— Python解释器<ol>
<li>就是python解释器一启动就可以使用的名字存储在内置命名空间中</li>
<li>内置的名字在启动解释器的时候被加载进内存里<br>print() 、len()、list、tuple等</li>
</ol>
</li>
<li>全局命名空间 —— 我们写的代码但不是函数中的代码<ol>
<li>是在程序从上到下被执行的过程中依次加载进内存的</li>
<li>放置了我们设置的所有变量名和函数名</li>
</ol>
</li>
<li>局部命名空间 —— 函数<ol>
<li>就是函数内部定义的名字</li>
<li>当调用函数的时候，才会产生这个名称空间，随着函数执行的结束，这个命名空间又消失了</li>
</ol>
</li>
</ul>
<blockquote>
<p>注意：</p>
</blockquote>
<ul>
<li>在局部:可以使用全局、内置命名空间中的名字</li>
<li>在全局:可以使用内置命名空间中的名字，但是不能用局部的</li>
<li>在内置:不能使用局部和全局的名字的</li>
</ul>
<h4 id="命名空间的使用"><a href="#命名空间的使用" class="headerlink" title="命名空间的使用"></a>命名空间的使用</h4><blockquote>
<p>全局不能访问局部</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def func():</span><br><span class="line">    a = 1</span><br><span class="line"></span><br><span class="line">func()</span><br><span class="line">print(a) # 报错 a为 func函数内部定义的变量为局部变量，不能在全局中访问</span><br></pre></td></tr></table></figure>
<blockquote>
<p>内置和全局都存在的max方法</p>
</blockquote>
<p>这个非常神似js的作用域链</p>
<ol>
<li>max为系统定义过的</li>
<li>你在全局里重新定义max</li>
<li>调用的时候就会使用全局里定义的(就近原则)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def max(l):</span><br><span class="line">    print(&apos;in max func&apos;)</span><br><span class="line"></span><br><span class="line">print(max([1,2,3]))</span><br></pre></td></tr></table></figure>
<blockquote>
<p>python的关怀</p>
</blockquote>
<ul>
<li>func  –&gt; 函数的内存地址</li>
<li>函数名() 函数的调用</li>
<li>函数的内存地址() 函数的调用</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def xxx():</span><br><span class="line">    print(1)</span><br><span class="line"></span><br><span class="line">print(xxx) # 打印出一个地址  &lt;function xxx at 0x00000000004D2E18&gt;</span><br></pre></td></tr></table></figure>
<p>通过函数名调用明显比 调用形如「0x00000000004D2E18 」的十六进制数表示的内存地址要快。</p>
<p>(在一个班级的环境中：你是选择用人名来产生会话？还是身份证号。)</p>
<blockquote>
<p>xxx函数的调用过程</p>
</blockquote>
<ol>
<li>xxx() 的时候</li>
<li>会现在全局范围内找有没有 xxx的定义，有则调用，反之去它的上一层也就是 内置命名空间，有则调用，反之报错</li>
</ol>
<h3 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h3><h4 id="作用域的种类"><a href="#作用域的种类" class="headerlink" title="作用域的种类"></a>作用域的种类</h4><ul>
<li>全局作用域 —— 作用在全局 —— 内置和全局名字空间中的名字都属于全局作用域  ——globals()<br>  注：永远打印全局的名字</li>
<li>局部作用域 —— 作用在局部 —— 函数（局部名字空间中的名字属于局部作用域） ——locals()<br>  注：输出什么，根据locals所在的位置(根据调用位置来输出结果)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(globals())</span><br><span class="line">print(locals())</span><br><span class="line"># 结果一样  因为都在全局作用域里</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">def func():</span><br><span class="line">    a = 12</span><br><span class="line">    b = 20</span><br><span class="line">    print(locals())</span><br><span class="line">    print(globals())</span><br><span class="line"></span><br><span class="line">func()</span><br><span class="line"># 结果不一样 </span><br><span class="line"># globals在哪里调用都是输出全局作用域里的内容</span><br><span class="line"># locals 这里只有   &#123;&apos;a&apos;: 12 , &apos;b&apos;: 20&#125;</span><br></pre></td></tr></table></figure>
<h4 id="global关键字的作用"><a href="#global关键字的作用" class="headerlink" title="global关键字的作用"></a>global关键字的作用</h4><ol>
<li>对于不可变数据类型，在局部可查看全局作用域中的变量，但是不能直接修改</li>
<li>如果想要修改的时候影响到全局，需要在程序的一开始添加global声明</li>
<li>如果在一个局部（函数）内声明了一个global变量，那么这个变量在局部的所有操作将对全局的变量有效</li>
</ol>
<blockquote>
<p>不修改的情况下可以直接访问全局作用域的变量</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = 1</span><br><span class="line">def xxx():</span><br><span class="line">    print(a)</span><br><span class="line"></span><br><span class="line">xxx() # 1</span><br></pre></td></tr></table></figure>
<blockquote>
<p>修改全局变量</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">a = 1</span><br><span class="line">def xxx():</span><br><span class="line">    a = 2</span><br><span class="line">    print(a)</span><br><span class="line"></span><br><span class="line">xxx() # 2</span><br><span class="line">print(a) # 1</span><br><span class="line"></span><br><span class="line"># 影响到全局</span><br><span class="line">b = 1</span><br><span class="line">def xxx():</span><br><span class="line">    global b</span><br><span class="line">    b = 2</span><br><span class="line">    print(b)</span><br><span class="line"></span><br><span class="line">xxx() # 2</span><br><span class="line">print(b) # 2</span><br></pre></td></tr></table></figure>
<h3 id="函数的嵌套和作用域链"><a href="#函数的嵌套和作用域链" class="headerlink" title="函数的嵌套和作用域链"></a>函数的嵌套和作用域链</h3><h4 id="1-函数的嵌套调用"><a href="#1-函数的嵌套调用" class="headerlink" title="1.函数的嵌套调用"></a>1.函数的嵌套调用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def max(a,b):</span><br><span class="line">    return a if a&gt;b else b</span><br><span class="line"></span><br><span class="line">def the_max(x,y,z):  #函数的嵌套调用</span><br><span class="line">    c = max(x,y)</span><br><span class="line">    return max(c,z)</span><br><span class="line"></span><br><span class="line">print(the_max(1,2,3))</span><br></pre></td></tr></table></figure>
<h4 id="2-函数的嵌套定义"><a href="#2-函数的嵌套定义" class="headerlink" title="2.函数的嵌套定义"></a>2.函数的嵌套定义</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def f1():</span><br><span class="line">    print(&quot;f1&quot;)</span><br><span class="line">    def f2():</span><br><span class="line">        print(&quot;f2&quot;)</span><br><span class="line">    f2()</span><br><span class="line"></span><br><span class="line">f1()</span><br></pre></td></tr></table></figure>
<h4 id="3-函数的作用域链"><a href="#3-函数的作用域链" class="headerlink" title="3.函数的作用域链"></a>3.函数的作用域链</h4><blockquote>
<p>初学让你疑惑的执行结果！！！ 尤其是你会js </p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">def f1():</span><br><span class="line">    a = 1</span><br><span class="line">    def f2():</span><br><span class="line">        a = 2</span><br><span class="line">    f2()</span><br><span class="line">    print(&apos;a in f1 : &apos;,a)</span><br><span class="line"></span><br><span class="line">f1() # a in f1 :  1</span><br><span class="line"></span><br><span class="line">&apos;&apos;&apos;</span><br><span class="line">f2中修改了 局部变量 a 的值</span><br><span class="line">但是 在 f1中a值仍然为 1 </span><br><span class="line"></span><br><span class="line">ps ： js里这个肯定是 2 </span><br><span class="line">&apos;&apos;&apos;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>原来python里要加 nonlocal 声明</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def f1():</span><br><span class="line">    a = 1</span><br><span class="line">    def f2():</span><br><span class="line">        nonlocal a</span><br><span class="line">        a = 2</span><br><span class="line">    f2()</span><br><span class="line">    print(&apos;a in f1 : &apos;,a)</span><br><span class="line"></span><br><span class="line">f1() # a in f1 :  2</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="nonlocal"><a href="#nonlocal" class="headerlink" title="nonlocal"></a>nonlocal</h4></blockquote>
<p>首先，要明确 nonlocal 关键字是定义在闭包里面的。请看以下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">x = 0</span><br><span class="line">def outer():</span><br><span class="line">    x = 1</span><br><span class="line">    def inner():</span><br><span class="line">        x = 2</span><br><span class="line">        print(&quot;inner:&quot;, x)</span><br><span class="line"></span><br><span class="line">    inner()</span><br><span class="line">    print(&quot;outer:&quot;, x)</span><br><span class="line"> </span><br><span class="line">outer()</span><br><span class="line">print(&quot;global:&quot;, x)</span><br><span class="line"></span><br><span class="line">结果：</span><br><span class="line">inner: 2</span><br><span class="line">outer: 1</span><br><span class="line">global: 0</span><br></pre></td></tr></table></figure>
<p>现在，在闭包里面加入nonlocal关键字进行声明：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">x = 0</span><br><span class="line">def outer():</span><br><span class="line">    x = 1</span><br><span class="line">    def inner():</span><br><span class="line">        nonlocal x</span><br><span class="line">        x = 2</span><br><span class="line">        print(&quot;inner:&quot;, x)</span><br><span class="line"></span><br><span class="line">    inner()</span><br><span class="line">    print(&quot;outer:&quot;, x)</span><br><span class="line"> </span><br><span class="line">outer()</span><br><span class="line">print(&quot;global:&quot;, x)</span><br><span class="line"></span><br><span class="line">结果：</span><br><span class="line">inner: 2</span><br><span class="line">outer: 2</span><br><span class="line">global: 0</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="区别：一个函数里面嵌套了一个函数。当使用-nonlocal-时，就声明了该变量不只在嵌套函数inner（）里面才有效，-而是在整个大函数里面都有效。"><a href="#区别：一个函数里面嵌套了一个函数。当使用-nonlocal-时，就声明了该变量不只在嵌套函数inner（）里面才有效，-而是在整个大函数里面都有效。" class="headerlink" title="区别：一个函数里面嵌套了一个函数。当使用 nonlocal 时，就声明了该变量不只在嵌套函数inner（）里面才有效， 而是在整个大函数里面都有效。"></a>区别：一个函数里面嵌套了一个函数。当使用 nonlocal 时，就声明了该变量不只在嵌套函数inner（）里面才有效， 而是在整个大函数里面都有效。</h4></blockquote>
<p>我们在看 global</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">x = 0</span><br><span class="line">def outer():</span><br><span class="line">    x = 1</span><br><span class="line">    def inner():</span><br><span class="line">        global x</span><br><span class="line">        x = 2</span><br><span class="line">        print(&quot;inner:&quot;, x)</span><br><span class="line"></span><br><span class="line">    inner()</span><br><span class="line">    print(&quot;outer:&quot;, x)</span><br><span class="line"> </span><br><span class="line">outer()</span><br><span class="line">print(&quot;global:&quot;, x)</span><br><span class="line"></span><br><span class="line">结果：</span><br><span class="line">inner: 2</span><br><span class="line">outer: 1</span><br><span class="line">global: 2</span><br></pre></td></tr></table></figure>
<p>结论：global 是对整个环境下的变量起作用，而不是对函数类的变量起作用。</p>
<h4 id="4-函数的本质"><a href="#4-函数的本质" class="headerlink" title="4.函数的本质"></a>4.函数的本质</h4><ol>
<li><p>可以被引用</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def func():</span><br><span class="line">    print(&apos;in func&apos;)</span><br><span class="line"></span><br><span class="line">f = func</span><br><span class="line">print(f)</span><br></pre></td></tr></table></figure>
</li>
<li><p>可以被当作容器类型的元素</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">def f1():</span><br><span class="line">    print(&apos;f1&apos;)</span><br><span class="line"></span><br><span class="line">def f2():</span><br><span class="line">    print(&apos;f2&apos;)</span><br><span class="line"></span><br><span class="line">def f3():</span><br><span class="line">    print(&apos;f3&apos;)</span><br><span class="line"></span><br><span class="line">l = [f1,f2,f3]</span><br><span class="line">d = &#123;&apos;f1&apos;:f1,&apos;f2&apos;:f2,&apos;f3&apos;:f3&#125;</span><br><span class="line">#调用</span><br><span class="line">l[0]()</span><br><span class="line">d[&apos;f2&apos;]()</span><br></pre></td></tr></table></figure>
</li>
<li><p>可以当作的参数和返回值</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def func():</span><br><span class="line">    print(123)</span><br><span class="line"></span><br><span class="line">def wahaha(f):</span><br><span class="line">    f()</span><br><span class="line">    return f           #函数名可以作为函数的返回值</span><br><span class="line"></span><br><span class="line">qqxing = wahaha(func)   # 函数名可以作为函数的参数</span><br><span class="line">qqxing()</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="5-闭包"><a href="#5-闭包" class="headerlink" title="5.闭包"></a>5.闭包</h4><blockquote>
<p>嵌套函数，内部函数调用外部函数的变量</p>
</blockquote>
<ol>
<li><p>常用方式</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def func():</span><br><span class="line">    name = &apos;eva&apos;</span><br><span class="line">    def inner():</span><br><span class="line">        print(name)</span><br><span class="line">    return inner</span><br><span class="line"></span><br><span class="line">f = func()</span><br><span class="line">f()</span><br></pre></td></tr></table></figure>
</li>
<li><p>判断闭包函数的方法 closure</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">#输出的__closure__有cell元素 ：是闭包函数</span><br><span class="line">def func():</span><br><span class="line">    name = &apos;eva&apos;</span><br><span class="line">    def inner():</span><br><span class="line">        print(name)</span><br><span class="line">    print(inner.__closure__)</span><br><span class="line">    return inner</span><br><span class="line"></span><br><span class="line">f = func()</span><br><span class="line">f()</span><br><span class="line"></span><br><span class="line">结果：</span><br><span class="line">(&lt;cell at 0x0000000001ECA4C8: str object at 0x0000000001DCB1B8&gt;,)</span><br><span class="line">eva</span><br><span class="line">-------------------------华丽的分割线--------------------------------------------------------------</span><br><span class="line">#输出的__closure__为None ：不是闭包函数</span><br><span class="line">name = &apos;egon&apos;</span><br><span class="line">def func2():</span><br><span class="line">    def inner():</span><br><span class="line">        print(name)</span><br><span class="line">    print(inner.__closure__)</span><br><span class="line">    return inner</span><br><span class="line"></span><br><span class="line">f2 = func2()</span><br><span class="line">f2()</span><br><span class="line"></span><br><span class="line">结果：</span><br><span class="line">None</span><br><span class="line">egon</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>闭包嵌套</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">def wrapper():</span><br><span class="line">    money = 1000</span><br><span class="line">    def func():</span><br><span class="line">        name = &apos;eva&apos;</span><br><span class="line">        def inner():</span><br><span class="line">            print(name,money)</span><br><span class="line">        return inner</span><br><span class="line">    return func</span><br><span class="line"></span><br><span class="line">f = wrapper()</span><br><span class="line">i = f()</span><br><span class="line">i()</span><br><span class="line"></span><br><span class="line">结果：</span><br><span class="line">eva 1000</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>闭包函数获取网络应用</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">from urllib.request import urlopen</span><br><span class="line"></span><br><span class="line">def index():</span><br><span class="line">    url = &quot;http://www.xiaohua100.cn/index.html&quot;</span><br><span class="line">    def get():</span><br><span class="line">        return urlopen(url).read()</span><br><span class="line">    return get</span><br><span class="line"></span><br><span class="line">xiaohua = index()</span><br><span class="line">content = xiaohua()</span><br><span class="line">print(content)</span><br></pre></td></tr></table></figure>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/fullstack/">fullstack</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/07/22/P009_01_python函数/" title="P009_01_python函数" itemprop="url">P009_01_python函数</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stevin" target="_blank" itemprop="author">Stevin</a>
		
  <p class="article-time">
    <time datetime="2018-07-22T13:13:49.000Z" itemprop="datePublished"> Published 2018-07-22</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="详情请参考之前写的知识总结"><a href="#详情请参考之前写的知识总结" class="headerlink" title="详情请参考之前写的知识总结"></a>详情请参考之前写的知识总结</h3><p>Python004函数</p>
<h3 id="快捷知识点"><a href="#快捷知识点" class="headerlink" title="快捷知识点"></a>快捷知识点</h3><p>函数参数的顺序</p>
<blockquote>
<p>位置参数,*args,默认参数,**kwargs</p>
</blockquote>
<h3 id="一道恶心的题"><a href="#一道恶心的题" class="headerlink" title="一道恶心的题"></a>一道恶心的题</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def xx(a = []):</span><br><span class="line">    a.append(1)</span><br><span class="line">    print(a)</span><br></pre></td></tr></table></figure>
<p>调用方式一：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">xx()</span><br><span class="line">xx()</span><br><span class="line">xx()</span><br><span class="line">xx()</span><br><span class="line"></span><br><span class="line">结果</span><br><span class="line">[1]</span><br><span class="line">[1,1]</span><br><span class="line">[1,1,1]</span><br><span class="line">[1,1,1,1]</span><br></pre></td></tr></table></figure>
<p>调用方式二：</p>
<p>xx()<br>xx([]) # 传递了参数<br>xx()<br>xx()</p>
<p>结果<br>[1]<br>[1]<br>[1,1]<br>[1,1,1]</p>
<blockquote>
<p>如果默认参数的值是一个可变数据类型，那么每次调用函数的时候,如果不传就公用这个数据类型的资源</p>
</blockquote>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/fullstack/">fullstack</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/07/22/P008_01_python文件操作/" title="P008_01_python文件操作" itemprop="url">P008_01_python文件操作</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stevin" target="_blank" itemprop="author">Stevin</a>
		
  <p class="article-time">
    <time datetime="2018-07-22T09:10:01.000Z" itemprop="datePublished"> Published 2018-07-22</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="文件处理"><a href="#文件处理" class="headerlink" title="文件处理"></a>文件处理</h3><h4 id="1-只读-和-读写"><a href="#1-只读-和-读写" class="headerlink" title="1.只读 和 读写"></a>1.只读 和 读写</h4><blockquote>
<p>‘r’ 只读模式【默认模式，文件必须存在，不存在则抛出异常】 </p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f = open(&apos;a.txt&apos;,&apos;r&apos;,encoding=&apos;utf-8&apos;)</span><br><span class="line">data = f.read()</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>‘r+’ 读写【可读，可写】</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f = open(&apos;a.txt&apos;,&apos;r+&apos;,encoding=&apos;utf-8&apos;)</span><br><span class="line">data = f.read()</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>
<h4 id="2-只写-和-写读："><a href="#2-只写-和-写读：" class="headerlink" title="2.只写 和 写读："></a>2.只写 和 写读：</h4><blockquote>
<p>‘w’ 只写模式【不可读；不存在则创建；存在则清空内容】</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f = open(&apos;log&apos;,&apos;w&apos;,encoding=&apos;utf-8&apos;)</span><br><span class="line">f.write(&apos;aaa&apos;)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>‘w+’ 写读【可读，可写】</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">f = open(&apos;log&apos;,&apos;w+&apos;,encoding=&apos;utf-8&apos;)</span><br><span class="line">f.write(&apos;aaa&apos;)</span><br><span class="line">print(f.read())</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>
<h4 id="3-追加-和-追加写"><a href="#3-追加-和-追加写" class="headerlink" title="3.追加 和 追加写"></a>3.追加 和 追加写</h4><blockquote>
<p>‘a’ 之追加写模式【不可读；不存在则创建；存在则只追加内容】</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f = open(&apos;log&apos;,&apos;a&apos;,encoding=&apos;utf-8&apos;)</span><br><span class="line">f.write(&apos;aaa&apos;)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>‘a+’ 写读【可读，可写】</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">f = open(&apos;log&apos;,mode=&apos;a+&apos;,encoding=&apos;utf-8&apos;)</span><br><span class="line">f.write(&apos;aaa&apos;)</span><br><span class="line">print(f.read())</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>
<h4 id="4-只写-和-写读"><a href="#4-只写-和-写读" class="headerlink" title="4.只写 和 写读"></a>4.只写 和 写读</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&apos;x&apos;    只写模式【不可读；不存在则创建，存在则报错】</span><br><span class="line"></span><br><span class="line">&apos;x+&apos;    写读【可读，可写】</span><br></pre></td></tr></table></figure>
<h4 id="5-rb、wb、ab、xb的用法："><a href="#5-rb、wb、ab、xb的用法：" class="headerlink" title="5.rb、wb、ab、xb的用法："></a>5.rb、wb、ab、xb的用法：</h4><ol>
<li><p>对于非文本文件，我们只能使用b模式，”b”表示以字节的方式操作（而所有文件也都是以字节的形式存储的，使用这种模式无需考虑文本文件的字符编码、图片文件的jgp格式、视频文件的avi格式）</p>
</li>
<li><p>以b方式打开时，读取到的内容是字节类型，写入时也需要提供字节类型，不能指定编码</p>
</li>
</ol>
<blockquote>
<p>b模式写入的时候如果是汉字就得转换为进制码</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">f = open(&apos;log&apos;,mode=&apos;rb&apos;)</span><br><span class="line">f.read() # 进制码</span><br><span class="line">f.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">f = open(&apos;log&apos;,mode=&apos;wb&apos;)</span><br><span class="line">f.write(&apos;纠纷&apos;.encode(&apos;utf-8&apos;))</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>
<h4 id="6-操作文件的方法："><a href="#6-操作文件的方法：" class="headerlink" title="6.操作文件的方法："></a>6.操作文件的方法：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">f.read() #读取所有内容,光标移动到文件末尾</span><br><span class="line">f.readline() #读取一行内容,光标移动到第二行首部</span><br><span class="line">f.readlines() #读取每一行内容,存放于列表中</span><br><span class="line"></span><br><span class="line">f.write(&apos;1111\n222\n&apos;) #针对文本模式的写,需要自己写换行符</span><br><span class="line">f.write(&apos;1111\n222\n&apos;.encode(&apos;utf-8&apos;)) #针对b模式的写,需要自己写换行符</span><br><span class="line">f.writelines([&apos;333\n&apos;,&apos;444\n&apos;]) #文件模式</span><br><span class="line">f.writelines([bytes(&apos;333\n&apos;,encoding=&apos;utf-8&apos;),&apos;444\n&apos;.encode(&apos;utf-8&apos;)]) #b模式</span><br><span class="line"></span><br><span class="line">#seek 光标移动到第几个字节的位置</span><br><span class="line">f.seek()    移动到最开始</span><br><span class="line">f.seek(2)   </span><br><span class="line"></span><br><span class="line">#tell    告诉你光标的位置</span><br><span class="line">f.tell()</span><br><span class="line"></span><br><span class="line">#readable    #文件是否可读</span><br><span class="line">f.readable()</span><br></pre></td></tr></table></figure>
<h4 id="7-truncate的用法："><a href="#7-truncate的用法：" class="headerlink" title="7.truncate的用法："></a>7.truncate的用法：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">truncate是截断文件，所有文件的打开方式必须可写，但是不能用w或w+等方式打开，因为那样直接清空文件了，所以truncate要在r+或a或a+等模式下测试效果</span><br></pre></td></tr></table></figure>
<h4 id="8-强大装逼打开和关闭文件结合代码："><a href="#8-强大装逼打开和关闭文件结合代码：" class="headerlink" title="8.强大装逼打开和关闭文件结合代码："></a>8.强大装逼打开和关闭文件结合代码：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">with open(&apos;log&apos;,mode=&apos;r+&apos;,encoding=&apos;utf-8&apos;) as f：</span><br><span class="line">    f.read()</span><br><span class="line"># 自动调用close()</span><br></pre></td></tr></table></figure>
<p>对俩文件执行读写操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">with open(&apos;log&apos;,mode=&apos;r+&apos;,encoding=&apos;utf-8&apos;) as f1, open(&apos;log&apos;,mode=&apos;w+&apos;,encoding=&apos;utf-8&apos;) as f2：</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意实现 with后的读写操作必须在with的缩进内</p>
</blockquote>
<h4 id="9-修改文件"><a href="#9-修改文件" class="headerlink" title="9.修改文件"></a>9.修改文件</h4><blockquote>
<p>需求：实现文件的编辑效果</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">with open(&apos;小护士班主任&apos;,encoding=&apos;utf-8&apos;) as f,open(&apos;小护士班主任.bak&apos;,&apos;w&apos;,encoding=&apos;utf-8&apos;) as f2:</span><br><span class="line">    for line in f:</span><br><span class="line">        if &apos;星儿&apos; in line:  #班主任:星儿</span><br><span class="line">            line = line.replace(&apos;星儿&apos;,&apos;啊娇&apos;)</span><br><span class="line">        #写文件</span><br><span class="line">        f2.write(line) #小护士:金老板</span><br><span class="line"></span><br><span class="line">import os</span><br><span class="line">os.remove(&apos;小护士班主任&apos;) #删除文件</span><br><span class="line">os.rename(&apos;小护士班主任.bak&apos;,&apos;小护士班主任&apos;)  #重命名文件</span><br></pre></td></tr></table></figure>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><blockquote>
<p>打开文件</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#open(&apos;路径&apos;，&apos;打开方式&apos;，&apos;指定编码方式&apos;)</span><br><span class="line"># 打开方式 r w a r+ w+ a+ b</span><br><span class="line">    #r+ 打开文件直接写 和读完再写</span><br><span class="line"># 编码方式 —— utf-8</span><br></pre></td></tr></table></figure>
<blockquote>
<p>操作文件</p>
</blockquote>
<ul>
<li>读</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">read 一次性读</span><br><span class="line">readlines 一次性读</span><br><span class="line">readline 一行一行读</span><br><span class="line">    不知道在哪儿结束</span><br><span class="line">    视频 图片 rb bytes 按照字节读</span><br><span class="line">    </span><br><span class="line">for循环 —— 最好！！！</span><br></pre></td></tr></table></figure>
<ul>
<li>写</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">write</span><br></pre></td></tr></table></figure>
<ul>
<li>光标 —— 文件指针</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">seek _ 指定光标移动到某个位置</span><br><span class="line">tell _ 获取光标当前的位置</span><br><span class="line">truncate _ 截取文件</span><br></pre></td></tr></table></figure>
<blockquote>
<p>关闭文件</p>
</blockquote>
<ul>
<li>close</li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/fullstack/">fullstack</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/07/22/P007_01_python集合和深浅拷贝/" title="P007_01_python集合和深浅拷贝" itemprop="url">P007_01_python集合和深浅拷贝</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stevin" target="_blank" itemprop="author">Stevin</a>
		
  <p class="article-time">
    <time datetime="2018-07-22T04:21:41.000Z" itemprop="datePublished"> Published 2018-07-22</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h3><blockquote>
<p>1.集合的创建</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">set1 = set(&#123;1,2,&apos;barry&apos;&#125;)</span><br><span class="line">set2 = &#123;1,2,&apos;barry&apos;&#125;</span><br><span class="line">print(set1,type(set1))</span><br><span class="line">print(set2,type(set2))</span><br><span class="line">结果：</span><br><span class="line">&#123;1, 2, &apos;barry&apos;&#125; &lt;class &apos;set&apos;&gt;</span><br><span class="line">&#123;1, 2, &apos;barry&apos;&#125; &lt;class &apos;set&apos;&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>2.集合的增</p>
</blockquote>
<ul>
<li>直接增加</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;&apos;alex&apos;,&apos;wusir&apos;,&apos;ritian&apos;,&apos;egon&apos;,&apos;barry&apos;&#125;</span><br><span class="line">set1.add(&apos;女神&apos;)</span><br><span class="line">print(set1)  #增加，无序的。</span><br><span class="line">结果：</span><br><span class="line">&#123;&apos;ritian&apos;, &apos;alex&apos;, &apos;egon&apos;, &apos;女神&apos;, &apos;wusir&apos;, &apos;barry&apos;&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>迭代增加</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;&apos;alex&apos;,&apos;wusir&apos;,&apos;ritian&apos;,&apos;egon&apos;,&apos;barry&apos;&#125;</span><br><span class="line">set1.update(&apos;A&apos;)</span><br><span class="line">print(set1)</span><br><span class="line">set1.update(&apos;老师&apos;)</span><br><span class="line">print(set1)</span><br><span class="line">set1.update([1,2,3])</span><br><span class="line">print(set1)</span><br><span class="line">结果：</span><br><span class="line">&#123;&apos;egon&apos;, &apos;alex&apos;, &apos;ritian&apos;, &apos;wusir&apos;, &apos;A&apos;, &apos;barry&apos;&#125;</span><br><span class="line">&#123;&apos;egon&apos;, &apos;老&apos;, &apos;alex&apos;, &apos;ritian&apos;, &apos;wusir&apos;, &apos;A&apos;, &apos;师&apos;, &apos;barry&apos;&#125;</span><br><span class="line">&#123;&apos;egon&apos;, &apos;老&apos;, 1, 2, 3, &apos;alex&apos;, &apos;ritian&apos;, &apos;wusir&apos;, &apos;A&apos;, &apos;师&apos;, &apos;barry&apos;&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>3.集合的删</p>
</blockquote>
<ul>
<li>3.1 .remove(‘元素’)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;&apos;alex&apos;,&apos;wusir&apos;,&apos;ritian&apos;,&apos;egon&apos;,&apos;barry&apos;&#125;</span><br><span class="line">set1.remove(&apos;alex&apos;) #删除一个元素</span><br><span class="line">print(set1)</span><br><span class="line">结果：&#123;&apos;wusir&apos;, &apos;ritian&apos;, &apos;barry&apos;, &apos;egon&apos;&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>3.2 .pop()</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;&apos;alex&apos;,&apos;wusir&apos;,&apos;ritian&apos;,&apos;egon&apos;,&apos;barry&apos;&#125;</span><br><span class="line">set1.pop() #随机删除一个元素</span><br><span class="line">print(set1)</span><br><span class="line">结果：</span><br><span class="line">&#123;&apos;alex&apos;, &apos;ritian&apos;, &apos;wusir&apos;, &apos;egon&apos;&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>3.3 .clear()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;&apos;alex&apos;,&apos;wusir&apos;,&apos;ritian&apos;,&apos;egon&apos;,&apos;barry&apos;&#125;</span><br><span class="line">set1.clear() #清空集合</span><br><span class="line">print(set1)</span><br><span class="line">结果：</span><br><span class="line">set()</span><br></pre></td></tr></table></figure>
</li>
<li><p>3.4 del</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;&apos;alex&apos;,&apos;wusir&apos;,&apos;ritian&apos;,&apos;egon&apos;,&apos;barry&apos;&#125;</span><br><span class="line">del set1 #删除集合，会报错</span><br><span class="line">print(set1)</span><br><span class="line">结果：报错</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>4.集合之大招</p>
</blockquote>
<ul>
<li>4.1交集 （&amp; 或者 intersection）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;1,2,3,4,5&#125;</span><br><span class="line">set2 = &#123;4,5,6,7,8&#125;</span><br><span class="line">print(set1 &amp; set2)</span><br><span class="line">print(set1.intersection(set2))</span><br><span class="line">结果：</span><br><span class="line">&#123;4, 5&#125;</span><br><span class="line">&#123;4, 5&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>4.2并集 （| 或者 union）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;1,2,3,4,5&#125;</span><br><span class="line">set2 = &#123;4,5,6,7,8&#125;</span><br><span class="line">print(set1 | set2)</span><br><span class="line">print(set1.union(set2))</span><br><span class="line">结果：&#123;1, 2, 3, 4, 5, 6, 7, 8&#125;</span><br><span class="line">&#123;1, 2, 3, 4, 5, 6, 7, 8&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>4.3差集 （- 或difference）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;1,2,3,4,5&#125;</span><br><span class="line">set2 = &#123;4,5,6,7,8&#125;</span><br><span class="line">print(set&#123;1, 2, 3&#125;1 - set2)</span><br><span class="line">print(set1.difference(set2))</span><br><span class="line">结果：</span><br><span class="line">&#123;1, 2, 3&#125;</span><br><span class="line">&#123;1, 2, 3&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>4.4反交集（^ 或者 symmetric_difference）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;1,2,3,4,5&#125;</span><br><span class="line">set2 = &#123;4,5,6,7,8&#125;</span><br><span class="line">print(set1 ^ set2)</span><br><span class="line">print(set1.symmetric_difference(set2))</span><br><span class="line">结果：</span><br><span class="line">&#123;1, 2, 3, 6, 7, 8&#125;</span><br><span class="line">&#123;1, 2, 3, 6, 7, 8&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>4.5子集与超集(&lt; 或者 issubset)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;1,2,3&#125;</span><br><span class="line">set2 = &#123;1,2,3,4,5,6&#125;</span><br><span class="line">print(set1 &lt; set2)</span><br><span class="line">print(set1.issubset(set2))</span><br><span class="line">结果：</span><br><span class="line">True</span><br><span class="line">True</span><br><span class="line"></span><br><span class="line">print(set2 &gt; set1)</span><br><span class="line">print(set2.issuperset(set1))</span><br><span class="line">结果：</span><br><span class="line">True</span><br><span class="line">True</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>5.frozenset不可变集合，让集合变成不可变类型。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = frozenset(&apos;barry&apos;)</span><br><span class="line">print(s,type(s))  </span><br><span class="line"># frozenset(&#123;&apos;a&apos;, &apos;y&apos;, &apos;b&apos;, &apos;r&apos;&#125;) &lt;class &apos;frozenset&apos;&gt;</span><br></pre></td></tr></table></figure>
<h3 id="深浅拷贝"><a href="#深浅拷贝" class="headerlink" title="深浅拷贝"></a>深浅拷贝</h3><p>请参考我之前写的知识点总结《Python021==和 is和深浅拷贝》</p>
<blockquote>
<p>深浅copy的区别</p>
<ol>
<li>对于浅copy来说，第一层创建的是新的内存地址，而从第二层开始，指向的都是同一个内存地址，所以，对于第二层以及更深的层数来说，保持一致性。</li>
</ol>
</blockquote>
<ol start="2">
<li>对于深copy来说，两个是完全独立的，改变任意一个的任何元素（无论多少层），另一个绝对不改变。</li>
</ol>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/fullstack/">fullstack</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/07/22/P006_01_python字符集区别和转换/" title="P006_01_python字符集区别和转换" itemprop="url">P006_01_python字符集区别和转换</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stevin" target="_blank" itemprop="author">Stevin</a>
		
  <p class="article-time">
    <time datetime="2018-07-22T04:12:06.000Z" itemprop="datePublished"> Published 2018-07-22</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h3><blockquote>
<p>ascii：</p>
</blockquote>
<ul>
<li>A：00000010 8位 一个字节</li>
</ul>
<blockquote>
<p>unicode：</p>
</blockquote>
<ul>
<li>A：00000000 00000001 00000010 00000100 32位 四个字节</li>
<li>中：00000000 00000001 00000010 00000100 32位 四个字节</li>
</ul>
<blockquote>
<p>utf-8：</p>
<ul>
<li>A：00000110 8位 一个字节</li>
<li>中：00000010 00000110 16位 两个字节<br>gbk：</li>
<li>A：00000110 8位 一个字节</li>
<li>中：00000010 00000110 16位 两个字节</li>
</ul>
</blockquote>
<ol>
<li>各个编码之间的二进制，是不能互相识别的，会产生乱码。</li>
<li>文件的存储，传输，不能是unicode （只能是utf-8 utf-16 gbk gbk2312 ascii等）</li>
</ol>
<p>####　py3：</p>
<ul>
<li>str  在内存中是Unicode编码。</li>
<li>bytes类型，可以是 ascii utf-8 gbk ….</li>
</ul>
<blockquote>
<p>b前缀代表它是bytes类型</p>
</blockquote>
<h4 id="对于英文："><a href="#对于英文：" class="headerlink" title="对于英文："></a>对于英文：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">str：表现形式：s = &apos;alex&apos;</span><br><span class="line">编码方式：010101010 unicode</span><br><span class="line"></span><br><span class="line">bytes：表现形式：s = b&apos;alex&apos;</span><br><span class="line">编码方式：000101010 utf-8 gbk。。。。</span><br></pre></td></tr></table></figure>
<h4 id="对于中文："><a href="#对于中文：" class="headerlink" title="对于中文："></a>对于中文：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">str：表现形式：s = &apos;中国&apos;</span><br><span class="line">编码方式：010101010 unicode</span><br><span class="line">    </span><br><span class="line">bytes： 表现形式：s = b&apos; x\e91\e91\e01\e21\e31\e32&apos;</span><br><span class="line">编码方式：000101010 utf-8 gbk。。。。</span><br><span class="line"></span><br><span class="line">\e91代表一个字节  三个字节代表一个汉字 utf-8里</span><br></pre></td></tr></table></figure>
<h4 id="转换"><a href="#转换" class="headerlink" title="转换"></a>转换</h4><blockquote>
<p>encode 编码，如何将 str ——&gt; bytes</p>
</blockquote>
<p>使用方法：  str.encode(‘utf-8’)</p>
<blockquote>
<p>decode 解码，如何将 bytes——&gt; str</p>
</blockquote>
<p>使用方法：  bytes.decode(‘utf-8’)</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/fullstack/">fullstack</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/07/22/P005_01_python字典dict/" title="P005_01_python字典dict" itemprop="url">P005_01_python字典dict</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stevin" target="_blank" itemprop="author">Stevin</a>
		
  <p class="article-time">
    <time datetime="2018-07-22T03:15:06.000Z" itemprop="datePublished"> Published 2018-07-22</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h3 id="dict"><a href="#dict" class="headerlink" title="dict"></a>dict</h3><blockquote>
<p>神似js里的对象字面量 k/v组成复杂数据类型</p>
</blockquote>
<p>但是有更加让人惊讶的方式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dic = &#123;</span><br><span class="line">    &apos;name&apos;:[&apos;大乔&apos;,&apos;小乔&apos;],</span><br><span class="line">    &apos;py3&apos;:[&#123;&apos;num&apos;:71,&apos;age&apos;:18&#125;],</span><br><span class="line">    True:1,</span><br><span class="line">    (1,2,3):&apos;aaa&apos;,</span><br><span class="line">    2:&apos;周瑜&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>增</li>
</ul>
<p>没有则增加，有则覆盖</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = &#123;&apos;age&apos;:18,&apos;gender&apos;:1&#125;</span><br><span class="line">a[&apos;name&apos;] = &apos;xxx&apos;</span><br><span class="line">a[&apos;age&apos;] = 22</span><br></pre></td></tr></table></figure>
<blockquote>
<p>增的扩展</p>
</blockquote>
<p>有键值对，不做更改，没有才添加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a = &#123;&apos;age&apos;:18,&apos;gender&apos;:1&#125;</span><br><span class="line">a.setdefault(&apos;weight&apos;) # a[&apos;weight&apos;] 的值为None</span><br><span class="line"></span><br><span class="line">a.setdefault(&apos;yy&apos;,2) # a[&apos;yy&apos;] 的值为 2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">如果设置默认值的时候在字典初始化的时候已经有值了 就会用其初始的值</span><br><span class="line">a.setdefault(&apos;gender&apos;,2) # a[&apos;gender&apos;] 的值为 1</span><br></pre></td></tr></table></figure>
<ul>
<li>查</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">info = &#123;&apos;age&apos;:15,name:&apos;aa&apos;&#125;</span><br><span class="line">info[&apos;name&apos;] </span><br><span class="line">info.get(&quot;name&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">----------------------------</span><br><span class="line">注意 如果字典里没有 name字段</span><br><span class="line">a[&apos;name&apos;]就会报错</span><br><span class="line">a.get(&apos;name&apos;) 返回 None</span><br><span class="line"># 返回没有键的情况下返回自定义的值</span><br><span class="line">a.get(&apos;xxxx&apos;,&apos;没有这个键&apos;)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>修改</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">info[&quot;age&quot;] = 10000</span><br><span class="line"></span><br><span class="line">a = &#123;&apos;name&apos;:&apos;aa&apos;,&apos;age&apos;:18,&#125;</span><br><span class="line">b = &#123;&apos;name&apos;:&apos;bb&apos;,&apos;weight&apos;:50&#125;</span><br><span class="line"># 将a的所有键值对 更新到b里 </span><br><span class="line">b.update(a) </span><br><span class="line"># &#123;&apos;name&apos;:&apos;aa&apos;,&apos;age&apos;:18&apos;,weight&apos;:50&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># 删除 info里的 name字段</span><br><span class="line">del info[&quot;name&quot;]</span><br><span class="line"></span><br><span class="line"># pop的删--&gt;按照键去删</span><br><span class="line">info.pop(&apos;name&apos;) # 如果info里没有name字段就会报错</span><br><span class="line"></span><br><span class="line"># 如何删除你不知道存在不存在的键，同时不报错</span><br><span class="line"># 设置返回值</span><br><span class="line">info.pop(&apos;name&apos;,None) # 即使name不存在也不会报错</span><br><span class="line"></span><br><span class="line"># 随机删除 返回值是元组，删除的键值</span><br><span class="line">info.popitem()</span><br><span class="line"></span><br><span class="line"># 整个删除</span><br><span class="line">del info</span><br></pre></td></tr></table></figure>
<ul>
<li>滞空</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = &#123;a:1,b:2&#125;</span><br><span class="line">a.clear()</span><br><span class="line"># &#123;&#125;</span><br></pre></td></tr></table></figure>
<h4 id="字典信息"><a href="#字典信息" class="headerlink" title="字典信息"></a>字典信息</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">info = &#123;a:1,b:2,c:3&#125;</span><br><span class="line"></span><br><span class="line">len(info)</span><br><span class="line"># 3</span><br><span class="line"></span><br><span class="line">info.keys()</span><br><span class="line"># [&apos;a&apos;,&apos;b&apos;,&apos;c&apos;]</span><br><span class="line"></span><br><span class="line">info.values()</span><br><span class="line"># [1,2,3]</span><br></pre></td></tr></table></figure>
<h5 id="items"><a href="#items" class="headerlink" title="items"></a>items</h5><p>返回包含(k,v)元组的列表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">info = &#123;&quot;a&quot;:1,&quot;b&quot;:2&#125;</span><br><span class="line">info.items()</span><br><span class="line"># [(&quot;a&quot;,1),(&quot;b&quot;:2)]</span><br></pre></td></tr></table></figure>
<h5 id="has-key"><a href="#has-key" class="headerlink" title="has_key"></a>has_key</h5><p>查看字典中key是否存在</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">info = &#123;a:1,b:2&#125;</span><br><span class="line">info.has_key(&apos;a&apos;)</span><br><span class="line"># True</span><br></pre></td></tr></table></figure>
<h5 id="字典的遍历"><a href="#字典的遍历" class="headerlink" title="字典的遍历"></a>字典的遍历</h5><blockquote>
<p>info = {a:1,b:2,c:3}</p>
</blockquote>
<ol>
<li>遍历字典的key</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">for key in info.keys():</span><br><span class="line">    print(key)</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>遍历字典的value</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">for val in info.values():</span><br><span class="line">    print(val)</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>遍历字典的</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">for item in info.items():</span><br><span class="line">    print(item)</span><br><span class="line"></span><br><span class="line"># (&quot;a&quot;,1) </span><br><span class="line"># (&quot;b&quot;,2) </span><br><span class="line"># (&quot;c&quot;,3) </span><br><span class="line"></span><br><span class="line">for key,val in info.items():</span><br><span class="line">    print(key)</span><br><span class="line">    print(val)</span><br></pre></td></tr></table></figure>
<h3 id="扩展问题"><a href="#扩展问题" class="headerlink" title="扩展问题"></a>扩展问题</h3><blockquote>
<p>如何实现列表带索引的遍历</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">方法1 比较low的方法是声明个变量然后随着循环递增 很low 不写了</span><br><span class="line"></span><br><span class="line">方法2 </span><br><span class="line">a = [&apos;a&apos;,&apos;b&apos;,&apos;c&apos;]</span><br><span class="line">for i,v in enumerate(a):</span><br><span class="line">    print(i)</span><br><span class="line">    print(v)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>「+ *」</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&quot;abc&quot;+&quot;123&quot;</span><br><span class="line"># &quot;abc123&quot;</span><br><span class="line"></span><br><span class="line">[11,22,33]+[44,55,66]</span><br><span class="line"># [11,22,33,44,55,66]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;-&quot;*3</span><br><span class="line"># &quot;---&quot;</span><br><span class="line"></span><br><span class="line">[11,22,33]*2</span><br><span class="line"># [11,22,33,11,22,33]</span><br></pre></td></tr></table></figure>
<h3 id="内置函数"><a href="#内置函数" class="headerlink" title="内置函数"></a>内置函数</h3><ul>
<li>cmp 比较两个值</li>
<li>len(item) 计算容器中元素个数</li>
<li>max(item) 返回容器中最大的元素</li>
<li>min(item) 返回容器中最小的元素</li>
<li>del(item) 删除变量</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cmp(&quot;hello&quot;,&quot;itcast&quot;)</span><br><span class="line"># -1</span><br><span class="line"></span><br><span class="line">cmp(&quot;itcast&quot;,&quot;hello&quot;)</span><br><span class="line"># 1</span><br><span class="line"></span><br><span class="line">cmp(&quot;hello&quot;,&quot;hello&quot;)</span><br><span class="line"># 0</span><br></pre></td></tr></table></figure>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/fullstack/">fullstack</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <a class="extend prev" rel="prev" href="/page/38/"><span></span>Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/37/">37</a><a class="page-number" href="/page/38/">38</a><span class="page-number current">39</span><a class="page-number" href="/page/40/">40</a><a class="page-number" href="/page/41/">41</a><span class="space">&hellip;</span><a class="page-number" href="/page/51/">51</a><a class="extend next" rel="next" href="/page/40/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  


  

  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/oak/" title="oak">oak<sup>71</sup></a></li>
			
		
			
				<li><a href="/tags/前端知识点/" title="前端知识点">前端知识点<sup>43</sup></a></li>
			
		
			
				<li><a href="/tags/java/" title="java">java<sup>37</sup></a></li>
			
		
			
				<li><a href="/tags/Node后端/" title="Node后端">Node后端<sup>34</sup></a></li>
			
		
			
				<li><a href="/tags/M06/" title="M06">M06<sup>29</sup></a></li>
			
		
			
				<li><a href="/tags/fullstack/" title="fullstack">fullstack<sup>27</sup></a></li>
			
		
			
				<li><a href="/tags/M07/" title="M07">M07<sup>27</sup></a></li>
			
		
			
				<li><a href="/tags/python/" title="python">python<sup>26</sup></a></li>
			
		
			
				<li><a href="/tags/M08/" title="M08">M08<sup>25</sup></a></li>
			
		
			
				<li><a href="/tags/M04/" title="M04">M04<sup>22</sup></a></li>
			
		
			
				<li><a href="/tags/M03/" title="M03">M03<sup>20</sup></a></li>
			
		
			
				<li><a href="/tags/M02/" title="M02">M02<sup>17</sup></a></li>
			
		
			
				<li><a href="/tags/React入门/" title="React入门">React入门<sup>17</sup></a></li>
			
		
			
				<li><a href="/tags/ReactWheels/" title="ReactWheels">ReactWheels<sup>16</sup></a></li>
			
		
			
				<li><a href="/tags/TS入门/" title="TS入门">TS入门<sup>16</sup></a></li>
			
		
			
				<li><a href="/tags/CSS/" title="CSS">CSS<sup>10</sup></a></li>
			
		
			
				<li><a href="/tags/M01/" title="M01">M01<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/vue/" title="vue">vue<sup>8</sup></a></li>
			
		
			
				<li><a href="/tags/ES6速学/" title="ES6速学">ES6速学<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/mongodb/" title="mongodb">mongodb<sup>7</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">Links</p>
    <ul>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="一个面向程序员交流分享的新一代社区">码农圈</a>
            
          </li>
        
          <li>
            
            	<a href="http://wuchong.me" target="_blank" title="Jark&#39;s Blog">Jark&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">Weibo</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=&verifier=b3593ceb&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Larry Page in Google. <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/2176287895" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2020 
		
		<a href="/about" target="_blank" title="Stevin">Stevin</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>












<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
